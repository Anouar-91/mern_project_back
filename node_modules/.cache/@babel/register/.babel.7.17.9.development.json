{"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/main.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _server = require(\"./server\");\n\n(0, _server.launch)({\n  host: 'localhost',\n  protocol: 'http',\n  port: 8080\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaG9zdCIsInByb3RvY29sIiwicG9ydCJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFFQSxvQkFBTztBQUNMQSxFQUFBQSxJQUFJLEVBQUUsV0FERDtBQUVMQyxFQUFBQSxRQUFRLEVBQUUsTUFGTDtBQUdMQyxFQUFBQSxJQUFJLEVBQUU7QUFIRCxDQUFQIiwic291cmNlUm9vdCI6Ii9BcHBsaWNhdGlvbnMvZG9zc2llci9tZXJuX3Byb2plY3RfYXBwMi9zcmMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbGF1bmNoIH0gZnJvbSAnLi9zZXJ2ZXInO1xuXG5sYXVuY2goe1xuICBob3N0OiAnbG9jYWxob3N0JyxcbiAgcHJvdG9jb2w6ICdodHRwJyxcbiAgcG9ydDogODA4MCxcbn0pO1xuIl19","map":{"version":3,"sources":["main.js"],"names":["host","protocol","port"],"mappings":";;AAAA;;AAEA,oBAAO;AACLA,EAAAA,IAAI,EAAE,WADD;AAELC,EAAAA,QAAQ,EAAE,MAFL;AAGLC,EAAAA,IAAI,EAAE;AAHD,CAAP","sourceRoot":"/Applications/dossier/mern_project_app2/src/","sourcesContent":["import { launch } from './server';\n\nlaunch({\n  host: 'localhost',\n  protocol: 'http',\n  port: 8080,\n});\n"]}},"mtime":1651230875437},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.launch = launch;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userRoutes = require('./routes/user.routes');\n\nfunction launch({\n  host,\n  protocol,\n  port\n}) {\n  const application = (0, _express.default)();\n\n  require('./config/db.js');\n\n  application.use(_express.default.json());\n  application.use('/api/user', userRoutes);\n  application.listen(port, () => console.log(`Server started at ${protocol}://${host}:${port}`));\n}\n/* require('dotenv').config({path:'./config/.env'})\n */\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJ1c2VyUm91dGVzIiwicmVxdWlyZSIsImxhdW5jaCIsImhvc3QiLCJwcm90b2NvbCIsInBvcnQiLCJhcHBsaWNhdGlvbiIsInVzZSIsImV4cHJlc3MiLCJqc29uIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ0EsTUFBTUEsVUFBVSxHQUFHQyxPQUFPLENBQUMsc0JBQUQsQ0FBMUI7O0FBRU8sU0FBU0MsTUFBVCxDQUFnQjtBQUFFQyxFQUFBQSxJQUFGO0FBQVFDLEVBQUFBLFFBQVI7QUFBa0JDLEVBQUFBO0FBQWxCLENBQWhCLEVBQTBDO0FBQy9DLFFBQU1DLFdBQVcsR0FBRyx1QkFBcEI7O0FBQ0FMLEVBQUFBLE9BQU8sQ0FBQyxnQkFBRCxDQUFQOztBQUNBSyxFQUFBQSxXQUFXLENBQUNDLEdBQVosQ0FBZ0JDLGlCQUFRQyxJQUFSLEVBQWhCO0FBQ0FILEVBQUFBLFdBQVcsQ0FBQ0MsR0FBWixDQUFnQixXQUFoQixFQUE2QlAsVUFBN0I7QUFFQU0sRUFBQUEsV0FBVyxDQUFDSSxNQUFaLENBQ0VMLElBREYsRUFFRSxNQUFNTSxPQUFPLENBQUNDLEdBQVIsQ0FBYSxxQkFBb0JSLFFBQVMsTUFBS0QsSUFBSyxJQUFHRSxJQUFLLEVBQTVELENBRlI7QUFJRDtBQUlEO0FBQ0EiLCJzb3VyY2VSb290IjoiL0FwcGxpY2F0aW9ucy9kb3NzaWVyL21lcm5fcHJvamVjdF9hcHAyL3NyYy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmNvbnN0IHVzZXJSb3V0ZXMgPSByZXF1aXJlKCcuL3JvdXRlcy91c2VyLnJvdXRlcycpXG5cbmV4cG9ydCBmdW5jdGlvbiBsYXVuY2goeyBob3N0LCBwcm90b2NvbCwgcG9ydCB9KSB7XG4gIGNvbnN0IGFwcGxpY2F0aW9uID0gZXhwcmVzcygpO1xuICByZXF1aXJlKCcuL2NvbmZpZy9kYi5qcycpXG4gIGFwcGxpY2F0aW9uLnVzZShleHByZXNzLmpzb24oKSk7XG4gIGFwcGxpY2F0aW9uLnVzZSgnL2FwaS91c2VyJywgdXNlclJvdXRlcyk7XG5cbiAgYXBwbGljYXRpb24ubGlzdGVuKFxuICAgIHBvcnQsXG4gICAgKCkgPT4gY29uc29sZS5sb2coYFNlcnZlciBzdGFydGVkIGF0ICR7cHJvdG9jb2x9Oi8vJHtob3N0fToke3BvcnR9YCksXG4gICk7XG59XG5cblxuXG4vKiByZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoe3BhdGg6Jy4vY29uZmlnLy5lbnYnfSlcbiAqL1xuXG5cblxuIl19","map":{"version":3,"sources":["server.js"],"names":["userRoutes","require","launch","host","protocol","port","application","use","express","json","listen","console","log"],"mappings":";;;;;;;AAAA;;;;AACA,MAAMA,UAAU,GAAGC,OAAO,CAAC,sBAAD,CAA1B;;AAEO,SAASC,MAAT,CAAgB;AAAEC,EAAAA,IAAF;AAAQC,EAAAA,QAAR;AAAkBC,EAAAA;AAAlB,CAAhB,EAA0C;AAC/C,QAAMC,WAAW,GAAG,uBAApB;;AACAL,EAAAA,OAAO,CAAC,gBAAD,CAAP;;AACAK,EAAAA,WAAW,CAACC,GAAZ,CAAgBC,iBAAQC,IAAR,EAAhB;AACAH,EAAAA,WAAW,CAACC,GAAZ,CAAgB,WAAhB,EAA6BP,UAA7B;AAEAM,EAAAA,WAAW,CAACI,MAAZ,CACEL,IADF,EAEE,MAAMM,OAAO,CAACC,GAAR,CAAa,qBAAoBR,QAAS,MAAKD,IAAK,IAAGE,IAAK,EAA5D,CAFR;AAID;AAID;AACA","sourceRoot":"/Applications/dossier/mern_project_app2/src/","sourcesContent":["import express from 'express';\nconst userRoutes = require('./routes/user.routes')\n\nexport function launch({ host, protocol, port }) {\n  const application = express();\n  require('./config/db.js')\n  application.use(express.json());\n  application.use('/api/user', userRoutes);\n\n  application.listen(\n    port,\n    () => console.log(`Server started at ${protocol}://${host}:${port}`),\n  );\n}\n\n\n\n/* require('dotenv').config({path:'./config/.env'})\n */\n\n\n\n"]}},"mtime":1651230883669},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/routes/user.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nconst router = require(\"express\").Router();\n\nconst authController = require('../controllers/auth.controller');\n\nrouter.post('/register', authController.signUp);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIucm91dGVzLmpzIl0sIm5hbWVzIjpbInJvdXRlciIsInJlcXVpcmUiLCJSb3V0ZXIiLCJhdXRoQ29udHJvbGxlciIsInBvc3QiLCJzaWduVXAiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLE1BQU0sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBUCxDQUFtQkMsTUFBbkIsRUFBZjs7QUFDQSxNQUFNQyxjQUFjLEdBQUdGLE9BQU8sQ0FBQyxnQ0FBRCxDQUE5Qjs7QUFFQUQsTUFBTSxDQUFDSSxJQUFQLENBQVksV0FBWixFQUF5QkQsY0FBYyxDQUFDRSxNQUF4QztBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJQLE1BQWpCIiwic291cmNlUm9vdCI6Ii9BcHBsaWNhdGlvbnMvZG9zc2llci9tZXJuX3Byb2plY3RfYXBwMi9zcmMvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJvdXRlciA9IHJlcXVpcmUoXCJleHByZXNzXCIpLlJvdXRlcigpO1xuY29uc3QgYXV0aENvbnRyb2xsZXIgPSByZXF1aXJlKCcuLi9jb250cm9sbGVycy9hdXRoLmNvbnRyb2xsZXInKVxuXG5yb3V0ZXIucG9zdCgnL3JlZ2lzdGVyJywgYXV0aENvbnRyb2xsZXIuc2lnblVwKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il19","map":{"version":3,"sources":["user.routes.js"],"names":["router","require","Router","authController","post","signUp","module","exports"],"mappings":";;AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,SAAD,CAAP,CAAmBC,MAAnB,EAAf;;AACA,MAAMC,cAAc,GAAGF,OAAO,CAAC,gCAAD,CAA9B;;AAEAD,MAAM,CAACI,IAAP,CAAY,WAAZ,EAAyBD,cAAc,CAACE,MAAxC;AAEAC,MAAM,CAACC,OAAP,GAAiBP,MAAjB","sourceRoot":"/Applications/dossier/mern_project_app2/src/routes/","sourcesContent":["const router = require(\"express\").Router();\nconst authController = require('../controllers/auth.controller')\n\nrouter.post('/register', authController.signUp);\n\nmodule.exports = router;"]}},"mtime":1651230869021},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/controllers/auth.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.signUp = exports.signIn = exports.logout = void 0;\n\nvar _express = require(\"express\");\n\nvar _errors = require(\"../utils/errors.utils\");\n\nconst User = require('../models/user.models');\n\nconst jwt = require('jsonwebtoken'); //equivalent de 3 jours\n\n\nconst maxAge = 3 * 24 * 60 * 60 * 1000; //function qui créer le token en fonction d'une clé de cryptage qu'on aura mis dans variable d'environnemment\n\nconst createToken = id => {\n  return jwt.sign({\n    id\n  }, process.env.TOKEN_SECRET, {\n    expiresIn: maxAge\n  });\n};\n\nconst signUp = async (req, res) => {\n  const {\n    pseudo,\n    email,\n    password\n  } = req.body;\n\n  try {\n    const user = await User.create({\n      pseudo,\n      email,\n      password\n    });\n    res.status(201).json({\n      user: user._id\n    });\n  } catch (err) {\n    const errors = (0, _errors.signUpErrors)(err);\n    res.status(200).send(errors);\n  }\n};\n\nexports.signUp = signUp;\n\nconst signIn = async (req, res) => {\n  const {\n    email,\n    password\n  } = req.body;\n\n  try {\n    //check user exist and compare email with password\n    const user = await User.login(email, password); //create token\n\n    const token = createToken(user._id); //on retourne le token dans les cookies accessible seulement par le serveur\n\n    res.cookie('jwt', token, {\n      httpOnly: true,\n      maxAge\n    });\n    res.status(200).json({\n      user: user._id\n    });\n  } catch (err) {\n    console.log(err);\n    const errors = (0, _errors.signInErrors)(err);\n    return res.status(200).json(errors);\n  }\n};\n\nexports.signIn = signIn;\n\nconst logout = async (req, res) => {\n  res.cookie('jwt', '', {\n    maxAge: 1\n  });\n  res.status(200).json({\n    message: \"disconect\"\n  });\n};\n\nexports.logout = logout;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsImp3dCIsIm1heEFnZSIsImNyZWF0ZVRva2VuIiwiaWQiLCJzaWduIiwicHJvY2VzcyIsImVudiIsIlRPS0VOX1NFQ1JFVCIsImV4cGlyZXNJbiIsInNpZ25VcCIsInJlcSIsInJlcyIsInBzZXVkbyIsImVtYWlsIiwicGFzc3dvcmQiLCJib2R5IiwidXNlciIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJfaWQiLCJlcnIiLCJlcnJvcnMiLCJzZW5kIiwic2lnbkluIiwibG9naW4iLCJ0b2tlbiIsImNvb2tpZSIsImh0dHBPbmx5IiwiY29uc29sZSIsImxvZyIsImxvZ291dCIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFFQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyx1QkFBRCxDQUFwQjs7QUFDQSxNQUFNQyxHQUFHLEdBQUdELE9BQU8sQ0FBQyxjQUFELENBQW5CLEMsQ0FFQTs7O0FBQ0EsTUFBTUUsTUFBTSxHQUFHLElBQUksRUFBSixHQUFTLEVBQVQsR0FBYyxFQUFkLEdBQW1CLElBQWxDLEMsQ0FDQTs7QUFDQSxNQUFNQyxXQUFXLEdBQUlDLEVBQUQsSUFBUTtBQUN4QixTQUFPSCxHQUFHLENBQUNJLElBQUosQ0FBUztBQUFFRCxJQUFBQTtBQUFGLEdBQVQsRUFBaUJFLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxZQUE3QixFQUEyQztBQUM5Q0MsSUFBQUEsU0FBUyxFQUFFUDtBQURtQyxHQUEzQyxDQUFQO0FBR0gsQ0FKRDs7QUFPTyxNQUFNUSxNQUFNLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RDLFFBQU07QUFBRUMsSUFBQUEsTUFBRjtBQUFVQyxJQUFBQSxLQUFWO0FBQWlCQyxJQUFBQTtBQUFqQixNQUE4QkosR0FBRyxDQUFDSyxJQUF4Qzs7QUFDQSxNQUFJO0FBQ0EsVUFBTUMsSUFBSSxHQUFHLE1BQU1sQixJQUFJLENBQUNtQixNQUFMLENBQVk7QUFBRUwsTUFBQUEsTUFBRjtBQUFVQyxNQUFBQSxLQUFWO0FBQWlCQyxNQUFBQTtBQUFqQixLQUFaLENBQW5CO0FBQ0FILElBQUFBLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVILE1BQUFBLElBQUksRUFBRUEsSUFBSSxDQUFDSTtBQUFiLEtBQXJCO0FBQ0gsR0FIRCxDQUlBLE9BQU1DLEdBQU4sRUFBVztBQUNQLFVBQU1DLE1BQU0sR0FBRywwQkFBYUQsR0FBYixDQUFmO0FBQ0FWLElBQUFBLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JLLElBQWhCLENBQXFCRCxNQUFyQjtBQUNIO0FBQ0osQ0FWTTs7OztBQVlBLE1BQU1FLE1BQU0sR0FBRyxPQUFPZCxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTTtBQUFFRSxJQUFBQSxLQUFGO0FBQVNDLElBQUFBO0FBQVQsTUFBc0JKLEdBQUcsQ0FBQ0ssSUFBaEM7O0FBRUEsTUFBSTtBQUNBO0FBQ0EsVUFBTUMsSUFBSSxHQUFHLE1BQU1sQixJQUFJLENBQUMyQixLQUFMLENBQVdaLEtBQVgsRUFBa0JDLFFBQWxCLENBQW5CLENBRkEsQ0FHQTs7QUFDQSxVQUFNWSxLQUFLLEdBQUd4QixXQUFXLENBQUNjLElBQUksQ0FBQ0ksR0FBTixDQUF6QixDQUpBLENBS0E7O0FBQ0FULElBQUFBLEdBQUcsQ0FBQ2dCLE1BQUosQ0FBVyxLQUFYLEVBQWtCRCxLQUFsQixFQUF5QjtBQUFFRSxNQUFBQSxRQUFRLEVBQUUsSUFBWjtBQUFrQjNCLE1BQUFBO0FBQWxCLEtBQXpCO0FBQ0FVLElBQUFBLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVILE1BQUFBLElBQUksRUFBRUEsSUFBSSxDQUFDSTtBQUFiLEtBQXJCO0FBQ0gsR0FSRCxDQVNBLE9BQU9DLEdBQVAsRUFBWTtBQUNSUSxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWVQsR0FBWjtBQUNBLFVBQU1DLE1BQU0sR0FBRywwQkFBYUQsR0FBYixDQUFmO0FBQ0EsV0FBT1YsR0FBRyxDQUFDTyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJHLE1BQXJCLENBQVA7QUFDSDtBQUdKLENBbkJNOzs7O0FBcUJBLE1BQU1TLE1BQU0sR0FBRyxPQUFPckIsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RDQSxFQUFBQSxHQUFHLENBQUNnQixNQUFKLENBQVcsS0FBWCxFQUFrQixFQUFsQixFQUFzQjtBQUFFMUIsSUFBQUEsTUFBTSxFQUFFO0FBQVYsR0FBdEI7QUFDQVUsRUFBQUEsR0FBRyxDQUFDTyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRWEsSUFBQUEsT0FBTyxFQUFFO0FBQVgsR0FBckI7QUFDSCxDQUhNIiwic291cmNlUm9vdCI6Ii9BcHBsaWNhdGlvbnMvZG9zc2llci9tZXJuX3Byb2plY3RfYXBwMi9zcmMvY29udHJvbGxlcnMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVzcG9uc2UgfSBmcm9tICdleHByZXNzJ1xuaW1wb3J0IHsgc2lnblVwRXJyb3JzLCBzaWduSW5FcnJvcnMgfSBmcm9tICcuLi91dGlscy9lcnJvcnMudXRpbHMnXG5cbmNvbnN0IFVzZXIgPSByZXF1aXJlKCcuLi9tb2RlbHMvdXNlci5tb2RlbHMnKVxuY29uc3Qgand0ID0gcmVxdWlyZSgnanNvbndlYnRva2VuJylcblxuLy9lcXVpdmFsZW50IGRlIDMgam91cnNcbmNvbnN0IG1heEFnZSA9IDMgKiAyNCAqIDYwICogNjAgKiAxMDAwXG4vL2Z1bmN0aW9uIHF1aSBjcsOpZXIgbGUgdG9rZW4gZW4gZm9uY3Rpb24gZCd1bmUgY2zDqSBkZSBjcnlwdGFnZSBxdSdvbiBhdXJhIG1pcyBkYW5zIHZhcmlhYmxlIGQnZW52aXJvbm5lbW1lbnRcbmNvbnN0IGNyZWF0ZVRva2VuID0gKGlkKSA9PiB7XG4gICAgcmV0dXJuIGp3dC5zaWduKHsgaWQgfSwgcHJvY2Vzcy5lbnYuVE9LRU5fU0VDUkVULCB7XG4gICAgICAgIGV4cGlyZXNJbjogbWF4QWdlXG4gICAgfSlcbn1cblxuXG5leHBvcnQgY29uc3Qgc2lnblVwID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgeyBwc2V1ZG8sIGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHlcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5jcmVhdGUoeyBwc2V1ZG8sIGVtYWlsLCBwYXNzd29yZCB9KVxuICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7IHVzZXI6IHVzZXIuX2lkIH0pXG4gICAgfVxuICAgIGNhdGNoKGVycikge1xuICAgICAgICBjb25zdCBlcnJvcnMgPSBzaWduVXBFcnJvcnMoZXJyKVxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZChlcnJvcnMpXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3Qgc2lnbkluID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5XG5cbiAgICB0cnkge1xuICAgICAgICAvL2NoZWNrIHVzZXIgZXhpc3QgYW5kIGNvbXBhcmUgZW1haWwgd2l0aCBwYXNzd29yZFxuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5sb2dpbihlbWFpbCwgcGFzc3dvcmQpXG4gICAgICAgIC8vY3JlYXRlIHRva2VuXG4gICAgICAgIGNvbnN0IHRva2VuID0gY3JlYXRlVG9rZW4odXNlci5faWQpXG4gICAgICAgIC8vb24gcmV0b3VybmUgbGUgdG9rZW4gZGFucyBsZXMgY29va2llcyBhY2Nlc3NpYmxlIHNldWxlbWVudCBwYXIgbGUgc2VydmV1clxuICAgICAgICByZXMuY29va2llKCdqd3QnLCB0b2tlbiwgeyBodHRwT25seTogdHJ1ZSwgbWF4QWdlIH0pXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdXNlcjogdXNlci5faWQgfSlcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgIGNvbnN0IGVycm9ycyA9IHNpZ25JbkVycm9ycyhlcnIpXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihlcnJvcnMgKVxuICAgIH1cblxuXG59XG5cbmV4cG9ydCBjb25zdCBsb2dvdXQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICByZXMuY29va2llKCdqd3QnLCAnJywgeyBtYXhBZ2U6IDEgfSk7XG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiBcImRpc2NvbmVjdFwiIH0pXG59XG5cbiJdfQ==","map":{"version":3,"sources":["auth.controller.js"],"names":["User","require","jwt","maxAge","createToken","id","sign","process","env","TOKEN_SECRET","expiresIn","signUp","req","res","pseudo","email","password","body","user","create","status","json","_id","err","errors","send","signIn","login","token","cookie","httpOnly","console","log","logout","message"],"mappings":";;;;;;;AAAA;;AACA;;AAEA,MAAMA,IAAI,GAAGC,OAAO,CAAC,uBAAD,CAApB;;AACA,MAAMC,GAAG,GAAGD,OAAO,CAAC,cAAD,CAAnB,C,CAEA;;;AACA,MAAME,MAAM,GAAG,IAAI,EAAJ,GAAS,EAAT,GAAc,EAAd,GAAmB,IAAlC,C,CACA;;AACA,MAAMC,WAAW,GAAIC,EAAD,IAAQ;AACxB,SAAOH,GAAG,CAACI,IAAJ,CAAS;AAAED,IAAAA;AAAF,GAAT,EAAiBE,OAAO,CAACC,GAAR,CAAYC,YAA7B,EAA2C;AAC9CC,IAAAA,SAAS,EAAEP;AADmC,GAA3C,CAAP;AAGH,CAJD;;AAOO,MAAMQ,MAAM,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA,KAAV;AAAiBC,IAAAA;AAAjB,MAA8BJ,GAAG,CAACK,IAAxC;;AACA,MAAI;AACA,UAAMC,IAAI,GAAG,MAAMlB,IAAI,CAACmB,MAAL,CAAY;AAAEL,MAAAA,MAAF;AAAUC,MAAAA,KAAV;AAAiBC,MAAAA;AAAjB,KAAZ,CAAnB;AACAH,IAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEH,MAAAA,IAAI,EAAEA,IAAI,CAACI;AAAb,KAArB;AACH,GAHD,CAIA,OAAMC,GAAN,EAAW;AACP,UAAMC,MAAM,GAAG,0BAAaD,GAAb,CAAf;AACAV,IAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBK,IAAhB,CAAqBD,MAArB;AACH;AACJ,CAVM;;;;AAYA,MAAME,MAAM,GAAG,OAAOd,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAM;AAAEE,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAsBJ,GAAG,CAACK,IAAhC;;AAEA,MAAI;AACA;AACA,UAAMC,IAAI,GAAG,MAAMlB,IAAI,CAAC2B,KAAL,CAAWZ,KAAX,EAAkBC,QAAlB,CAAnB,CAFA,CAGA;;AACA,UAAMY,KAAK,GAAGxB,WAAW,CAACc,IAAI,CAACI,GAAN,CAAzB,CAJA,CAKA;;AACAT,IAAAA,GAAG,CAACgB,MAAJ,CAAW,KAAX,EAAkBD,KAAlB,EAAyB;AAAEE,MAAAA,QAAQ,EAAE,IAAZ;AAAkB3B,MAAAA;AAAlB,KAAzB;AACAU,IAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEH,MAAAA,IAAI,EAAEA,IAAI,CAACI;AAAb,KAArB;AACH,GARD,CASA,OAAOC,GAAP,EAAY;AACRQ,IAAAA,OAAO,CAACC,GAAR,CAAYT,GAAZ;AACA,UAAMC,MAAM,GAAG,0BAAaD,GAAb,CAAf;AACA,WAAOV,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBG,MAArB,CAAP;AACH;AAGJ,CAnBM;;;;AAqBA,MAAMS,MAAM,GAAG,OAAOrB,GAAP,EAAYC,GAAZ,KAAoB;AACtCA,EAAAA,GAAG,CAACgB,MAAJ,CAAW,KAAX,EAAkB,EAAlB,EAAsB;AAAE1B,IAAAA,MAAM,EAAE;AAAV,GAAtB;AACAU,EAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEa,IAAAA,OAAO,EAAE;AAAX,GAArB;AACH,CAHM","sourceRoot":"/Applications/dossier/mern_project_app2/src/controllers/","sourcesContent":["import { response } from 'express'\nimport { signUpErrors, signInErrors } from '../utils/errors.utils'\n\nconst User = require('../models/user.models')\nconst jwt = require('jsonwebtoken')\n\n//equivalent de 3 jours\nconst maxAge = 3 * 24 * 60 * 60 * 1000\n//function qui créer le token en fonction d'une clé de cryptage qu'on aura mis dans variable d'environnemment\nconst createToken = (id) => {\n    return jwt.sign({ id }, process.env.TOKEN_SECRET, {\n        expiresIn: maxAge\n    })\n}\n\n\nexport const signUp = async (req, res) => {\n    const { pseudo, email, password } = req.body\n    try {\n        const user = await User.create({ pseudo, email, password })\n        res.status(201).json({ user: user._id })\n    }\n    catch(err) {\n        const errors = signUpErrors(err)\n        res.status(200).send(errors)\n    }\n}\n\nexport const signIn = async (req, res) => {\n    const { email, password } = req.body\n\n    try {\n        //check user exist and compare email with password\n        const user = await User.login(email, password)\n        //create token\n        const token = createToken(user._id)\n        //on retourne le token dans les cookies accessible seulement par le serveur\n        res.cookie('jwt', token, { httpOnly: true, maxAge })\n        res.status(200).json({ user: user._id })\n    }\n    catch (err) {\n        console.log(err)\n        const errors = signInErrors(err)\n        return res.status(200).json(errors )\n    }\n\n\n}\n\nexport const logout = async (req, res) => {\n    res.cookie('jwt', '', { maxAge: 1 });\n    res.status(200).json({ message: \"disconect\" })\n}\n\n"]}},"mtime":1651265650293},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/models/user.models.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nconst mongoose = require('mongoose');\n\nconst {\n  isEmail\n} = require('validator');\n\nconst bcrypt = require('bcrypt');\n\nconst Schema = mongoose.Schema;\nconst UserSchema = new Schema({\n  pseudo: {\n    type: String,\n    required: true,\n    minlength: 3,\n    maxlength: 55,\n    unique: true,\n    trim: true\n  },\n  email: {\n    type: String,\n    required: true,\n    validate: [isEmail],\n    lowercase: true,\n    unique: true,\n    trim: true\n  },\n  password: {\n    type: String,\n    required: true,\n    max: 1024,\n    minlength: 6\n  },\n  picture: {\n    type: String,\n    default: \"./uploads/profile/random-user.png\"\n  },\n  bio: {\n    type: String,\n    max: 1024\n  },\n  followers: {\n    type: [String]\n  },\n  following: {\n    type: [String]\n  },\n  likes: {\n    type: [String]\n  }\n}, {\n  timestamps: true\n}); //play function before save into db to allow crypt password\n// le next veut dire quand t'a fini passe à la suite\n\nUserSchema.pre('save', async function (next) {\n  const salt = await bcrypt.genSalt();\n  this.password = await bcrypt.hash(this.password, salt);\n  next();\n}); //c'est ce qui va nous permettre de comparer le password crypté de notre user en base de données avec celui utilise pdt le login d'un user\n\nUserSchema.statics.login = async function (email, password) {\n  const user = await this.findOne({\n    email: email\n  });\n\n  if (user) {\n    const auth = await bcrypt.compare(password, user.password);\n\n    if (auth) {\n      return user;\n    } else {\n      throw Error('Incorrect password');\n    }\n  }\n\n  throw Error('Incorrect password');\n};\n\nlet User = mongoose.model('User', UserSchema);\nmodule.exports = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIubW9kZWxzLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsImlzRW1haWwiLCJiY3J5cHQiLCJTY2hlbWEiLCJVc2VyU2NoZW1hIiwicHNldWRvIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwibWlubGVuZ3RoIiwibWF4bGVuZ3RoIiwidW5pcXVlIiwidHJpbSIsImVtYWlsIiwidmFsaWRhdGUiLCJsb3dlcmNhc2UiLCJwYXNzd29yZCIsIm1heCIsInBpY3R1cmUiLCJkZWZhdWx0IiwiYmlvIiwiZm9sbG93ZXJzIiwiZm9sbG93aW5nIiwibGlrZXMiLCJ0aW1lc3RhbXBzIiwicHJlIiwibmV4dCIsInNhbHQiLCJnZW5TYWx0IiwiaGFzaCIsInN0YXRpY3MiLCJsb2dpbiIsInVzZXIiLCJmaW5kT25lIiwiYXV0aCIsImNvbXBhcmUiLCJFcnJvciIsIlVzZXIiLCJtb2RlbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBRCxDQUF4Qjs7QUFDQSxNQUFNO0FBQUNDLEVBQUFBO0FBQUQsSUFBWUQsT0FBTyxDQUFDLFdBQUQsQ0FBekI7O0FBQ0EsTUFBTUUsTUFBTSxHQUFHRixPQUFPLENBQUMsUUFBRCxDQUF0Qjs7QUFFQSxNQUFNRyxNQUFNLEdBQUdKLFFBQVEsQ0FBQ0ksTUFBeEI7QUFDQSxNQUFNQyxVQUFVLEdBQUcsSUFBSUQsTUFBSixDQUFXO0FBQzFCRSxFQUFBQSxNQUFNLEVBQUU7QUFDSkMsSUFBQUEsSUFBSSxFQUFFQyxNQURGO0FBRUpDLElBQUFBLFFBQVEsRUFBQyxJQUZMO0FBR0pDLElBQUFBLFNBQVMsRUFBRSxDQUhQO0FBSUpDLElBQUFBLFNBQVMsRUFBQyxFQUpOO0FBS0pDLElBQUFBLE1BQU0sRUFBQyxJQUxIO0FBTUpDLElBQUFBLElBQUksRUFBQztBQU5ELEdBRGtCO0FBUzFCQyxFQUFBQSxLQUFLLEVBQUM7QUFDRlAsSUFBQUEsSUFBSSxFQUFDQyxNQURIO0FBRUZDLElBQUFBLFFBQVEsRUFBQyxJQUZQO0FBR0ZNLElBQUFBLFFBQVEsRUFBQyxDQUFDYixPQUFELENBSFA7QUFJRmMsSUFBQUEsU0FBUyxFQUFDLElBSlI7QUFLRkosSUFBQUEsTUFBTSxFQUFDLElBTEw7QUFNRkMsSUFBQUEsSUFBSSxFQUFDO0FBTkgsR0FUb0I7QUFpQjFCSSxFQUFBQSxRQUFRLEVBQUM7QUFDTFYsSUFBQUEsSUFBSSxFQUFDQyxNQURBO0FBRUxDLElBQUFBLFFBQVEsRUFBQyxJQUZKO0FBR0xTLElBQUFBLEdBQUcsRUFBQyxJQUhDO0FBSUxSLElBQUFBLFNBQVMsRUFBQztBQUpMLEdBakJpQjtBQXVCMUJTLEVBQUFBLE9BQU8sRUFBQztBQUNKWixJQUFBQSxJQUFJLEVBQUNDLE1BREQ7QUFFSlksSUFBQUEsT0FBTyxFQUFDO0FBRkosR0F2QmtCO0FBMkIxQkMsRUFBQUEsR0FBRyxFQUFDO0FBQ0FkLElBQUFBLElBQUksRUFBQ0MsTUFETDtBQUVBVSxJQUFBQSxHQUFHLEVBQUM7QUFGSixHQTNCc0I7QUErQjFCSSxFQUFBQSxTQUFTLEVBQUU7QUFDUGYsSUFBQUEsSUFBSSxFQUFDLENBQUNDLE1BQUQ7QUFERSxHQS9CZTtBQWtDMUJlLEVBQUFBLFNBQVMsRUFBQztBQUNOaEIsSUFBQUEsSUFBSSxFQUFDLENBQUNDLE1BQUQ7QUFEQyxHQWxDZ0I7QUFxQzFCZ0IsRUFBQUEsS0FBSyxFQUFFO0FBQ0hqQixJQUFBQSxJQUFJLEVBQUMsQ0FBQ0MsTUFBRDtBQURGO0FBckNtQixDQUFYLEVBd0NoQjtBQUNDaUIsRUFBQUEsVUFBVSxFQUFDO0FBRFosQ0F4Q2dCLENBQW5CLEMsQ0E2Q0E7QUFDQTs7QUFDQXBCLFVBQVUsQ0FBQ3FCLEdBQVgsQ0FBZSxNQUFmLEVBQXVCLGdCQUFnQkMsSUFBaEIsRUFBcUI7QUFDeEMsUUFBTUMsSUFBSSxHQUFHLE1BQU16QixNQUFNLENBQUMwQixPQUFQLEVBQW5CO0FBQ0EsT0FBS1osUUFBTCxHQUFnQixNQUFNZCxNQUFNLENBQUMyQixJQUFQLENBQVksS0FBS2IsUUFBakIsRUFBMkJXLElBQTNCLENBQXRCO0FBQ0FELEVBQUFBLElBQUk7QUFDUCxDQUpELEUsQ0FNQTs7QUFDQXRCLFVBQVUsQ0FBQzBCLE9BQVgsQ0FBbUJDLEtBQW5CLEdBQTJCLGdCQUFlbEIsS0FBZixFQUFzQkcsUUFBdEIsRUFBK0I7QUFDdEQsUUFBTWdCLElBQUksR0FBRyxNQUFNLEtBQUtDLE9BQUwsQ0FBYTtBQUFDcEIsSUFBQUEsS0FBSyxFQUFFQTtBQUFSLEdBQWIsQ0FBbkI7O0FBQ0EsTUFBR21CLElBQUgsRUFBUTtBQUNKLFVBQU1FLElBQUksR0FBRyxNQUFNaEMsTUFBTSxDQUFDaUMsT0FBUCxDQUFlbkIsUUFBZixFQUF5QmdCLElBQUksQ0FBQ2hCLFFBQTlCLENBQW5COztBQUNBLFFBQUdrQixJQUFILEVBQVE7QUFDSixhQUFPRixJQUFQO0FBQ0gsS0FGRCxNQUdJO0FBQ0EsWUFBTUksS0FBSyxDQUFDLG9CQUFELENBQVg7QUFDSDtBQUNKOztBQUNELFFBQU1BLEtBQUssQ0FBQyxvQkFBRCxDQUFYO0FBQ0gsQ0FaRDs7QUFhQSxJQUFJQyxJQUFJLEdBQUd0QyxRQUFRLENBQUN1QyxLQUFULENBQWUsTUFBZixFQUF1QmxDLFVBQXZCLENBQVg7QUFDQW1DLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQkgsSUFBakIiLCJzb3VyY2VSb290IjoiL0FwcGxpY2F0aW9ucy9kb3NzaWVyL21lcm5fcHJvamVjdF9hcHAyL3NyYy9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xuY29uc3Qge2lzRW1haWx9ID0gcmVxdWlyZSgndmFsaWRhdG9yJyk7XG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKCdiY3J5cHQnKTtcblxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xuY29uc3QgVXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICAgIHBzZXVkbzoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOnRydWUsXG4gICAgICAgIG1pbmxlbmd0aDogMywgXG4gICAgICAgIG1heGxlbmd0aDo1NSwgXG4gICAgICAgIHVuaXF1ZTp0cnVlLFxuICAgICAgICB0cmltOnRydWVcbiAgICB9LFxuICAgIGVtYWlsOntcbiAgICAgICAgdHlwZTpTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOnRydWUsXG4gICAgICAgIHZhbGlkYXRlOltpc0VtYWlsXSxcbiAgICAgICAgbG93ZXJjYXNlOnRydWUsICAgICAgICBcbiAgICAgICAgdW5pcXVlOnRydWUsXG4gICAgICAgIHRyaW06dHJ1ZSxcbiAgICB9LFxuICAgIHBhc3N3b3JkOntcbiAgICAgICAgdHlwZTpTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOnRydWUsXG4gICAgICAgIG1heDoxMDI0LFxuICAgICAgICBtaW5sZW5ndGg6NlxuICAgIH0sXG4gICAgcGljdHVyZTp7XG4gICAgICAgIHR5cGU6U3RyaW5nLFxuICAgICAgICBkZWZhdWx0OlwiLi91cGxvYWRzL3Byb2ZpbGUvcmFuZG9tLXVzZXIucG5nXCJcbiAgICB9LFxuICAgIGJpbzp7XG4gICAgICAgIHR5cGU6U3RyaW5nLFxuICAgICAgICBtYXg6MTAyNFxuICAgIH0sXG4gICAgZm9sbG93ZXJzOiB7XG4gICAgICAgIHR5cGU6W1N0cmluZ10sXG4gICAgfSxcbiAgICBmb2xsb3dpbmc6e1xuICAgICAgICB0eXBlOltTdHJpbmddLFxuICAgIH0sXG4gICAgbGlrZXM6IHtcbiAgICAgICAgdHlwZTpbU3RyaW5nXSxcbiAgICB9XG59LCB7XG4gICAgdGltZXN0YW1wczp0cnVlXG59XG4pO1xuXG4vL3BsYXkgZnVuY3Rpb24gYmVmb3JlIHNhdmUgaW50byBkYiB0byBhbGxvdyBjcnlwdCBwYXNzd29yZFxuLy8gbGUgbmV4dCB2ZXV0IGRpcmUgcXVhbmQgdCdhIGZpbmkgcGFzc2Ugw6AgbGEgc3VpdGVcblVzZXJTY2hlbWEucHJlKCdzYXZlJywgYXN5bmMgZnVuY3Rpb24gKG5leHQpe1xuICAgIGNvbnN0IHNhbHQgPSBhd2FpdCBiY3J5cHQuZ2VuU2FsdCgpO1xuICAgIHRoaXMucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaCh0aGlzLnBhc3N3b3JkLCBzYWx0KTtcbiAgICBuZXh0KCk7XG59KVxuXG4vL2MnZXN0IGNlIHF1aSB2YSBub3VzIHBlcm1ldHRyZSBkZSBjb21wYXJlciBsZSBwYXNzd29yZCBjcnlwdMOpIGRlIG5vdHJlIHVzZXIgZW4gYmFzZSBkZSBkb25uw6llcyBhdmVjIGNlbHVpIHV0aWxpc2UgcGR0IGxlIGxvZ2luIGQndW4gdXNlclxuVXNlclNjaGVtYS5zdGF0aWNzLmxvZ2luID0gYXN5bmMgZnVuY3Rpb24oZW1haWwsIHBhc3N3b3JkKXtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcy5maW5kT25lKHtlbWFpbDogZW1haWx9KTtcbiAgICBpZih1c2VyKXtcbiAgICAgICAgY29uc3QgYXV0aCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKVxuICAgICAgICBpZihhdXRoKXtcbiAgICAgICAgICAgIHJldHVybiB1c2VyXG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdJbmNvcnJlY3QgcGFzc3dvcmQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBFcnJvcignSW5jb3JyZWN0IHBhc3N3b3JkJyk7XG59XG5sZXQgVXNlciA9IG1vbmdvb3NlLm1vZGVsKCdVc2VyJywgVXNlclNjaGVtYSk7XG5tb2R1bGUuZXhwb3J0cyA9IFVzZXI7Il19","map":{"version":3,"sources":["user.models.js"],"names":["mongoose","require","isEmail","bcrypt","Schema","UserSchema","pseudo","type","String","required","minlength","maxlength","unique","trim","email","validate","lowercase","password","max","picture","default","bio","followers","following","likes","timestamps","pre","next","salt","genSalt","hash","statics","login","user","findOne","auth","compare","Error","User","model","module","exports"],"mappings":";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAM;AAACC,EAAAA;AAAD,IAAYD,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAME,MAAM,GAAGF,OAAO,CAAC,QAAD,CAAtB;;AAEA,MAAMG,MAAM,GAAGJ,QAAQ,CAACI,MAAxB;AACA,MAAMC,UAAU,GAAG,IAAID,MAAJ,CAAW;AAC1BE,EAAAA,MAAM,EAAE;AACJC,IAAAA,IAAI,EAAEC,MADF;AAEJC,IAAAA,QAAQ,EAAC,IAFL;AAGJC,IAAAA,SAAS,EAAE,CAHP;AAIJC,IAAAA,SAAS,EAAC,EAJN;AAKJC,IAAAA,MAAM,EAAC,IALH;AAMJC,IAAAA,IAAI,EAAC;AAND,GADkB;AAS1BC,EAAAA,KAAK,EAAC;AACFP,IAAAA,IAAI,EAACC,MADH;AAEFC,IAAAA,QAAQ,EAAC,IAFP;AAGFM,IAAAA,QAAQ,EAAC,CAACb,OAAD,CAHP;AAIFc,IAAAA,SAAS,EAAC,IAJR;AAKFJ,IAAAA,MAAM,EAAC,IALL;AAMFC,IAAAA,IAAI,EAAC;AANH,GAToB;AAiB1BI,EAAAA,QAAQ,EAAC;AACLV,IAAAA,IAAI,EAACC,MADA;AAELC,IAAAA,QAAQ,EAAC,IAFJ;AAGLS,IAAAA,GAAG,EAAC,IAHC;AAILR,IAAAA,SAAS,EAAC;AAJL,GAjBiB;AAuB1BS,EAAAA,OAAO,EAAC;AACJZ,IAAAA,IAAI,EAACC,MADD;AAEJY,IAAAA,OAAO,EAAC;AAFJ,GAvBkB;AA2B1BC,EAAAA,GAAG,EAAC;AACAd,IAAAA,IAAI,EAACC,MADL;AAEAU,IAAAA,GAAG,EAAC;AAFJ,GA3BsB;AA+B1BI,EAAAA,SAAS,EAAE;AACPf,IAAAA,IAAI,EAAC,CAACC,MAAD;AADE,GA/Be;AAkC1Be,EAAAA,SAAS,EAAC;AACNhB,IAAAA,IAAI,EAAC,CAACC,MAAD;AADC,GAlCgB;AAqC1BgB,EAAAA,KAAK,EAAE;AACHjB,IAAAA,IAAI,EAAC,CAACC,MAAD;AADF;AArCmB,CAAX,EAwChB;AACCiB,EAAAA,UAAU,EAAC;AADZ,CAxCgB,CAAnB,C,CA6CA;AACA;;AACApB,UAAU,CAACqB,GAAX,CAAe,MAAf,EAAuB,gBAAgBC,IAAhB,EAAqB;AACxC,QAAMC,IAAI,GAAG,MAAMzB,MAAM,CAAC0B,OAAP,EAAnB;AACA,OAAKZ,QAAL,GAAgB,MAAMd,MAAM,CAAC2B,IAAP,CAAY,KAAKb,QAAjB,EAA2BW,IAA3B,CAAtB;AACAD,EAAAA,IAAI;AACP,CAJD,E,CAMA;;AACAtB,UAAU,CAAC0B,OAAX,CAAmBC,KAAnB,GAA2B,gBAAelB,KAAf,EAAsBG,QAAtB,EAA+B;AACtD,QAAMgB,IAAI,GAAG,MAAM,KAAKC,OAAL,CAAa;AAACpB,IAAAA,KAAK,EAAEA;AAAR,GAAb,CAAnB;;AACA,MAAGmB,IAAH,EAAQ;AACJ,UAAME,IAAI,GAAG,MAAMhC,MAAM,CAACiC,OAAP,CAAenB,QAAf,EAAyBgB,IAAI,CAAChB,QAA9B,CAAnB;;AACA,QAAGkB,IAAH,EAAQ;AACJ,aAAOF,IAAP;AACH,KAFD,MAGI;AACA,YAAMI,KAAK,CAAC,oBAAD,CAAX;AACH;AACJ;;AACD,QAAMA,KAAK,CAAC,oBAAD,CAAX;AACH,CAZD;;AAaA,IAAIC,IAAI,GAAGtC,QAAQ,CAACuC,KAAT,CAAe,MAAf,EAAuBlC,UAAvB,CAAX;AACAmC,MAAM,CAACC,OAAP,GAAiBH,IAAjB","sourceRoot":"/Applications/dossier/mern_project_app2/src/models/","sourcesContent":["const mongoose = require('mongoose');\nconst {isEmail} = require('validator');\nconst bcrypt = require('bcrypt');\n\nconst Schema = mongoose.Schema;\nconst UserSchema = new Schema({\n    pseudo: {\n        type: String,\n        required:true,\n        minlength: 3, \n        maxlength:55, \n        unique:true,\n        trim:true\n    },\n    email:{\n        type:String,\n        required:true,\n        validate:[isEmail],\n        lowercase:true,        \n        unique:true,\n        trim:true,\n    },\n    password:{\n        type:String,\n        required:true,\n        max:1024,\n        minlength:6\n    },\n    picture:{\n        type:String,\n        default:\"./uploads/profile/random-user.png\"\n    },\n    bio:{\n        type:String,\n        max:1024\n    },\n    followers: {\n        type:[String],\n    },\n    following:{\n        type:[String],\n    },\n    likes: {\n        type:[String],\n    }\n}, {\n    timestamps:true\n}\n);\n\n//play function before save into db to allow crypt password\n// le next veut dire quand t'a fini passe à la suite\nUserSchema.pre('save', async function (next){\n    const salt = await bcrypt.genSalt();\n    this.password = await bcrypt.hash(this.password, salt);\n    next();\n})\n\n//c'est ce qui va nous permettre de comparer le password crypté de notre user en base de données avec celui utilise pdt le login d'un user\nUserSchema.statics.login = async function(email, password){\n    const user = await this.findOne({email: email});\n    if(user){\n        const auth = await bcrypt.compare(password, user.password)\n        if(auth){\n            return user\n        }\n        else{\n            throw Error('Incorrect password');\n        }\n    }\n    throw Error('Incorrect password');\n}\nlet User = mongoose.model('User', UserSchema);\nmodule.exports = User;"]}},"mtime":1651271257003},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.launch = launch;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _response = _interopRequireDefault(require(\"express/lib/response\"));\n\nvar _routes = _interopRequireDefault(require(\"./routes\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst cookieParser = require(\"cookie-parser\");\n\nconst {\n  checkUser,\n  requireAuth\n} = require('./middlewares/auth.middleware');\n\nfunction launch({\n  host,\n  protocol,\n  port\n}) {\n  const application = (0, _express.default)();\n\n  require('dotenv').config({\n    path: './.env'\n  });\n\n  require('../database.js'); // va nous permettre de lire les body des requetes entre autres\n\n\n  application.use(_express.default.json()); // va nous permettre de lire les cookies\n\n  application.use(cookieParser()); // notre middleware de sécurité\n\n  application.get('*', checkUser); //cest ce qui permet de loger un user lorsqu'il arrive sur le site\n\n  application.get('/jwtid', requireAuth, (req, res) => {\n    res.status(200).send(res.locals.user._id);\n  });\n  application.use(_routes.default);\n  application.listen(port, () => console.log(`Server started at ${protocol}://${host}:${port}`));\n}\n/* require('dotenv').config({path:'./config/.env'})\n */\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJjb29raWVQYXJzZXIiLCJyZXF1aXJlIiwiY2hlY2tVc2VyIiwicmVxdWlyZUF1dGgiLCJsYXVuY2giLCJob3N0IiwicHJvdG9jb2wiLCJwb3J0IiwiYXBwbGljYXRpb24iLCJjb25maWciLCJwYXRoIiwidXNlIiwiZXhwcmVzcyIsImpzb24iLCJnZXQiLCJyZXEiLCJyZXMiLCJzdGF0dXMiLCJzZW5kIiwibG9jYWxzIiwidXNlciIsIl9pZCIsIkRlZmF1bHRSb3V0ZXIiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFDQSxNQUFNQSxZQUFZLEdBQUdDLE9BQU8sQ0FBQyxlQUFELENBQTVCOztBQUNBLE1BQU07QUFBQ0MsRUFBQUEsU0FBRDtBQUFZQyxFQUFBQTtBQUFaLElBQTJCRixPQUFPLENBQUMsK0JBQUQsQ0FBeEM7O0FBR08sU0FBU0csTUFBVCxDQUFnQjtBQUFFQyxFQUFBQSxJQUFGO0FBQVFDLEVBQUFBLFFBQVI7QUFBa0JDLEVBQUFBO0FBQWxCLENBQWhCLEVBQTBDO0FBQy9DLFFBQU1DLFdBQVcsR0FBRyx1QkFBcEI7O0FBQ0FQLEVBQUFBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JRLE1BQWxCLENBQXlCO0FBQUNDLElBQUFBLElBQUksRUFBQztBQUFOLEdBQXpCOztBQUNBVCxFQUFBQSxPQUFPLENBQUMsZ0JBQUQsQ0FBUCxDQUgrQyxDQUkvQzs7O0FBQ0FPLEVBQUFBLFdBQVcsQ0FBQ0csR0FBWixDQUFnQkMsaUJBQVFDLElBQVIsRUFBaEIsRUFMK0MsQ0FNL0M7O0FBQ0FMLEVBQUFBLFdBQVcsQ0FBQ0csR0FBWixDQUFnQlgsWUFBWSxFQUE1QixFQVArQyxDQVEvQzs7QUFDQVEsRUFBQUEsV0FBVyxDQUFDTSxHQUFaLENBQWdCLEdBQWhCLEVBQW9CWixTQUFwQixFQVQrQyxDQVUvQzs7QUFDQU0sRUFBQUEsV0FBVyxDQUFDTSxHQUFaLENBQWdCLFFBQWhCLEVBQXlCWCxXQUF6QixFQUFzQyxDQUFDWSxHQUFELEVBQU1DLEdBQU4sS0FBYTtBQUNqREEsSUFBQUEsR0FBRyxDQUFDQyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJGLEdBQUcsQ0FBQ0csTUFBSixDQUFXQyxJQUFYLENBQWdCQyxHQUFyQztBQUNELEdBRkQ7QUFLQWIsRUFBQUEsV0FBVyxDQUFDRyxHQUFaLENBQWdCVyxlQUFoQjtBQUVBZCxFQUFBQSxXQUFXLENBQUNlLE1BQVosQ0FDRWhCLElBREYsRUFFRSxNQUFNaUIsT0FBTyxDQUFDQyxHQUFSLENBQWEscUJBQW9CbkIsUUFBUyxNQUFLRCxJQUFLLElBQUdFLElBQUssRUFBNUQsQ0FGUjtBQUlEO0FBSUQ7QUFDQSIsInNvdXJjZVJvb3QiOiIvQXBwbGljYXRpb25zL2Rvc3NpZXIvbWVybl9wcm9qZWN0X2FwcDIvc3JjLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHJlcyBmcm9tICdleHByZXNzL2xpYi9yZXNwb25zZSc7XG5pbXBvcnQgRGVmYXVsdFJvdXRlciBmcm9tICcuL3JvdXRlcyc7XG5jb25zdCBjb29raWVQYXJzZXIgPSByZXF1aXJlKFwiY29va2llLXBhcnNlclwiKVxuY29uc3Qge2NoZWNrVXNlciwgcmVxdWlyZUF1dGh9ID0gcmVxdWlyZSgnLi9taWRkbGV3YXJlcy9hdXRoLm1pZGRsZXdhcmUnKVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBsYXVuY2goeyBob3N0LCBwcm90b2NvbCwgcG9ydCB9KSB7XG4gIGNvbnN0IGFwcGxpY2F0aW9uID0gZXhwcmVzcygpO1xuICByZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoe3BhdGg6Jy4vLmVudid9KVxuICByZXF1aXJlKCcuLi9kYXRhYmFzZS5qcycpXG4gIC8vIHZhIG5vdXMgcGVybWV0dHJlIGRlIGxpcmUgbGVzIGJvZHkgZGVzIHJlcXVldGVzIGVudHJlIGF1dHJlc1xuICBhcHBsaWNhdGlvbi51c2UoZXhwcmVzcy5qc29uKCkpO1xuICAvLyB2YSBub3VzIHBlcm1ldHRyZSBkZSBsaXJlIGxlcyBjb29raWVzXG4gIGFwcGxpY2F0aW9uLnVzZShjb29raWVQYXJzZXIoKSk7XG4gIC8vIG5vdHJlIG1pZGRsZXdhcmUgZGUgc8OpY3VyaXTDqVxuICBhcHBsaWNhdGlvbi5nZXQoJyonLGNoZWNrVXNlcilcbiAgLy9jZXN0IGNlIHF1aSBwZXJtZXQgZGUgbG9nZXIgdW4gdXNlciBsb3JzcXUnaWwgYXJyaXZlIHN1ciBsZSBzaXRlXG4gIGFwcGxpY2F0aW9uLmdldCgnL2p3dGlkJyxyZXF1aXJlQXV0aCwgKHJlcSwgcmVzKT0+IHtcbiAgICByZXMuc3RhdHVzKDIwMCkuc2VuZChyZXMubG9jYWxzLnVzZXIuX2lkKVxuICB9KVxuXG5cbiAgYXBwbGljYXRpb24udXNlKERlZmF1bHRSb3V0ZXIpO1xuXG4gIGFwcGxpY2F0aW9uLmxpc3RlbihcbiAgICBwb3J0LFxuICAgICgpID0+IGNvbnNvbGUubG9nKGBTZXJ2ZXIgc3RhcnRlZCBhdCAke3Byb3RvY29sfTovLyR7aG9zdH06JHtwb3J0fWApLFxuICApO1xufVxuXG5cblxuLyogcmVxdWlyZSgnZG90ZW52JykuY29uZmlnKHtwYXRoOicuL2NvbmZpZy8uZW52J30pXG4gKi9cblxuXG5cbiJdfQ==","map":{"version":3,"sources":["server.js"],"names":["cookieParser","require","checkUser","requireAuth","launch","host","protocol","port","application","config","path","use","express","json","get","req","res","status","send","locals","user","_id","DefaultRouter","listen","console","log"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AACA,MAAMA,YAAY,GAAGC,OAAO,CAAC,eAAD,CAA5B;;AACA,MAAM;AAACC,EAAAA,SAAD;AAAYC,EAAAA;AAAZ,IAA2BF,OAAO,CAAC,+BAAD,CAAxC;;AAGO,SAASG,MAAT,CAAgB;AAAEC,EAAAA,IAAF;AAAQC,EAAAA,QAAR;AAAkBC,EAAAA;AAAlB,CAAhB,EAA0C;AAC/C,QAAMC,WAAW,GAAG,uBAApB;;AACAP,EAAAA,OAAO,CAAC,QAAD,CAAP,CAAkBQ,MAAlB,CAAyB;AAACC,IAAAA,IAAI,EAAC;AAAN,GAAzB;;AACAT,EAAAA,OAAO,CAAC,gBAAD,CAAP,CAH+C,CAI/C;;;AACAO,EAAAA,WAAW,CAACG,GAAZ,CAAgBC,iBAAQC,IAAR,EAAhB,EAL+C,CAM/C;;AACAL,EAAAA,WAAW,CAACG,GAAZ,CAAgBX,YAAY,EAA5B,EAP+C,CAQ/C;;AACAQ,EAAAA,WAAW,CAACM,GAAZ,CAAgB,GAAhB,EAAoBZ,SAApB,EAT+C,CAU/C;;AACAM,EAAAA,WAAW,CAACM,GAAZ,CAAgB,QAAhB,EAAyBX,WAAzB,EAAsC,CAACY,GAAD,EAAMC,GAAN,KAAa;AACjDA,IAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,GAAG,CAACG,MAAJ,CAAWC,IAAX,CAAgBC,GAArC;AACD,GAFD;AAKAb,EAAAA,WAAW,CAACG,GAAZ,CAAgBW,eAAhB;AAEAd,EAAAA,WAAW,CAACe,MAAZ,CACEhB,IADF,EAEE,MAAMiB,OAAO,CAACC,GAAR,CAAa,qBAAoBnB,QAAS,MAAKD,IAAK,IAAGE,IAAK,EAA5D,CAFR;AAID;AAID;AACA","sourceRoot":"/Applications/dossier/mern_project_app2/src/","sourcesContent":["import express from 'express';\nimport res from 'express/lib/response';\nimport DefaultRouter from './routes';\nconst cookieParser = require(\"cookie-parser\")\nconst {checkUser, requireAuth} = require('./middlewares/auth.middleware')\n\n\nexport function launch({ host, protocol, port }) {\n  const application = express();\n  require('dotenv').config({path:'./.env'})\n  require('../database.js')\n  // va nous permettre de lire les body des requetes entre autres\n  application.use(express.json());\n  // va nous permettre de lire les cookies\n  application.use(cookieParser());\n  // notre middleware de sécurité\n  application.get('*',checkUser)\n  //cest ce qui permet de loger un user lorsqu'il arrive sur le site\n  application.get('/jwtid',requireAuth, (req, res)=> {\n    res.status(200).send(res.locals.user._id)\n  })\n\n\n  application.use(DefaultRouter);\n\n  application.listen(\n    port,\n    () => console.log(`Server started at ${protocol}://${host}:${port}`),\n  );\n}\n\n\n\n/* require('dotenv').config({path:'./config/.env'})\n */\n\n\n\n"]}},"mtime":1651256245627},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/db.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nconst mongoose = require('mongoose');\n\nmongoose.connect(`mongodb+srv://${process.env.DB_USERNAME}:${process.env.DB_PASSWORD}@cluster0.gbvxg.mongodb.net/mern_project`).then(() => console.log('Connected to MongoDB')).catch(error => console.log(\"Failed to connect MongoDB\", error));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsImNvbm5lY3QiLCJwcm9jZXNzIiwiZW52IiwiREJfVVNFUk5BTUUiLCJEQl9QQVNTV09SRCIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnJvciJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQXhCOztBQUVBRCxRQUFRLENBQ0hFLE9BREwsQ0FDYyxpQkFBZ0JDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxXQUFZLElBQUdGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxXQUFZLDBDQURqRixFQUVLQyxJQUZMLENBRVUsTUFBTUMsT0FBTyxDQUFDQyxHQUFSLENBQVksc0JBQVosQ0FGaEIsRUFHS0MsS0FITCxDQUdZQyxLQUFELElBQVdILE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDJCQUFaLEVBQXlDRSxLQUF6QyxDQUh0QiIsInNvdXJjZVJvb3QiOiIvQXBwbGljYXRpb25zL2Rvc3NpZXIvbWVybl9wcm9qZWN0X2FwcDIvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpXG5cbm1vbmdvb3NlXG4gICAgLmNvbm5lY3QoYG1vbmdvZGIrc3J2Oi8vJHtwcm9jZXNzLmVudi5EQl9VU0VSTkFNRX06JHtwcm9jZXNzLmVudi5EQl9QQVNTV09SRH1AY2x1c3RlcjAuZ2J2eGcubW9uZ29kYi5uZXQvbWVybl9wcm9qZWN0YClcbiAgICAudGhlbigoKSA9PiBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIE1vbmdvREInKSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmxvZyhcIkZhaWxlZCB0byBjb25uZWN0IE1vbmdvREJcIiwgZXJyb3IpKSJdfQ==","map":{"version":3,"sources":["db.js"],"names":["mongoose","require","connect","process","env","DB_USERNAME","DB_PASSWORD","then","console","log","catch","error"],"mappings":";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAEAD,QAAQ,CACHE,OADL,CACc,iBAAgBC,OAAO,CAACC,GAAR,CAAYC,WAAY,IAAGF,OAAO,CAACC,GAAR,CAAYE,WAAY,0CADjF,EAEKC,IAFL,CAEU,MAAMC,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAFhB,EAGKC,KAHL,CAGYC,KAAD,IAAWH,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCE,KAAzC,CAHtB","sourceRoot":"/Applications/dossier/mern_project_app2/","sourcesContent":["const mongoose = require('mongoose')\n\nmongoose\n    .connect(`mongodb+srv://${process.env.DB_USERNAME}:${process.env.DB_PASSWORD}@cluster0.gbvxg.mongodb.net/mern_project`)\n    .then(() => console.log('Connected to MongoDB'))\n    .catch((error) => console.log(\"Failed to connect MongoDB\", error))"]}},"mtime":1651231241527},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/routes/user.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nconst router = require(\"express\").Router();\n\nconst authController = require('../controllers/auth.controller');\n\nrouter.post('/register', authController.signUp);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIucm91dGVzLmpzIl0sIm5hbWVzIjpbInJvdXRlciIsInJlcXVpcmUiLCJSb3V0ZXIiLCJhdXRoQ29udHJvbGxlciIsInBvc3QiLCJzaWduVXAiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLE1BQU0sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBUCxDQUFtQkMsTUFBbkIsRUFBZjs7QUFDQSxNQUFNQyxjQUFjLEdBQUdGLE9BQU8sQ0FBQyxnQ0FBRCxDQUE5Qjs7QUFFQUQsTUFBTSxDQUFDSSxJQUFQLENBQVksV0FBWixFQUF5QkQsY0FBYyxDQUFDRSxNQUF4QztBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJQLE1BQWpCIiwic291cmNlUm9vdCI6Ii9BcHBsaWNhdGlvbnMvZG9zc2llci9tZXJuX3Byb2plY3RfYXBwMi9zcmMvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJvdXRlciA9IHJlcXVpcmUoXCJleHByZXNzXCIpLlJvdXRlcigpO1xuY29uc3QgYXV0aENvbnRyb2xsZXIgPSByZXF1aXJlKCcuLi9jb250cm9sbGVycy9hdXRoLmNvbnRyb2xsZXInKVxuXG5yb3V0ZXIucG9zdCgnL3JlZ2lzdGVyJywgYXV0aENvbnRyb2xsZXIuc2lnblVwKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il19","map":{"version":3,"sources":["user.routes.js"],"names":["router","require","Router","authController","post","signUp","module","exports"],"mappings":";;AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,SAAD,CAAP,CAAmBC,MAAnB,EAAf;;AACA,MAAMC,cAAc,GAAGF,OAAO,CAAC,gCAAD,CAA9B;;AAEAD,MAAM,CAACI,IAAP,CAAY,WAAZ,EAAyBD,cAAc,CAACE,MAAxC;AAEAC,MAAM,CAACC,OAAP,GAAiBP,MAAjB","sourceRoot":"/Applications/dossier/mern_project_app2/src/routes/","sourcesContent":["const router = require(\"express\").Router();\nconst authController = require('../controllers/auth.controller')\n\nrouter.post('/register', authController.signUp);\n\nmodule.exports = router;"]}},"mtime":1651230869021},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/controllers/auth.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.signUp = exports.signIn = exports.logout = void 0;\n\nvar _express = require(\"express\");\n\nvar _errors = require(\"../utils/errors.utils\");\n\nconst User = require('../models/user.model');\n\nconst jwt = require('jsonwebtoken'); //equivalent de 3 jours\n\n\nconst maxAge = 3 * 24 * 60 * 60 * 1000; //function qui créer le token en fonction d'une clé de cryptage qu'on aura mis dans variable d'environnemment\n\nconst createToken = id => {\n  return jwt.sign({\n    id\n  }, process.env.TOKEN_SECRET, {\n    expiresIn: maxAge\n  });\n};\n\nconst signUp = async (req, res) => {\n  const {\n    pseudo,\n    email,\n    password\n  } = req.body;\n\n  try {\n    const user = await User.create({\n      pseudo,\n      email,\n      password\n    });\n    res.status(201).json({\n      user: user._id\n    });\n  } catch (err) {\n    const errors = (0, _errors.signUpErrors)(err);\n    res.status(200).send(errors);\n  }\n};\n\nexports.signUp = signUp;\n\nconst signIn = async (req, res) => {\n  const {\n    email,\n    password\n  } = req.body;\n\n  try {\n    //check user exist and compare email with password\n    const user = await User.login(email, password); //create token\n\n    const token = createToken(user._id); //on retourne le token dans les cookies accessible seulement par le serveur\n\n    res.cookie('jwt', token, {\n      httpOnly: true,\n      maxAge\n    });\n    res.status(200).json({\n      user: user._id\n    });\n  } catch (err) {\n    console.log(err);\n    const errors = (0, _errors.signInErrors)(err);\n    return res.status(200).json(errors);\n  }\n};\n\nexports.signIn = signIn;\n\nconst logout = async (req, res) => {\n  res.cookie('jwt', '', {\n    maxAge: 1\n  });\n  res.status(200).json({\n    message: \"disconect\"\n  });\n};\n\nexports.logout = logout;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsImp3dCIsIm1heEFnZSIsImNyZWF0ZVRva2VuIiwiaWQiLCJzaWduIiwicHJvY2VzcyIsImVudiIsIlRPS0VOX1NFQ1JFVCIsImV4cGlyZXNJbiIsInNpZ25VcCIsInJlcSIsInJlcyIsInBzZXVkbyIsImVtYWlsIiwicGFzc3dvcmQiLCJib2R5IiwidXNlciIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJfaWQiLCJlcnIiLCJlcnJvcnMiLCJzZW5kIiwic2lnbkluIiwibG9naW4iLCJ0b2tlbiIsImNvb2tpZSIsImh0dHBPbmx5IiwiY29uc29sZSIsImxvZyIsImxvZ291dCIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFFQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxzQkFBRCxDQUFwQjs7QUFDQSxNQUFNQyxHQUFHLEdBQUdELE9BQU8sQ0FBQyxjQUFELENBQW5CLEMsQ0FFQTs7O0FBQ0EsTUFBTUUsTUFBTSxHQUFHLElBQUksRUFBSixHQUFTLEVBQVQsR0FBYyxFQUFkLEdBQW1CLElBQWxDLEMsQ0FDQTs7QUFDQSxNQUFNQyxXQUFXLEdBQUlDLEVBQUQsSUFBUTtBQUN4QixTQUFPSCxHQUFHLENBQUNJLElBQUosQ0FBUztBQUFFRCxJQUFBQTtBQUFGLEdBQVQsRUFBaUJFLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxZQUE3QixFQUEyQztBQUM5Q0MsSUFBQUEsU0FBUyxFQUFFUDtBQURtQyxHQUEzQyxDQUFQO0FBR0gsQ0FKRDs7QUFPTyxNQUFNUSxNQUFNLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RDLFFBQU07QUFBRUMsSUFBQUEsTUFBRjtBQUFVQyxJQUFBQSxLQUFWO0FBQWlCQyxJQUFBQTtBQUFqQixNQUE4QkosR0FBRyxDQUFDSyxJQUF4Qzs7QUFDQSxNQUFJO0FBQ0EsVUFBTUMsSUFBSSxHQUFHLE1BQU1sQixJQUFJLENBQUNtQixNQUFMLENBQVk7QUFBRUwsTUFBQUEsTUFBRjtBQUFVQyxNQUFBQSxLQUFWO0FBQWlCQyxNQUFBQTtBQUFqQixLQUFaLENBQW5CO0FBQ0FILElBQUFBLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVILE1BQUFBLElBQUksRUFBRUEsSUFBSSxDQUFDSTtBQUFiLEtBQXJCO0FBQ0gsR0FIRCxDQUlBLE9BQU1DLEdBQU4sRUFBVztBQUNQLFVBQU1DLE1BQU0sR0FBRywwQkFBYUQsR0FBYixDQUFmO0FBQ0FWLElBQUFBLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JLLElBQWhCLENBQXFCRCxNQUFyQjtBQUNIO0FBQ0osQ0FWTTs7OztBQVlBLE1BQU1FLE1BQU0sR0FBRyxPQUFPZCxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTTtBQUFFRSxJQUFBQSxLQUFGO0FBQVNDLElBQUFBO0FBQVQsTUFBc0JKLEdBQUcsQ0FBQ0ssSUFBaEM7O0FBRUEsTUFBSTtBQUNBO0FBQ0EsVUFBTUMsSUFBSSxHQUFHLE1BQU1sQixJQUFJLENBQUMyQixLQUFMLENBQVdaLEtBQVgsRUFBa0JDLFFBQWxCLENBQW5CLENBRkEsQ0FHQTs7QUFDQSxVQUFNWSxLQUFLLEdBQUd4QixXQUFXLENBQUNjLElBQUksQ0FBQ0ksR0FBTixDQUF6QixDQUpBLENBS0E7O0FBQ0FULElBQUFBLEdBQUcsQ0FBQ2dCLE1BQUosQ0FBVyxLQUFYLEVBQWtCRCxLQUFsQixFQUF5QjtBQUFFRSxNQUFBQSxRQUFRLEVBQUUsSUFBWjtBQUFrQjNCLE1BQUFBO0FBQWxCLEtBQXpCO0FBQ0FVLElBQUFBLEdBQUcsQ0FBQ08sTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVILE1BQUFBLElBQUksRUFBRUEsSUFBSSxDQUFDSTtBQUFiLEtBQXJCO0FBQ0gsR0FSRCxDQVNBLE9BQU9DLEdBQVAsRUFBWTtBQUNSUSxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWVQsR0FBWjtBQUNBLFVBQU1DLE1BQU0sR0FBRywwQkFBYUQsR0FBYixDQUFmO0FBQ0EsV0FBT1YsR0FBRyxDQUFDTyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJHLE1BQXJCLENBQVA7QUFDSDtBQUdKLENBbkJNOzs7O0FBcUJBLE1BQU1TLE1BQU0sR0FBRyxPQUFPckIsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RDQSxFQUFBQSxHQUFHLENBQUNnQixNQUFKLENBQVcsS0FBWCxFQUFrQixFQUFsQixFQUFzQjtBQUFFMUIsSUFBQUEsTUFBTSxFQUFFO0FBQVYsR0FBdEI7QUFDQVUsRUFBQUEsR0FBRyxDQUFDTyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRWEsSUFBQUEsT0FBTyxFQUFFO0FBQVgsR0FBckI7QUFDSCxDQUhNIiwic291cmNlUm9vdCI6Ii9BcHBsaWNhdGlvbnMvZG9zc2llci9tZXJuX3Byb2plY3RfYXBwMi9zcmMvY29udHJvbGxlcnMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVzcG9uc2UgfSBmcm9tICdleHByZXNzJ1xuaW1wb3J0IHsgc2lnblVwRXJyb3JzLCBzaWduSW5FcnJvcnMgfSBmcm9tICcuLi91dGlscy9lcnJvcnMudXRpbHMnXG5cbmNvbnN0IFVzZXIgPSByZXF1aXJlKCcuLi9tb2RlbHMvdXNlci5tb2RlbCcpXG5jb25zdCBqd3QgPSByZXF1aXJlKCdqc29ud2VidG9rZW4nKVxuXG4vL2VxdWl2YWxlbnQgZGUgMyBqb3Vyc1xuY29uc3QgbWF4QWdlID0gMyAqIDI0ICogNjAgKiA2MCAqIDEwMDBcbi8vZnVuY3Rpb24gcXVpIGNyw6llciBsZSB0b2tlbiBlbiBmb25jdGlvbiBkJ3VuZSBjbMOpIGRlIGNyeXB0YWdlIHF1J29uIGF1cmEgbWlzIGRhbnMgdmFyaWFibGUgZCdlbnZpcm9ubmVtbWVudFxuY29uc3QgY3JlYXRlVG9rZW4gPSAoaWQpID0+IHtcbiAgICByZXR1cm4gand0LnNpZ24oeyBpZCB9LCBwcm9jZXNzLmVudi5UT0tFTl9TRUNSRVQsIHtcbiAgICAgICAgZXhwaXJlc0luOiBtYXhBZ2VcbiAgICB9KVxufVxuXG5cbmV4cG9ydCBjb25zdCBzaWduVXAgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IHBzZXVkbywgZW1haWwsIHBhc3N3b3JkIH0gPSByZXEuYm9keVxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmNyZWF0ZSh7IHBzZXVkbywgZW1haWwsIHBhc3N3b3JkIH0pXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgdXNlcjogdXNlci5faWQgfSlcbiAgICB9XG4gICAgY2F0Y2goZXJyKSB7XG4gICAgICAgIGNvbnN0IGVycm9ycyA9IHNpZ25VcEVycm9ycyhlcnIpXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKGVycm9ycylcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBzaWduSW4gPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHlcblxuICAgIHRyeSB7XG4gICAgICAgIC8vY2hlY2sgdXNlciBleGlzdCBhbmQgY29tcGFyZSBlbWFpbCB3aXRoIHBhc3N3b3JkXG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmxvZ2luKGVtYWlsLCBwYXNzd29yZClcbiAgICAgICAgLy9jcmVhdGUgdG9rZW5cbiAgICAgICAgY29uc3QgdG9rZW4gPSBjcmVhdGVUb2tlbih1c2VyLl9pZClcbiAgICAgICAgLy9vbiByZXRvdXJuZSBsZSB0b2tlbiBkYW5zIGxlcyBjb29raWVzIGFjY2Vzc2libGUgc2V1bGVtZW50IHBhciBsZSBzZXJ2ZXVyXG4gICAgICAgIHJlcy5jb29raWUoJ2p3dCcsIHRva2VuLCB7IGh0dHBPbmx5OiB0cnVlLCBtYXhBZ2UgfSlcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyB1c2VyOiB1c2VyLl9pZCB9KVxuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgY29uc3QgZXJyb3JzID0gc2lnbkluRXJyb3JzKGVycilcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKGVycm9ycyApXG4gICAgfVxuXG5cbn1cblxuZXhwb3J0IGNvbnN0IGxvZ291dCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHJlcy5jb29raWUoJ2p3dCcsICcnLCB7IG1heEFnZTogMSB9KTtcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6IFwiZGlzY29uZWN0XCIgfSlcbn1cblxuIl19","map":{"version":3,"sources":["auth.controller.js"],"names":["User","require","jwt","maxAge","createToken","id","sign","process","env","TOKEN_SECRET","expiresIn","signUp","req","res","pseudo","email","password","body","user","create","status","json","_id","err","errors","send","signIn","login","token","cookie","httpOnly","console","log","logout","message"],"mappings":";;;;;;;AAAA;;AACA;;AAEA,MAAMA,IAAI,GAAGC,OAAO,CAAC,sBAAD,CAApB;;AACA,MAAMC,GAAG,GAAGD,OAAO,CAAC,cAAD,CAAnB,C,CAEA;;;AACA,MAAME,MAAM,GAAG,IAAI,EAAJ,GAAS,EAAT,GAAc,EAAd,GAAmB,IAAlC,C,CACA;;AACA,MAAMC,WAAW,GAAIC,EAAD,IAAQ;AACxB,SAAOH,GAAG,CAACI,IAAJ,CAAS;AAAED,IAAAA;AAAF,GAAT,EAAiBE,OAAO,CAACC,GAAR,CAAYC,YAA7B,EAA2C;AAC9CC,IAAAA,SAAS,EAAEP;AADmC,GAA3C,CAAP;AAGH,CAJD;;AAOO,MAAMQ,MAAM,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA,KAAV;AAAiBC,IAAAA;AAAjB,MAA8BJ,GAAG,CAACK,IAAxC;;AACA,MAAI;AACA,UAAMC,IAAI,GAAG,MAAMlB,IAAI,CAACmB,MAAL,CAAY;AAAEL,MAAAA,MAAF;AAAUC,MAAAA,KAAV;AAAiBC,MAAAA;AAAjB,KAAZ,CAAnB;AACAH,IAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEH,MAAAA,IAAI,EAAEA,IAAI,CAACI;AAAb,KAArB;AACH,GAHD,CAIA,OAAMC,GAAN,EAAW;AACP,UAAMC,MAAM,GAAG,0BAAaD,GAAb,CAAf;AACAV,IAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBK,IAAhB,CAAqBD,MAArB;AACH;AACJ,CAVM;;;;AAYA,MAAME,MAAM,GAAG,OAAOd,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAM;AAAEE,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAsBJ,GAAG,CAACK,IAAhC;;AAEA,MAAI;AACA;AACA,UAAMC,IAAI,GAAG,MAAMlB,IAAI,CAAC2B,KAAL,CAAWZ,KAAX,EAAkBC,QAAlB,CAAnB,CAFA,CAGA;;AACA,UAAMY,KAAK,GAAGxB,WAAW,CAACc,IAAI,CAACI,GAAN,CAAzB,CAJA,CAKA;;AACAT,IAAAA,GAAG,CAACgB,MAAJ,CAAW,KAAX,EAAkBD,KAAlB,EAAyB;AAAEE,MAAAA,QAAQ,EAAE,IAAZ;AAAkB3B,MAAAA;AAAlB,KAAzB;AACAU,IAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEH,MAAAA,IAAI,EAAEA,IAAI,CAACI;AAAb,KAArB;AACH,GARD,CASA,OAAOC,GAAP,EAAY;AACRQ,IAAAA,OAAO,CAACC,GAAR,CAAYT,GAAZ;AACA,UAAMC,MAAM,GAAG,0BAAaD,GAAb,CAAf;AACA,WAAOV,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBG,MAArB,CAAP;AACH;AAGJ,CAnBM;;;;AAqBA,MAAMS,MAAM,GAAG,OAAOrB,GAAP,EAAYC,GAAZ,KAAoB;AACtCA,EAAAA,GAAG,CAACgB,MAAJ,CAAW,KAAX,EAAkB,EAAlB,EAAsB;AAAE1B,IAAAA,MAAM,EAAE;AAAV,GAAtB;AACAU,EAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEa,IAAAA,OAAO,EAAE;AAAX,GAArB;AACH,CAHM","sourceRoot":"/Applications/dossier/mern_project_app2/src/controllers/","sourcesContent":["import { response } from 'express'\nimport { signUpErrors, signInErrors } from '../utils/errors.utils'\n\nconst User = require('../models/user.model')\nconst jwt = require('jsonwebtoken')\n\n//equivalent de 3 jours\nconst maxAge = 3 * 24 * 60 * 60 * 1000\n//function qui créer le token en fonction d'une clé de cryptage qu'on aura mis dans variable d'environnemment\nconst createToken = (id) => {\n    return jwt.sign({ id }, process.env.TOKEN_SECRET, {\n        expiresIn: maxAge\n    })\n}\n\n\nexport const signUp = async (req, res) => {\n    const { pseudo, email, password } = req.body\n    try {\n        const user = await User.create({ pseudo, email, password })\n        res.status(201).json({ user: user._id })\n    }\n    catch(err) {\n        const errors = signUpErrors(err)\n        res.status(200).send(errors)\n    }\n}\n\nexport const signIn = async (req, res) => {\n    const { email, password } = req.body\n\n    try {\n        //check user exist and compare email with password\n        const user = await User.login(email, password)\n        //create token\n        const token = createToken(user._id)\n        //on retourne le token dans les cookies accessible seulement par le serveur\n        res.cookie('jwt', token, { httpOnly: true, maxAge })\n        res.status(200).json({ user: user._id })\n    }\n    catch (err) {\n        console.log(err)\n        const errors = signInErrors(err)\n        return res.status(200).json(errors )\n    }\n\n\n}\n\nexport const logout = async (req, res) => {\n    res.cookie('jwt', '', { maxAge: 1 });\n    res.status(200).json({ message: \"disconect\" })\n}\n\n"]}},"mtime":1651272394408},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/models/user.models.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nconst mongoose = require('mongoose');\n\nconst {\n  isEmail\n} = require('validator');\n\nconst bcrypt = require('bcrypt');\n\nconst Schema = mongoose.Schema;\nconst UserSchema = new Schema({\n  pseudo: {\n    type: String,\n    required: true,\n    minlength: 3,\n    maxlength: 55,\n    unique: true,\n    trim: true\n  },\n  email: {\n    type: String,\n    required: true,\n    validate: [isEmail],\n    lowercase: true,\n    unique: true,\n    trim: true\n  },\n  password: {\n    type: String,\n    required: true,\n    max: 1024,\n    minlength: 6\n  },\n  picture: {\n    type: String,\n    default: \"./uploads/profile/random-user.png\"\n  },\n  bio: {\n    type: String,\n    max: 1024\n  },\n  followers: {\n    type: [String]\n  },\n  following: {\n    type: [String]\n  },\n  likes: {\n    type: [String]\n  }\n}, {\n  timestamps: true\n}); //play function before save into db to allow crypt password\n// le next veut dire quand t'a fini passe à la suite\n\nUserSchema.pre('save', async function (next) {\n  const salt = await bcrypt.genSalt();\n  this.password = await bcrypt.hash(this.password, salt);\n  next();\n}); //c'est ce qui va nous permettre de comparer le password crypté de notre user en base de données avec celui utilise pdt le login d'un user\n\nUserSchema.statics.login = async function (email, password) {\n  const user = await this.findOne({\n    email: email\n  });\n\n  if (user) {\n    const auth = await bcrypt.compare(password, user.password);\n\n    if (auth) {\n      return user;\n    } else {\n      throw Error('Incorrect password');\n    }\n  }\n\n  throw Error('Incorrect password');\n};\n\nlet User = mongoose.model('User', UserSchema);\nmodule.exports = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIubW9kZWxzLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsImlzRW1haWwiLCJiY3J5cHQiLCJTY2hlbWEiLCJVc2VyU2NoZW1hIiwicHNldWRvIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwibWlubGVuZ3RoIiwibWF4bGVuZ3RoIiwidW5pcXVlIiwidHJpbSIsImVtYWlsIiwidmFsaWRhdGUiLCJsb3dlcmNhc2UiLCJwYXNzd29yZCIsIm1heCIsInBpY3R1cmUiLCJkZWZhdWx0IiwiYmlvIiwiZm9sbG93ZXJzIiwiZm9sbG93aW5nIiwibGlrZXMiLCJ0aW1lc3RhbXBzIiwicHJlIiwibmV4dCIsInNhbHQiLCJnZW5TYWx0IiwiaGFzaCIsInN0YXRpY3MiLCJsb2dpbiIsInVzZXIiLCJmaW5kT25lIiwiYXV0aCIsImNvbXBhcmUiLCJFcnJvciIsIlVzZXIiLCJtb2RlbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBRCxDQUF4Qjs7QUFDQSxNQUFNO0FBQUNDLEVBQUFBO0FBQUQsSUFBWUQsT0FBTyxDQUFDLFdBQUQsQ0FBekI7O0FBQ0EsTUFBTUUsTUFBTSxHQUFHRixPQUFPLENBQUMsUUFBRCxDQUF0Qjs7QUFFQSxNQUFNRyxNQUFNLEdBQUdKLFFBQVEsQ0FBQ0ksTUFBeEI7QUFDQSxNQUFNQyxVQUFVLEdBQUcsSUFBSUQsTUFBSixDQUFXO0FBQzFCRSxFQUFBQSxNQUFNLEVBQUU7QUFDSkMsSUFBQUEsSUFBSSxFQUFFQyxNQURGO0FBRUpDLElBQUFBLFFBQVEsRUFBQyxJQUZMO0FBR0pDLElBQUFBLFNBQVMsRUFBRSxDQUhQO0FBSUpDLElBQUFBLFNBQVMsRUFBQyxFQUpOO0FBS0pDLElBQUFBLE1BQU0sRUFBQyxJQUxIO0FBTUpDLElBQUFBLElBQUksRUFBQztBQU5ELEdBRGtCO0FBUzFCQyxFQUFBQSxLQUFLLEVBQUM7QUFDRlAsSUFBQUEsSUFBSSxFQUFDQyxNQURIO0FBRUZDLElBQUFBLFFBQVEsRUFBQyxJQUZQO0FBR0ZNLElBQUFBLFFBQVEsRUFBQyxDQUFDYixPQUFELENBSFA7QUFJRmMsSUFBQUEsU0FBUyxFQUFDLElBSlI7QUFLRkosSUFBQUEsTUFBTSxFQUFDLElBTEw7QUFNRkMsSUFBQUEsSUFBSSxFQUFDO0FBTkgsR0FUb0I7QUFpQjFCSSxFQUFBQSxRQUFRLEVBQUM7QUFDTFYsSUFBQUEsSUFBSSxFQUFDQyxNQURBO0FBRUxDLElBQUFBLFFBQVEsRUFBQyxJQUZKO0FBR0xTLElBQUFBLEdBQUcsRUFBQyxJQUhDO0FBSUxSLElBQUFBLFNBQVMsRUFBQztBQUpMLEdBakJpQjtBQXVCMUJTLEVBQUFBLE9BQU8sRUFBQztBQUNKWixJQUFBQSxJQUFJLEVBQUNDLE1BREQ7QUFFSlksSUFBQUEsT0FBTyxFQUFDO0FBRkosR0F2QmtCO0FBMkIxQkMsRUFBQUEsR0FBRyxFQUFDO0FBQ0FkLElBQUFBLElBQUksRUFBQ0MsTUFETDtBQUVBVSxJQUFBQSxHQUFHLEVBQUM7QUFGSixHQTNCc0I7QUErQjFCSSxFQUFBQSxTQUFTLEVBQUU7QUFDUGYsSUFBQUEsSUFBSSxFQUFDLENBQUNDLE1BQUQ7QUFERSxHQS9CZTtBQWtDMUJlLEVBQUFBLFNBQVMsRUFBQztBQUNOaEIsSUFBQUEsSUFBSSxFQUFDLENBQUNDLE1BQUQ7QUFEQyxHQWxDZ0I7QUFxQzFCZ0IsRUFBQUEsS0FBSyxFQUFFO0FBQ0hqQixJQUFBQSxJQUFJLEVBQUMsQ0FBQ0MsTUFBRDtBQURGO0FBckNtQixDQUFYLEVBd0NoQjtBQUNDaUIsRUFBQUEsVUFBVSxFQUFDO0FBRFosQ0F4Q2dCLENBQW5CLEMsQ0E2Q0E7QUFDQTs7QUFDQXBCLFVBQVUsQ0FBQ3FCLEdBQVgsQ0FBZSxNQUFmLEVBQXVCLGdCQUFnQkMsSUFBaEIsRUFBcUI7QUFDeEMsUUFBTUMsSUFBSSxHQUFHLE1BQU16QixNQUFNLENBQUMwQixPQUFQLEVBQW5CO0FBQ0EsT0FBS1osUUFBTCxHQUFnQixNQUFNZCxNQUFNLENBQUMyQixJQUFQLENBQVksS0FBS2IsUUFBakIsRUFBMkJXLElBQTNCLENBQXRCO0FBQ0FELEVBQUFBLElBQUk7QUFDUCxDQUpELEUsQ0FNQTs7QUFDQXRCLFVBQVUsQ0FBQzBCLE9BQVgsQ0FBbUJDLEtBQW5CLEdBQTJCLGdCQUFlbEIsS0FBZixFQUFzQkcsUUFBdEIsRUFBK0I7QUFDdEQsUUFBTWdCLElBQUksR0FBRyxNQUFNLEtBQUtDLE9BQUwsQ0FBYTtBQUFDcEIsSUFBQUEsS0FBSyxFQUFFQTtBQUFSLEdBQWIsQ0FBbkI7O0FBQ0EsTUFBR21CLElBQUgsRUFBUTtBQUNKLFVBQU1FLElBQUksR0FBRyxNQUFNaEMsTUFBTSxDQUFDaUMsT0FBUCxDQUFlbkIsUUFBZixFQUF5QmdCLElBQUksQ0FBQ2hCLFFBQTlCLENBQW5COztBQUNBLFFBQUdrQixJQUFILEVBQVE7QUFDSixhQUFPRixJQUFQO0FBQ0gsS0FGRCxNQUdJO0FBQ0EsWUFBTUksS0FBSyxDQUFDLG9CQUFELENBQVg7QUFDSDtBQUNKOztBQUNELFFBQU1BLEtBQUssQ0FBQyxvQkFBRCxDQUFYO0FBQ0gsQ0FaRDs7QUFhQSxJQUFJQyxJQUFJLEdBQUd0QyxRQUFRLENBQUN1QyxLQUFULENBQWUsTUFBZixFQUF1QmxDLFVBQXZCLENBQVg7QUFDQW1DLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQkgsSUFBakIiLCJzb3VyY2VSb290IjoiL0FwcGxpY2F0aW9ucy9kb3NzaWVyL21lcm5fcHJvamVjdF9hcHAyL3NyYy9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xuY29uc3Qge2lzRW1haWx9ID0gcmVxdWlyZSgndmFsaWRhdG9yJyk7XG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKCdiY3J5cHQnKTtcblxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xuY29uc3QgVXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICAgIHBzZXVkbzoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOnRydWUsXG4gICAgICAgIG1pbmxlbmd0aDogMywgXG4gICAgICAgIG1heGxlbmd0aDo1NSwgXG4gICAgICAgIHVuaXF1ZTp0cnVlLFxuICAgICAgICB0cmltOnRydWVcbiAgICB9LFxuICAgIGVtYWlsOntcbiAgICAgICAgdHlwZTpTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOnRydWUsXG4gICAgICAgIHZhbGlkYXRlOltpc0VtYWlsXSxcbiAgICAgICAgbG93ZXJjYXNlOnRydWUsICAgICAgICBcbiAgICAgICAgdW5pcXVlOnRydWUsXG4gICAgICAgIHRyaW06dHJ1ZSxcbiAgICB9LFxuICAgIHBhc3N3b3JkOntcbiAgICAgICAgdHlwZTpTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOnRydWUsXG4gICAgICAgIG1heDoxMDI0LFxuICAgICAgICBtaW5sZW5ndGg6NlxuICAgIH0sXG4gICAgcGljdHVyZTp7XG4gICAgICAgIHR5cGU6U3RyaW5nLFxuICAgICAgICBkZWZhdWx0OlwiLi91cGxvYWRzL3Byb2ZpbGUvcmFuZG9tLXVzZXIucG5nXCJcbiAgICB9LFxuICAgIGJpbzp7XG4gICAgICAgIHR5cGU6U3RyaW5nLFxuICAgICAgICBtYXg6MTAyNFxuICAgIH0sXG4gICAgZm9sbG93ZXJzOiB7XG4gICAgICAgIHR5cGU6W1N0cmluZ10sXG4gICAgfSxcbiAgICBmb2xsb3dpbmc6e1xuICAgICAgICB0eXBlOltTdHJpbmddLFxuICAgIH0sXG4gICAgbGlrZXM6IHtcbiAgICAgICAgdHlwZTpbU3RyaW5nXSxcbiAgICB9XG59LCB7XG4gICAgdGltZXN0YW1wczp0cnVlXG59XG4pO1xuXG4vL3BsYXkgZnVuY3Rpb24gYmVmb3JlIHNhdmUgaW50byBkYiB0byBhbGxvdyBjcnlwdCBwYXNzd29yZFxuLy8gbGUgbmV4dCB2ZXV0IGRpcmUgcXVhbmQgdCdhIGZpbmkgcGFzc2Ugw6AgbGEgc3VpdGVcblVzZXJTY2hlbWEucHJlKCdzYXZlJywgYXN5bmMgZnVuY3Rpb24gKG5leHQpe1xuICAgIGNvbnN0IHNhbHQgPSBhd2FpdCBiY3J5cHQuZ2VuU2FsdCgpO1xuICAgIHRoaXMucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaCh0aGlzLnBhc3N3b3JkLCBzYWx0KTtcbiAgICBuZXh0KCk7XG59KVxuXG4vL2MnZXN0IGNlIHF1aSB2YSBub3VzIHBlcm1ldHRyZSBkZSBjb21wYXJlciBsZSBwYXNzd29yZCBjcnlwdMOpIGRlIG5vdHJlIHVzZXIgZW4gYmFzZSBkZSBkb25uw6llcyBhdmVjIGNlbHVpIHV0aWxpc2UgcGR0IGxlIGxvZ2luIGQndW4gdXNlclxuVXNlclNjaGVtYS5zdGF0aWNzLmxvZ2luID0gYXN5bmMgZnVuY3Rpb24oZW1haWwsIHBhc3N3b3JkKXtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcy5maW5kT25lKHtlbWFpbDogZW1haWx9KTtcbiAgICBpZih1c2VyKXtcbiAgICAgICAgY29uc3QgYXV0aCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKVxuICAgICAgICBpZihhdXRoKXtcbiAgICAgICAgICAgIHJldHVybiB1c2VyXG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdJbmNvcnJlY3QgcGFzc3dvcmQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBFcnJvcignSW5jb3JyZWN0IHBhc3N3b3JkJyk7XG59XG5sZXQgVXNlciA9IG1vbmdvb3NlLm1vZGVsKCdVc2VyJywgVXNlclNjaGVtYSk7XG5tb2R1bGUuZXhwb3J0cyA9IFVzZXI7Il19","map":{"version":3,"sources":["user.models.js"],"names":["mongoose","require","isEmail","bcrypt","Schema","UserSchema","pseudo","type","String","required","minlength","maxlength","unique","trim","email","validate","lowercase","password","max","picture","default","bio","followers","following","likes","timestamps","pre","next","salt","genSalt","hash","statics","login","user","findOne","auth","compare","Error","User","model","module","exports"],"mappings":";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAM;AAACC,EAAAA;AAAD,IAAYD,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAME,MAAM,GAAGF,OAAO,CAAC,QAAD,CAAtB;;AAEA,MAAMG,MAAM,GAAGJ,QAAQ,CAACI,MAAxB;AACA,MAAMC,UAAU,GAAG,IAAID,MAAJ,CAAW;AAC1BE,EAAAA,MAAM,EAAE;AACJC,IAAAA,IAAI,EAAEC,MADF;AAEJC,IAAAA,QAAQ,EAAC,IAFL;AAGJC,IAAAA,SAAS,EAAE,CAHP;AAIJC,IAAAA,SAAS,EAAC,EAJN;AAKJC,IAAAA,MAAM,EAAC,IALH;AAMJC,IAAAA,IAAI,EAAC;AAND,GADkB;AAS1BC,EAAAA,KAAK,EAAC;AACFP,IAAAA,IAAI,EAACC,MADH;AAEFC,IAAAA,QAAQ,EAAC,IAFP;AAGFM,IAAAA,QAAQ,EAAC,CAACb,OAAD,CAHP;AAIFc,IAAAA,SAAS,EAAC,IAJR;AAKFJ,IAAAA,MAAM,EAAC,IALL;AAMFC,IAAAA,IAAI,EAAC;AANH,GAToB;AAiB1BI,EAAAA,QAAQ,EAAC;AACLV,IAAAA,IAAI,EAACC,MADA;AAELC,IAAAA,QAAQ,EAAC,IAFJ;AAGLS,IAAAA,GAAG,EAAC,IAHC;AAILR,IAAAA,SAAS,EAAC;AAJL,GAjBiB;AAuB1BS,EAAAA,OAAO,EAAC;AACJZ,IAAAA,IAAI,EAACC,MADD;AAEJY,IAAAA,OAAO,EAAC;AAFJ,GAvBkB;AA2B1BC,EAAAA,GAAG,EAAC;AACAd,IAAAA,IAAI,EAACC,MADL;AAEAU,IAAAA,GAAG,EAAC;AAFJ,GA3BsB;AA+B1BI,EAAAA,SAAS,EAAE;AACPf,IAAAA,IAAI,EAAC,CAACC,MAAD;AADE,GA/Be;AAkC1Be,EAAAA,SAAS,EAAC;AACNhB,IAAAA,IAAI,EAAC,CAACC,MAAD;AADC,GAlCgB;AAqC1BgB,EAAAA,KAAK,EAAE;AACHjB,IAAAA,IAAI,EAAC,CAACC,MAAD;AADF;AArCmB,CAAX,EAwChB;AACCiB,EAAAA,UAAU,EAAC;AADZ,CAxCgB,CAAnB,C,CA6CA;AACA;;AACApB,UAAU,CAACqB,GAAX,CAAe,MAAf,EAAuB,gBAAgBC,IAAhB,EAAqB;AACxC,QAAMC,IAAI,GAAG,MAAMzB,MAAM,CAAC0B,OAAP,EAAnB;AACA,OAAKZ,QAAL,GAAgB,MAAMd,MAAM,CAAC2B,IAAP,CAAY,KAAKb,QAAjB,EAA2BW,IAA3B,CAAtB;AACAD,EAAAA,IAAI;AACP,CAJD,E,CAMA;;AACAtB,UAAU,CAAC0B,OAAX,CAAmBC,KAAnB,GAA2B,gBAAelB,KAAf,EAAsBG,QAAtB,EAA+B;AACtD,QAAMgB,IAAI,GAAG,MAAM,KAAKC,OAAL,CAAa;AAACpB,IAAAA,KAAK,EAAEA;AAAR,GAAb,CAAnB;;AACA,MAAGmB,IAAH,EAAQ;AACJ,UAAME,IAAI,GAAG,MAAMhC,MAAM,CAACiC,OAAP,CAAenB,QAAf,EAAyBgB,IAAI,CAAChB,QAA9B,CAAnB;;AACA,QAAGkB,IAAH,EAAQ;AACJ,aAAOF,IAAP;AACH,KAFD,MAGI;AACA,YAAMI,KAAK,CAAC,oBAAD,CAAX;AACH;AACJ;;AACD,QAAMA,KAAK,CAAC,oBAAD,CAAX;AACH,CAZD;;AAaA,IAAIC,IAAI,GAAGtC,QAAQ,CAACuC,KAAT,CAAe,MAAf,EAAuBlC,UAAvB,CAAX;AACAmC,MAAM,CAACC,OAAP,GAAiBH,IAAjB","sourceRoot":"/Applications/dossier/mern_project_app2/src/models/","sourcesContent":["const mongoose = require('mongoose');\nconst {isEmail} = require('validator');\nconst bcrypt = require('bcrypt');\n\nconst Schema = mongoose.Schema;\nconst UserSchema = new Schema({\n    pseudo: {\n        type: String,\n        required:true,\n        minlength: 3, \n        maxlength:55, \n        unique:true,\n        trim:true\n    },\n    email:{\n        type:String,\n        required:true,\n        validate:[isEmail],\n        lowercase:true,        \n        unique:true,\n        trim:true,\n    },\n    password:{\n        type:String,\n        required:true,\n        max:1024,\n        minlength:6\n    },\n    picture:{\n        type:String,\n        default:\"./uploads/profile/random-user.png\"\n    },\n    bio:{\n        type:String,\n        max:1024\n    },\n    followers: {\n        type:[String],\n    },\n    following:{\n        type:[String],\n    },\n    likes: {\n        type:[String],\n    }\n}, {\n    timestamps:true\n}\n);\n\n//play function before save into db to allow crypt password\n// le next veut dire quand t'a fini passe à la suite\nUserSchema.pre('save', async function (next){\n    const salt = await bcrypt.genSalt();\n    this.password = await bcrypt.hash(this.password, salt);\n    next();\n})\n\n//c'est ce qui va nous permettre de comparer le password crypté de notre user en base de données avec celui utilise pdt le login d'un user\nUserSchema.statics.login = async function(email, password){\n    const user = await this.findOne({email: email});\n    if(user){\n        const auth = await bcrypt.compare(password, user.password)\n        if(auth){\n            return user\n        }\n        else{\n            throw Error('Incorrect password');\n        }\n    }\n    throw Error('Incorrect password');\n}\nlet User = mongoose.model('User', UserSchema);\nmodule.exports = User;"]}},"mtime":1651271257003},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/db.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nconst mongoose = require('mongoose');\n\nmongoose.connect(`mongodb+srv://${process.env.DB_USERNAME}:${process.env.DB_PASSWORD}@cluster0.gbvxg.mongodb.net/mern_project`).then(() => console.log('Connected to MongoDB')).catch(error => console.log(\"Failed to connect MongoDB\", error));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsImNvbm5lY3QiLCJwcm9jZXNzIiwiZW52IiwiREJfVVNFUk5BTUUiLCJEQl9QQVNTV09SRCIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnJvciJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQXhCOztBQUVBRCxRQUFRLENBQ0hFLE9BREwsQ0FDYyxpQkFBZ0JDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxXQUFZLElBQUdGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxXQUFZLDBDQURqRixFQUVLQyxJQUZMLENBRVUsTUFBTUMsT0FBTyxDQUFDQyxHQUFSLENBQVksc0JBQVosQ0FGaEIsRUFHS0MsS0FITCxDQUdZQyxLQUFELElBQVdILE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDJCQUFaLEVBQXlDRSxLQUF6QyxDQUh0QiIsInNvdXJjZVJvb3QiOiIvQXBwbGljYXRpb25zL2Rvc3NpZXIvbWVybl9wcm9qZWN0X2FwcDIvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpXG5cbm1vbmdvb3NlXG4gICAgLmNvbm5lY3QoYG1vbmdvZGIrc3J2Oi8vJHtwcm9jZXNzLmVudi5EQl9VU0VSTkFNRX06JHtwcm9jZXNzLmVudi5EQl9QQVNTV09SRH1AY2x1c3RlcjAuZ2J2eGcubW9uZ29kYi5uZXQvbWVybl9wcm9qZWN0YClcbiAgICAudGhlbigoKSA9PiBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIE1vbmdvREInKSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmxvZyhcIkZhaWxlZCB0byBjb25uZWN0IE1vbmdvREJcIiwgZXJyb3IpKSJdfQ==","map":{"version":3,"sources":["db.js"],"names":["mongoose","require","connect","process","env","DB_USERNAME","DB_PASSWORD","then","console","log","catch","error"],"mappings":";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAEAD,QAAQ,CACHE,OADL,CACc,iBAAgBC,OAAO,CAACC,GAAR,CAAYC,WAAY,IAAGF,OAAO,CAACC,GAAR,CAAYE,WAAY,0CADjF,EAEKC,IAFL,CAEU,MAAMC,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAFhB,EAGKC,KAHL,CAGYC,KAAD,IAAWH,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCE,KAAzC,CAHtB","sourceRoot":"/Applications/dossier/mern_project_app2/","sourcesContent":["const mongoose = require('mongoose')\n\nmongoose\n    .connect(`mongodb+srv://${process.env.DB_USERNAME}:${process.env.DB_PASSWORD}@cluster0.gbvxg.mongodb.net/mern_project`)\n    .then(() => console.log('Connected to MongoDB'))\n    .catch((error) => console.log(\"Failed to connect MongoDB\", error))"]}},"mtime":1651231241527},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/database.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nconst mongoose = require('mongoose');\n\nmongoose.connect(`mongodb+srv://${process.env.DB_USERNAME}:${process.env.DB_PASSWORD}@cluster0.gbvxg.mongodb.net/mern_project`).then(() => console.log('Connected to MongoDB')).catch(error => console.log(\"Failed to connect MongoDB\", error));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGFiYXNlLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsImNvbm5lY3QiLCJwcm9jZXNzIiwiZW52IiwiREJfVVNFUk5BTUUiLCJEQl9QQVNTV09SRCIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnJvciJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQXhCOztBQUVBRCxRQUFRLENBQ0hFLE9BREwsQ0FDYyxpQkFBZ0JDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxXQUFZLElBQUdGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxXQUFZLDBDQURqRixFQUVLQyxJQUZMLENBRVUsTUFBTUMsT0FBTyxDQUFDQyxHQUFSLENBQVksc0JBQVosQ0FGaEIsRUFHS0MsS0FITCxDQUdZQyxLQUFELElBQVdILE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDJCQUFaLEVBQXlDRSxLQUF6QyxDQUh0QiIsInNvdXJjZVJvb3QiOiIvQXBwbGljYXRpb25zL2Rvc3NpZXIvbWVybl9wcm9qZWN0X2FwcDIvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpXG5cbm1vbmdvb3NlXG4gICAgLmNvbm5lY3QoYG1vbmdvZGIrc3J2Oi8vJHtwcm9jZXNzLmVudi5EQl9VU0VSTkFNRX06JHtwcm9jZXNzLmVudi5EQl9QQVNTV09SRH1AY2x1c3RlcjAuZ2J2eGcubW9uZ29kYi5uZXQvbWVybl9wcm9qZWN0YClcbiAgICAudGhlbigoKSA9PiBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIE1vbmdvREInKSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmxvZyhcIkZhaWxlZCB0byBjb25uZWN0IE1vbmdvREJcIiwgZXJyb3IpKSJdfQ==","map":{"version":3,"sources":["database.js"],"names":["mongoose","require","connect","process","env","DB_USERNAME","DB_PASSWORD","then","console","log","catch","error"],"mappings":";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAEAD,QAAQ,CACHE,OADL,CACc,iBAAgBC,OAAO,CAACC,GAAR,CAAYC,WAAY,IAAGF,OAAO,CAACC,GAAR,CAAYE,WAAY,0CADjF,EAEKC,IAFL,CAEU,MAAMC,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAFhB,EAGKC,KAHL,CAGYC,KAAD,IAAWH,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCE,KAAzC,CAHtB","sourceRoot":"/Applications/dossier/mern_project_app2/","sourcesContent":["const mongoose = require('mongoose')\n\nmongoose\n    .connect(`mongodb+srv://${process.env.DB_USERNAME}:${process.env.DB_PASSWORD}@cluster0.gbvxg.mongodb.net/mern_project`)\n    .then(() => console.log('Connected to MongoDB'))\n    .catch((error) => console.log(\"Failed to connect MongoDB\", error))"]}},"mtime":1651231241527},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/database.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nconst mongoose = require('mongoose');\n\nmongoose.connect(`mongodb+srv://${process.env.DB_USERNAME}:${process.env.DB_PASSWORD}@cluster0.gbvxg.mongodb.net/mern_project`).then(() => console.log('Connected to MongoDB')).catch(error => console.log(\"Failed to connect MongoDB\", error));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGFiYXNlLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsImNvbm5lY3QiLCJwcm9jZXNzIiwiZW52IiwiREJfVVNFUk5BTUUiLCJEQl9QQVNTV09SRCIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnJvciJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQXhCOztBQUVBRCxRQUFRLENBQ0hFLE9BREwsQ0FDYyxpQkFBZ0JDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxXQUFZLElBQUdGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxXQUFZLDBDQURqRixFQUVLQyxJQUZMLENBRVUsTUFBTUMsT0FBTyxDQUFDQyxHQUFSLENBQVksc0JBQVosQ0FGaEIsRUFHS0MsS0FITCxDQUdZQyxLQUFELElBQVdILE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDJCQUFaLEVBQXlDRSxLQUF6QyxDQUh0QiIsInNvdXJjZVJvb3QiOiIvQXBwbGljYXRpb25zL2Rvc3NpZXIvbWVybl9wcm9qZWN0X2FwcDIvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpXG5cbm1vbmdvb3NlXG4gICAgLmNvbm5lY3QoYG1vbmdvZGIrc3J2Oi8vJHtwcm9jZXNzLmVudi5EQl9VU0VSTkFNRX06JHtwcm9jZXNzLmVudi5EQl9QQVNTV09SRH1AY2x1c3RlcjAuZ2J2eGcubW9uZ29kYi5uZXQvbWVybl9wcm9qZWN0YClcbiAgICAudGhlbigoKSA9PiBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIE1vbmdvREInKSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmxvZyhcIkZhaWxlZCB0byBjb25uZWN0IE1vbmdvREJcIiwgZXJyb3IpKSJdfQ==","map":{"version":3,"sources":["database.js"],"names":["mongoose","require","connect","process","env","DB_USERNAME","DB_PASSWORD","then","console","log","catch","error"],"mappings":";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAEAD,QAAQ,CACHE,OADL,CACc,iBAAgBC,OAAO,CAACC,GAAR,CAAYC,WAAY,IAAGF,OAAO,CAACC,GAAR,CAAYE,WAAY,0CADjF,EAEKC,IAFL,CAEU,MAAMC,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAFhB,EAGKC,KAHL,CAGYC,KAAD,IAAWH,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCE,KAAzC,CAHtB","sourceRoot":"/Applications/dossier/mern_project_app2/","sourcesContent":["const mongoose = require('mongoose')\n\nmongoose\n    .connect(`mongodb+srv://${process.env.DB_USERNAME}:${process.env.DB_PASSWORD}@cluster0.gbvxg.mongodb.net/mern_project`)\n    .then(() => console.log('Connected to MongoDB'))\n    .catch((error) => console.log(\"Failed to connect MongoDB\", error))"]}},"mtime":1651231241527},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/routes/api/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/routes/api/user.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nconst router = require(\"express\").Router();\n\nconst authController = require('../../controllers/auth.controller');\n\nrouter.post('/register', authController.signUp);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIucm91dGVzLmpzIl0sIm5hbWVzIjpbInJvdXRlciIsInJlcXVpcmUiLCJSb3V0ZXIiLCJhdXRoQ29udHJvbGxlciIsInBvc3QiLCJzaWduVXAiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLE1BQU0sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBUCxDQUFtQkMsTUFBbkIsRUFBZjs7QUFDQSxNQUFNQyxjQUFjLEdBQUdGLE9BQU8sQ0FBQyxtQ0FBRCxDQUE5Qjs7QUFFQUQsTUFBTSxDQUFDSSxJQUFQLENBQVksV0FBWixFQUF5QkQsY0FBYyxDQUFDRSxNQUF4QztBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJQLE1BQWpCIiwic291cmNlUm9vdCI6Ii9BcHBsaWNhdGlvbnMvZG9zc2llci9tZXJuX3Byb2plY3RfYXBwMi9zcmMvcm91dGVzL2FwaS8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByb3V0ZXIgPSByZXF1aXJlKFwiZXhwcmVzc1wiKS5Sb3V0ZXIoKTtcbmNvbnN0IGF1dGhDb250cm9sbGVyID0gcmVxdWlyZSgnLi4vLi4vY29udHJvbGxlcnMvYXV0aC5jb250cm9sbGVyJylcblxucm91dGVyLnBvc3QoJy9yZWdpc3RlcicsIGF1dGhDb250cm9sbGVyLnNpZ25VcCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdfQ==","map":{"version":3,"sources":["user.routes.js"],"names":["router","require","Router","authController","post","signUp","module","exports"],"mappings":";;AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,SAAD,CAAP,CAAmBC,MAAnB,EAAf;;AACA,MAAMC,cAAc,GAAGF,OAAO,CAAC,mCAAD,CAA9B;;AAEAD,MAAM,CAACI,IAAP,CAAY,WAAZ,EAAyBD,cAAc,CAACE,MAAxC;AAEAC,MAAM,CAACC,OAAP,GAAiBP,MAAjB","sourceRoot":"/Applications/dossier/mern_project_app2/src/routes/api/","sourcesContent":["const router = require(\"express\").Router();\nconst authController = require('../../controllers/auth.controller')\n\nrouter.post('/register', authController.signUp);\n\nmodule.exports = router;"]}},"mtime":1651234921473},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/routes/api/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/routes/api/user.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nconst router = require(\"express\").Router();\n\nconst authController = require('../../controllers/auth.controller');\n\nrouter.post('/register', authController.signUp);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIucm91dGVzLmpzIl0sIm5hbWVzIjpbInJvdXRlciIsInJlcXVpcmUiLCJSb3V0ZXIiLCJhdXRoQ29udHJvbGxlciIsInBvc3QiLCJzaWduVXAiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLE1BQU0sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBUCxDQUFtQkMsTUFBbkIsRUFBZjs7QUFDQSxNQUFNQyxjQUFjLEdBQUdGLE9BQU8sQ0FBQyxtQ0FBRCxDQUE5Qjs7QUFFQUQsTUFBTSxDQUFDSSxJQUFQLENBQVksV0FBWixFQUF5QkQsY0FBYyxDQUFDRSxNQUF4QztBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJQLE1BQWpCIiwic291cmNlUm9vdCI6Ii9BcHBsaWNhdGlvbnMvZG9zc2llci9tZXJuX3Byb2plY3RfYXBwMi9zcmMvcm91dGVzL2FwaS8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByb3V0ZXIgPSByZXF1aXJlKFwiZXhwcmVzc1wiKS5Sb3V0ZXIoKTtcbmNvbnN0IGF1dGhDb250cm9sbGVyID0gcmVxdWlyZSgnLi4vLi4vY29udHJvbGxlcnMvYXV0aC5jb250cm9sbGVyJylcblxucm91dGVyLnBvc3QoJy9yZWdpc3RlcicsIGF1dGhDb250cm9sbGVyLnNpZ25VcCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdfQ==","map":{"version":3,"sources":["user.routes.js"],"names":["router","require","Router","authController","post","signUp","module","exports"],"mappings":";;AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,SAAD,CAAP,CAAmBC,MAAnB,EAAf;;AACA,MAAMC,cAAc,GAAGF,OAAO,CAAC,mCAAD,CAA9B;;AAEAD,MAAM,CAACI,IAAP,CAAY,WAAZ,EAAyBD,cAAc,CAACE,MAAxC;AAEAC,MAAM,CAACC,OAAP,GAAiBP,MAAjB","sourceRoot":"/Applications/dossier/mern_project_app2/src/routes/api/","sourcesContent":["const router = require(\"express\").Router();\nconst authController = require('../../controllers/auth.controller')\n\nrouter.post('/register', authController.signUp);\n\nmodule.exports = router;"]}},"mtime":1651234921473},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/routes/api/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/routes/api/user.route.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar AuthController = _interopRequireWildcard(require(\"../../controllers/auth.controller\"));\n\nvar UserController = _interopRequireWildcard(require(\"../../controllers/user.controller\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst api = (0, _express.Router)(); //auth\n\napi.post('/register', AuthController.signUp);\napi.post('/login', AuthController.signIn);\napi.get('/logout', AuthController.logout); //user\n\napi.get('/', UserController.getAllUsers);\napi.get('/:id', UserController.getUserInfo);\napi.put('/:id', UserController.updateUser);\napi.delete('/:id', UserController.deleteUser);\napi.patch('/follow/:id', UserController.follow);\napi.patch('/unfollow/:id', UserController.unfollow);\nvar _default = api;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIucm91dGUuanMiXSwibmFtZXMiOlsiYXBpIiwicG9zdCIsIkF1dGhDb250cm9sbGVyIiwic2lnblVwIiwic2lnbkluIiwiZ2V0IiwibG9nb3V0IiwiVXNlckNvbnRyb2xsZXIiLCJnZXRBbGxVc2VycyIsImdldFVzZXJJbmZvIiwicHV0IiwidXBkYXRlVXNlciIsImRlbGV0ZSIsImRlbGV0ZVVzZXIiLCJwYXRjaCIsImZvbGxvdyIsInVuZm9sbG93Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7OztBQUVBLE1BQU1BLEdBQUcsR0FBRyxzQkFBWixDLENBRUE7O0FBQ0FBLEdBQUcsQ0FBQ0MsSUFBSixDQUFTLFdBQVQsRUFBc0JDLGNBQWMsQ0FBQ0MsTUFBckM7QUFDQUgsR0FBRyxDQUFDQyxJQUFKLENBQVMsUUFBVCxFQUFtQkMsY0FBYyxDQUFDRSxNQUFsQztBQUNBSixHQUFHLENBQUNLLEdBQUosQ0FBUSxTQUFSLEVBQW1CSCxjQUFjLENBQUNJLE1BQWxDLEUsQ0FFQTs7QUFDQU4sR0FBRyxDQUFDSyxHQUFKLENBQVEsR0FBUixFQUFhRSxjQUFjLENBQUNDLFdBQTVCO0FBQ0FSLEdBQUcsQ0FBQ0ssR0FBSixDQUFRLE1BQVIsRUFBZ0JFLGNBQWMsQ0FBQ0UsV0FBL0I7QUFDQVQsR0FBRyxDQUFDVSxHQUFKLENBQVEsTUFBUixFQUFnQkgsY0FBYyxDQUFDSSxVQUEvQjtBQUNBWCxHQUFHLENBQUNZLE1BQUosQ0FBVyxNQUFYLEVBQW1CTCxjQUFjLENBQUNNLFVBQWxDO0FBQ0FiLEdBQUcsQ0FBQ2MsS0FBSixDQUFVLGFBQVYsRUFBeUJQLGNBQWMsQ0FBQ1EsTUFBeEM7QUFDQWYsR0FBRyxDQUFDYyxLQUFKLENBQVUsZUFBVixFQUEyQlAsY0FBYyxDQUFDUyxRQUExQztlQUVlaEIsRyIsInNvdXJjZVJvb3QiOiIvQXBwbGljYXRpb25zL2Rvc3NpZXIvbWVybl9wcm9qZWN0X2FwcDIvc3JjL3JvdXRlcy9hcGkvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgKiBhcyBBdXRoQ29udHJvbGxlciBmcm9tICcuLi8uLi9jb250cm9sbGVycy9hdXRoLmNvbnRyb2xsZXInO1xuaW1wb3J0ICogYXMgVXNlckNvbnRyb2xsZXIgZnJvbSAnLi4vLi4vY29udHJvbGxlcnMvdXNlci5jb250cm9sbGVyJztcblxuY29uc3QgYXBpID0gUm91dGVyKCk7XG5cbi8vYXV0aFxuYXBpLnBvc3QoJy9yZWdpc3RlcicsIEF1dGhDb250cm9sbGVyLnNpZ25VcCk7XG5hcGkucG9zdCgnL2xvZ2luJywgQXV0aENvbnRyb2xsZXIuc2lnbkluKTtcbmFwaS5nZXQoJy9sb2dvdXQnLCBBdXRoQ29udHJvbGxlci5sb2dvdXQpO1xuXG4vL3VzZXJcbmFwaS5nZXQoJy8nLCBVc2VyQ29udHJvbGxlci5nZXRBbGxVc2Vycyk7XG5hcGkuZ2V0KCcvOmlkJywgVXNlckNvbnRyb2xsZXIuZ2V0VXNlckluZm8pO1xuYXBpLnB1dCgnLzppZCcsIFVzZXJDb250cm9sbGVyLnVwZGF0ZVVzZXIpO1xuYXBpLmRlbGV0ZSgnLzppZCcsIFVzZXJDb250cm9sbGVyLmRlbGV0ZVVzZXIpO1xuYXBpLnBhdGNoKCcvZm9sbG93LzppZCcsIFVzZXJDb250cm9sbGVyLmZvbGxvdyk7XG5hcGkucGF0Y2goJy91bmZvbGxvdy86aWQnLCBVc2VyQ29udHJvbGxlci51bmZvbGxvdyk7XG5cbmV4cG9ydCBkZWZhdWx0IGFwaTsiXX0=","map":{"version":3,"sources":["user.route.js"],"names":["api","post","AuthController","signUp","signIn","get","logout","UserController","getAllUsers","getUserInfo","put","updateUser","delete","deleteUser","patch","follow","unfollow"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;AAEA,MAAMA,GAAG,GAAG,sBAAZ,C,CAEA;;AACAA,GAAG,CAACC,IAAJ,CAAS,WAAT,EAAsBC,cAAc,CAACC,MAArC;AACAH,GAAG,CAACC,IAAJ,CAAS,QAAT,EAAmBC,cAAc,CAACE,MAAlC;AACAJ,GAAG,CAACK,GAAJ,CAAQ,SAAR,EAAmBH,cAAc,CAACI,MAAlC,E,CAEA;;AACAN,GAAG,CAACK,GAAJ,CAAQ,GAAR,EAAaE,cAAc,CAACC,WAA5B;AACAR,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBE,cAAc,CAACE,WAA/B;AACAT,GAAG,CAACU,GAAJ,CAAQ,MAAR,EAAgBH,cAAc,CAACI,UAA/B;AACAX,GAAG,CAACY,MAAJ,CAAW,MAAX,EAAmBL,cAAc,CAACM,UAAlC;AACAb,GAAG,CAACc,KAAJ,CAAU,aAAV,EAAyBP,cAAc,CAACQ,MAAxC;AACAf,GAAG,CAACc,KAAJ,CAAU,eAAV,EAA2BP,cAAc,CAACS,QAA1C;eAEehB,G","sourceRoot":"/Applications/dossier/mern_project_app2/src/routes/api/","sourcesContent":["import { Router } from 'express';\nimport * as AuthController from '../../controllers/auth.controller';\nimport * as UserController from '../../controllers/user.controller';\n\nconst api = Router();\n\n//auth\napi.post('/register', AuthController.signUp);\napi.post('/login', AuthController.signIn);\napi.get('/logout', AuthController.logout);\n\n//user\napi.get('/', UserController.getAllUsers);\napi.get('/:id', UserController.getUserInfo);\napi.put('/:id', UserController.updateUser);\napi.delete('/:id', UserController.deleteUser);\napi.patch('/follow/:id', UserController.follow);\napi.patch('/unfollow/:id', UserController.unfollow);\n\nexport default api;"]}},"mtime":1651244597145},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/routes/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar _user = _interopRequireDefault(require(\"./api/user.route\"));\n\nvar _jwt = require(\"../middlewares/jwt.middleware\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = (0, _express.Router)();\nrouter.use('/api/user', _user.default);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInJvdXRlciIsInVzZSIsIlVzZXJSb3V0ZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBRyxzQkFBZjtBQUVBQSxNQUFNLENBQUNDLEdBQVAsQ0FBVyxXQUFYLEVBQXlCQyxhQUF6QjtlQUVlRixNIiwic291cmNlUm9vdCI6Ii9BcHBsaWNhdGlvbnMvZG9zc2llci9tZXJuX3Byb2plY3RfYXBwMi9zcmMvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IFVzZXJSb3V0ZXIgZnJvbSAnLi9hcGkvdXNlci5yb3V0ZSc7XG5pbXBvcnQgeyBqd3RNaWRkbGV3YXJlIH0gZnJvbSAnLi4vbWlkZGxld2FyZXMvand0Lm1pZGRsZXdhcmUnO1xuXG5jb25zdCByb3V0ZXIgPSBSb3V0ZXIoKTtcblxucm91dGVyLnVzZSgnL2FwaS91c2VyJywgIFVzZXJSb3V0ZXIpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iXX0=","map":{"version":3,"sources":["index.js"],"names":["router","use","UserRouter"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAG,sBAAf;AAEAA,MAAM,CAACC,GAAP,CAAW,WAAX,EAAyBC,aAAzB;eAEeF,M","sourceRoot":"/Applications/dossier/mern_project_app2/src/routes/","sourcesContent":["import { Router } from 'express';\nimport UserRouter from './api/user.route';\nimport { jwtMiddleware } from '../middlewares/jwt.middleware';\n\nconst router = Router();\n\nrouter.use('/api/user',  UserRouter);\n\nexport default router;\n"]}},"mtime":1651254365838},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/routes/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar _user = _interopRequireDefault(require(\"./api/user.route\"));\n\nvar _post = _interopRequireDefault(require(\"./api/post.route\"));\n\nvar _jwt = require(\"../middlewares/jwt.middleware\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = (0, _express.Router)();\nrouter.use('/api/user', _user.default);\nrouter.use('/api/post', _post.default);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInJvdXRlciIsInVzZSIsIlVzZXJSb3V0ZXIiLCJQb3N0Um91dGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxNQUFNLEdBQUcsc0JBQWY7QUFFQUEsTUFBTSxDQUFDQyxHQUFQLENBQVcsV0FBWCxFQUF5QkMsYUFBekI7QUFDQUYsTUFBTSxDQUFDQyxHQUFQLENBQVcsV0FBWCxFQUF5QkUsYUFBekI7ZUFFZUgsTSIsInNvdXJjZVJvb3QiOiIvQXBwbGljYXRpb25zL2Rvc3NpZXIvbWVybl9wcm9qZWN0X2FwcDIvc3JjL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdleHByZXNzJztcbmltcG9ydCBVc2VyUm91dGVyIGZyb20gJy4vYXBpL3VzZXIucm91dGUnO1xuaW1wb3J0IFBvc3RSb3V0ZXIgZnJvbSAnLi9hcGkvcG9zdC5yb3V0ZSc7XG5pbXBvcnQgeyBqd3RNaWRkbGV3YXJlIH0gZnJvbSAnLi4vbWlkZGxld2FyZXMvand0Lm1pZGRsZXdhcmUnO1xuXG5jb25zdCByb3V0ZXIgPSBSb3V0ZXIoKTtcblxucm91dGVyLnVzZSgnL2FwaS91c2VyJywgIFVzZXJSb3V0ZXIpO1xucm91dGVyLnVzZSgnL2FwaS9wb3N0JywgIFBvc3RSb3V0ZXIpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iXX0=","map":{"version":3,"sources":["index.js"],"names":["router","use","UserRouter","PostRouter"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAG,sBAAf;AAEAA,MAAM,CAACC,GAAP,CAAW,WAAX,EAAyBC,aAAzB;AACAF,MAAM,CAACC,GAAP,CAAW,WAAX,EAAyBE,aAAzB;eAEeH,M","sourceRoot":"/Applications/dossier/mern_project_app2/src/routes/","sourcesContent":["import { Router } from 'express';\nimport UserRouter from './api/user.route';\nimport PostRouter from './api/post.route';\nimport { jwtMiddleware } from '../middlewares/jwt.middleware';\n\nconst router = Router();\n\nrouter.use('/api/user',  UserRouter);\nrouter.use('/api/post',  PostRouter);\n\nexport default router;\n"]}},"mtime":1651271937411},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/routes/api/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/routes/api/user.route.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar AuthController = _interopRequireWildcard(require(\"../../controllers/auth.controller\"));\n\nvar UserController = _interopRequireWildcard(require(\"../../controllers/user.controller\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst api = (0, _express.Router)(); //auth\n\napi.post('/register', AuthController.signUp);\napi.post('/login', AuthController.signIn);\napi.get('/logout', AuthController.logout); //user\n\napi.get('/', UserController.getAllUsers);\napi.get('/:id', UserController.getUserInfo);\napi.put('/:id', UserController.updateUser);\napi.delete('/:id', UserController.deleteUser);\napi.patch('/follow/:id', UserController.follow);\napi.patch('/unfollow/:id', UserController.unfollow);\nvar _default = api;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIucm91dGUuanMiXSwibmFtZXMiOlsiYXBpIiwicG9zdCIsIkF1dGhDb250cm9sbGVyIiwic2lnblVwIiwic2lnbkluIiwiZ2V0IiwibG9nb3V0IiwiVXNlckNvbnRyb2xsZXIiLCJnZXRBbGxVc2VycyIsImdldFVzZXJJbmZvIiwicHV0IiwidXBkYXRlVXNlciIsImRlbGV0ZSIsImRlbGV0ZVVzZXIiLCJwYXRjaCIsImZvbGxvdyIsInVuZm9sbG93Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7OztBQUVBLE1BQU1BLEdBQUcsR0FBRyxzQkFBWixDLENBRUE7O0FBQ0FBLEdBQUcsQ0FBQ0MsSUFBSixDQUFTLFdBQVQsRUFBc0JDLGNBQWMsQ0FBQ0MsTUFBckM7QUFDQUgsR0FBRyxDQUFDQyxJQUFKLENBQVMsUUFBVCxFQUFtQkMsY0FBYyxDQUFDRSxNQUFsQztBQUNBSixHQUFHLENBQUNLLEdBQUosQ0FBUSxTQUFSLEVBQW1CSCxjQUFjLENBQUNJLE1BQWxDLEUsQ0FFQTs7QUFDQU4sR0FBRyxDQUFDSyxHQUFKLENBQVEsR0FBUixFQUFhRSxjQUFjLENBQUNDLFdBQTVCO0FBQ0FSLEdBQUcsQ0FBQ0ssR0FBSixDQUFRLE1BQVIsRUFBZ0JFLGNBQWMsQ0FBQ0UsV0FBL0I7QUFDQVQsR0FBRyxDQUFDVSxHQUFKLENBQVEsTUFBUixFQUFnQkgsY0FBYyxDQUFDSSxVQUEvQjtBQUNBWCxHQUFHLENBQUNZLE1BQUosQ0FBVyxNQUFYLEVBQW1CTCxjQUFjLENBQUNNLFVBQWxDO0FBQ0FiLEdBQUcsQ0FBQ2MsS0FBSixDQUFVLGFBQVYsRUFBeUJQLGNBQWMsQ0FBQ1EsTUFBeEM7QUFDQWYsR0FBRyxDQUFDYyxLQUFKLENBQVUsZUFBVixFQUEyQlAsY0FBYyxDQUFDUyxRQUExQztlQUVlaEIsRyIsInNvdXJjZVJvb3QiOiIvQXBwbGljYXRpb25zL2Rvc3NpZXIvbWVybl9wcm9qZWN0X2FwcDIvc3JjL3JvdXRlcy9hcGkvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgKiBhcyBBdXRoQ29udHJvbGxlciBmcm9tICcuLi8uLi9jb250cm9sbGVycy9hdXRoLmNvbnRyb2xsZXInO1xuaW1wb3J0ICogYXMgVXNlckNvbnRyb2xsZXIgZnJvbSAnLi4vLi4vY29udHJvbGxlcnMvdXNlci5jb250cm9sbGVyJztcblxuY29uc3QgYXBpID0gUm91dGVyKCk7XG5cbi8vYXV0aFxuYXBpLnBvc3QoJy9yZWdpc3RlcicsIEF1dGhDb250cm9sbGVyLnNpZ25VcCk7XG5hcGkucG9zdCgnL2xvZ2luJywgQXV0aENvbnRyb2xsZXIuc2lnbkluKTtcbmFwaS5nZXQoJy9sb2dvdXQnLCBBdXRoQ29udHJvbGxlci5sb2dvdXQpO1xuXG4vL3VzZXJcbmFwaS5nZXQoJy8nLCBVc2VyQ29udHJvbGxlci5nZXRBbGxVc2Vycyk7XG5hcGkuZ2V0KCcvOmlkJywgVXNlckNvbnRyb2xsZXIuZ2V0VXNlckluZm8pO1xuYXBpLnB1dCgnLzppZCcsIFVzZXJDb250cm9sbGVyLnVwZGF0ZVVzZXIpO1xuYXBpLmRlbGV0ZSgnLzppZCcsIFVzZXJDb250cm9sbGVyLmRlbGV0ZVVzZXIpO1xuYXBpLnBhdGNoKCcvZm9sbG93LzppZCcsIFVzZXJDb250cm9sbGVyLmZvbGxvdyk7XG5hcGkucGF0Y2goJy91bmZvbGxvdy86aWQnLCBVc2VyQ29udHJvbGxlci51bmZvbGxvdyk7XG5cbmV4cG9ydCBkZWZhdWx0IGFwaTsiXX0=","map":{"version":3,"sources":["user.route.js"],"names":["api","post","AuthController","signUp","signIn","get","logout","UserController","getAllUsers","getUserInfo","put","updateUser","delete","deleteUser","patch","follow","unfollow"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;AAEA,MAAMA,GAAG,GAAG,sBAAZ,C,CAEA;;AACAA,GAAG,CAACC,IAAJ,CAAS,WAAT,EAAsBC,cAAc,CAACC,MAArC;AACAH,GAAG,CAACC,IAAJ,CAAS,QAAT,EAAmBC,cAAc,CAACE,MAAlC;AACAJ,GAAG,CAACK,GAAJ,CAAQ,SAAR,EAAmBH,cAAc,CAACI,MAAlC,E,CAEA;;AACAN,GAAG,CAACK,GAAJ,CAAQ,GAAR,EAAaE,cAAc,CAACC,WAA5B;AACAR,GAAG,CAACK,GAAJ,CAAQ,MAAR,EAAgBE,cAAc,CAACE,WAA/B;AACAT,GAAG,CAACU,GAAJ,CAAQ,MAAR,EAAgBH,cAAc,CAACI,UAA/B;AACAX,GAAG,CAACY,MAAJ,CAAW,MAAX,EAAmBL,cAAc,CAACM,UAAlC;AACAb,GAAG,CAACc,KAAJ,CAAU,aAAV,EAAyBP,cAAc,CAACQ,MAAxC;AACAf,GAAG,CAACc,KAAJ,CAAU,eAAV,EAA2BP,cAAc,CAACS,QAA1C;eAEehB,G","sourceRoot":"/Applications/dossier/mern_project_app2/src/routes/api/","sourcesContent":["import { Router } from 'express';\nimport * as AuthController from '../../controllers/auth.controller';\nimport * as UserController from '../../controllers/user.controller';\n\nconst api = Router();\n\n//auth\napi.post('/register', AuthController.signUp);\napi.post('/login', AuthController.signIn);\napi.get('/logout', AuthController.logout);\n\n//user\napi.get('/', UserController.getAllUsers);\napi.get('/:id', UserController.getUserInfo);\napi.put('/:id', UserController.updateUser);\napi.delete('/:id', UserController.deleteUser);\napi.patch('/follow/:id', UserController.follow);\napi.patch('/unfollow/:id', UserController.unfollow);\n\nexport default api;"]}},"mtime":1651244597145},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/controllers/user.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateUser = exports.unfollow = exports.getUserInfo = exports.getAllUsers = exports.follow = exports.deleteUser = void 0;\n\nconst User = require('../models/user.models');\n\nconst ObjectID = require(\"mongoose\").Types.ObjectId;\n\nconst getAllUsers = async (req, res) => {\n  //allow to receive all users without password\n  const users = await User.find().select('-password');\n  res.status(200).json(users);\n};\n\nexports.getAllUsers = getAllUsers;\n\nconst getUserInfo = async (req, res) => {\n  //if id exist in databse\n  if (!ObjectID.isValid(req.params.id)) {\n    return res.status(400).send(`Id unknown : ${req.params.id}`);\n  }\n\n  await User.findById(req.params.id).select('-password').then(user => {\n    res.status(200).json(user);\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nexports.getUserInfo = getUserInfo;\n\nconst updateUser = async (req, res) => {\n  if (!ObjectID.isValid(req.params.id)) {\n    return res.status(400).send(`Id unknown : ${req.params.id}`);\n  }\n\n  await User.findOneAndUpdate({\n    _id: req.params.id\n  }, {\n    $set: {\n      bio: req.body.bio\n    }\n  }, {\n    new: true,\n    upsert: true,\n    setDefaultsOnInsert: true\n  }).select('-password').then(user => {\n    res.status(200).json(user);\n  }).catch(err => {\n    res.status(500).json({\n      message: err\n    });\n  });\n};\n\nexports.updateUser = updateUser;\n\nconst deleteUser = async (req, res) => {\n  if (!ObjectID.isValid(req.params.id)) {\n    return res.status(400).send(`Id unknown : ${req.params.id}`);\n  }\n\n  await User.remove({\n    _id: req.params.id\n  }).exec().then(() => {\n    res.status(200).json({\n      message: 'Successfully deleted !'\n    });\n  }).catch(err => {\n    res.status(500).json({\n      message: err\n    });\n  });\n};\n\nexports.deleteUser = deleteUser;\n\nconst follow = async (req, res) => {\n  if (!ObjectID.isValid(req.params.id)) {\n    return res.status(400).send(`Id unknown : ${req.params.id}`);\n  }\n\n  if (!ObjectID.isValid(req.body.idToFollow)) {\n    return res.status(400).send(`Id unknown : ${req.body.idToFollow}`);\n  } //add to the follower list\n\n\n  await User.findByIdAndUpdate(req.params.id, {\n    $addToSet: {\n      following: req.body.idToFollow\n    }\n  }, {\n    new: true,\n    upsert: true\n  }).then(user => {\n    res.status(201).json(user);\n  }).catch(err => {\n    return res.status(500).json({\n      message: err\n    });\n  }); //add to the following list\n\n  await User.findByIdAndUpdate(req.body.idToFollow, {\n    $addToSet: {\n      followers: req.params.id\n    }\n  }, {\n    new: true,\n    upsert: true\n  }).then(user => {}).catch(err => {\n    return res.status(500).json({\n      message: err\n    });\n  });\n};\n\nexports.follow = follow;\n\nconst unfollow = async (req, res) => {\n  if (!ObjectID.isValid(req.params.id)) {\n    return res.status(400).send(`Id unknown : ${req.params.id}`);\n  }\n\n  if (!ObjectID.isValid(req.body.idToUnFollow)) {\n    return res.status(400).send(`Id unknown : ${req.body.idToUnFollow}`);\n  } //delete to the follower list\n\n\n  await User.findByIdAndUpdate(req.params.id, {\n    $pull: {\n      following: req.body.idToUnFollow\n    }\n  }, {\n    new: true,\n    upsert: true\n  }).then(user => {\n    res.status(201).json(user);\n  }).catch(err => {\n    return res.status(500).json({\n      message: err\n    });\n  }); //delete to the following list\n\n  await User.findByIdAndUpdate(req.body.idToUnFollow, {\n    $pull: {\n      followers: req.params.id\n    }\n  }, {\n    new: true,\n    upsert: true\n  }).then(user => {}).catch(err => {\n    return res.status(500).json({\n      message: err\n    });\n  });\n};\n\nexports.unfollow = unfollow;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsIk9iamVjdElEIiwiVHlwZXMiLCJPYmplY3RJZCIsImdldEFsbFVzZXJzIiwicmVxIiwicmVzIiwidXNlcnMiLCJmaW5kIiwic2VsZWN0Iiwic3RhdHVzIiwianNvbiIsImdldFVzZXJJbmZvIiwiaXNWYWxpZCIsInBhcmFtcyIsImlkIiwic2VuZCIsImZpbmRCeUlkIiwidGhlbiIsInVzZXIiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGVVc2VyIiwiZmluZE9uZUFuZFVwZGF0ZSIsIl9pZCIsIiRzZXQiLCJiaW8iLCJib2R5IiwibmV3IiwidXBzZXJ0Iiwic2V0RGVmYXVsdHNPbkluc2VydCIsIm1lc3NhZ2UiLCJkZWxldGVVc2VyIiwicmVtb3ZlIiwiZXhlYyIsImZvbGxvdyIsImlkVG9Gb2xsb3ciLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIiRhZGRUb1NldCIsImZvbGxvd2luZyIsImZvbGxvd2VycyIsInVuZm9sbG93IiwiaWRUb1VuRm9sbG93IiwiJHB1bGwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyx1QkFBRCxDQUFwQjs7QUFDQSxNQUFNQyxRQUFRLEdBQUdELE9BQU8sQ0FBQyxVQUFELENBQVAsQ0FBb0JFLEtBQXBCLENBQTBCQyxRQUEzQzs7QUFHTyxNQUFNQyxXQUFXLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQzNDO0FBQ0EsUUFBTUMsS0FBSyxHQUFHLE1BQU1SLElBQUksQ0FBQ1MsSUFBTCxHQUFZQyxNQUFaLENBQW1CLFdBQW5CLENBQXBCO0FBQ0FILEVBQUFBLEdBQUcsQ0FDRUksTUFETCxDQUNZLEdBRFosRUFFS0MsSUFGTCxDQUVVSixLQUZWO0FBR0gsQ0FOTTs7OztBQVFBLE1BQU1LLFdBQVcsR0FBRyxPQUFPUCxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFD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QyxDQUFOO0FBVUgsQ0E1Qk0iLCJzb3VyY2VSb290IjoiL0FwcGxpY2F0aW9ucy9kb3NzaWVyL21lcm5fcHJvamVjdF9hcHAyL3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBVc2VyID0gcmVxdWlyZSgnLi4vbW9kZWxzL3VzZXIubW9kZWxzJylcbmNvbnN0IE9iamVjdElEID0gcmVxdWlyZShcIm1vbmdvb3NlXCIpLlR5cGVzLk9iamVjdElkO1xuXG5cbmV4cG9ydCBjb25zdCBnZXRBbGxVc2VycyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIC8vYWxsb3cgdG8gcmVjZWl2ZSBhbGwgdXNlcnMgd2l0aG91dCBwYXNzd29yZFxuICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgVXNlci5maW5kKCkuc2VsZWN0KCctcGFzc3dvcmQnKTtcbiAgICByZXNcbiAgICAgICAgLnN0YXR1cygyMDApXG4gICAgICAgIC5qc29uKHVzZXJzKVxufVxuXG5leHBvcnQgY29uc3QgZ2V0VXNlckluZm8gPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAvL2lmIGlkIGV4aXN0IGluIGRhdGFic2VcbiAgICBpZiAoIU9iamVjdElELmlzVmFsaWQocmVxLnBhcmFtcy5pZCkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKGBJZCB1bmtub3duIDogJHtyZXEucGFyYW1zLmlkfWApXG4gICAgfVxuICAgIGF3YWl0IFVzZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCkuc2VsZWN0KCctcGFzc3dvcmQnKVxuICAgICAgICAudGhlbigodXNlcikgPT4ge1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24odXNlcilcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVVzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBpZiAoIU9iamVjdElELmlzVmFsaWQocmVxLnBhcmFtcy5pZCkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKGBJZCB1bmtub3duIDogJHtyZXEucGFyYW1zLmlkfWApXG4gICAgfVxuICAgIGF3YWl0IFVzZXIuZmluZE9uZUFuZFVwZGF0ZShcbiAgICAgICAgeyBfaWQ6IHJlcS5wYXJhbXMuaWQgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgICAgIGJpbzogcmVxLmJvZHkuYmlvXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5ldzogdHJ1ZSxcbiAgICAgICAgICAgIHVwc2VydDogdHJ1ZSxcbiAgICAgICAgICAgIHNldERlZmF1bHRzT25JbnNlcnQ6IHRydWVcbiAgICAgICAgfSkuc2VsZWN0KCctcGFzc3dvcmQnKS50aGVuKCh1c2VyKSA9PiB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih1c2VyKVxuICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6IGVyciB9KVxuICAgICAgICB9KVxufVxuZXhwb3J0IGNvbnN0IGRlbGV0ZVVzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBpZiAoIU9iamVjdElELmlzVmFsaWQocmVxLnBhcmFtcy5pZCkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKGBJZCB1bmtub3duIDogJHtyZXEucGFyYW1zLmlkfWApXG4gICAgfVxuICAgIGF3YWl0IFVzZXIucmVtb3ZlKHtcbiAgICAgICAgX2lkOiByZXEucGFyYW1zLmlkXG4gICAgfSkuZXhlYygpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7bWVzc2FnZTogJ1N1Y2Nlc3NmdWxseSBkZWxldGVkICEnfSlcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOmVycn0pXG4gICAgfSlcbn1cbmV4cG9ydCBjb25zdCBmb2xsb3cgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBpZiAoIU9iamVjdElELmlzVmFsaWQocmVxLnBhcmFtcy5pZCkgKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZChgSWQgdW5rbm93biA6ICR7cmVxLnBhcmFtcy5pZH1gKVxuICAgIH1cbiAgICBpZiAoIU9iamVjdElELmlzVmFsaWQocmVxLmJvZHkuaWRUb0ZvbGxvdykgKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZChgSWQgdW5rbm93biA6ICR7cmVxLmJvZHkuaWRUb0ZvbGxvd31gKVxuICAgIH1cbiAgICAvL2FkZCB0byB0aGUgZm9sbG93ZXIgbGlzdFxuICAgIGF3YWl0IFVzZXIuZmluZEJ5SWRBbmRVcGRhdGUocmVxLnBhcmFtcy5pZCwgXG4gICAgICAgIHsgJGFkZFRvU2V0IDogeyBmb2xsb3dpbmc6IHJlcS5ib2R5LmlkVG9Gb2xsb3d9fSxcbiAgICAgICAge25ldyA6IHRydWUsIHVwc2VydDp0cnVlfSlcbiAgICAgICAgLnRoZW4oKHVzZXIpID0+IHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHVzZXIpXG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6ZXJyfSlcbiAgICAgICAgfSlcbiAgICAvL2FkZCB0byB0aGUgZm9sbG93aW5nIGxpc3RcbiAgICBhd2FpdCBVc2VyLmZpbmRCeUlkQW5kVXBkYXRlKHJlcS5ib2R5LmlkVG9Gb2xsb3csXG4gICAgICAgIHsgJGFkZFRvU2V0IDogeyBmb2xsb3dlcnM6IHJlcS5wYXJhbXMuaWR9fSxcbiAgICAgICAge25ldyA6IHRydWUsIHVwc2VydDp0cnVlfSlcbiAgICAgICAgLnRoZW4oKHVzZXIpID0+IHtcblxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOmVycn0pXG4gICAgICAgIH0pXG5cbn1cbmV4cG9ydCBjb25zdCB1bmZvbGxvdyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGlmICghT2JqZWN0SUQuaXNWYWxpZChyZXEucGFyYW1zLmlkKSApIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKGBJZCB1bmtub3duIDogJHtyZXEucGFyYW1zLmlkfWApXG4gICAgfVxuICAgIGlmICghT2JqZWN0SUQuaXNWYWxpZChyZXEuYm9keS5pZFRvVW5Gb2xsb3cpICkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoYElkIHVua25vd24gOiAke3JlcS5ib2R5LmlkVG9VbkZvbGxvd31gKVxuICAgIH1cbiAgICAgLy9kZWxldGUgdG8gdGhlIGZvbGxvd2VyIGxpc3RcbiAgICAgYXdhaXQgVXNlci5maW5kQnlJZEFuZFVwZGF0ZShyZXEucGFyYW1zLmlkLCBcbiAgICAgICAgeyAkcHVsbCA6IHsgZm9sbG93aW5nOiByZXEuYm9keS5pZFRvVW5Gb2xsb3d9fSxcbiAgICAgICAge25ldyA6IHRydWUsIHVwc2VydDp0cnVlfSlcbiAgICAgICAgLnRoZW4oKHVzZXIpID0+IHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHVzZXIpXG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6ZXJyfSlcbiAgICAgICAgfSlcbiAgICAvL2RlbGV0ZSB0byB0aGUgZm9sbG93aW5nIGxpc3RcbiAgICBhd2FpdCBVc2VyLmZpbmRCeUlkQW5kVXBkYXRlKHJlcS5ib2R5LmlkVG9VbkZvbGxvdyxcbiAgICAgICAgeyAkcHVsbCA6IHsgZm9sbG93ZXJzOiByZXEucGFyYW1zLmlkfX0sXG4gICAgICAgIHtuZXcgOiB0cnVlLCB1cHNlcnQ6dHJ1ZX0pXG4gICAgICAgIC50aGVuKCh1c2VyKSA9PiB7XG5cbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7bWVzc2FnZTplcnJ9KVxuICAgICAgICB9KVxuXG59Il19","map":{"version":3,"sources":["user.controller.js"],"names":["User","require","ObjectID","Types","ObjectId","getAllUsers","req","res","users","find","select","status","json","getUserInfo","isValid","params","id","send","findById","then","user","catch","err","console","log","updateUser","findOneAndUpdate","_id","$set","bio","body","new","upsert","setDefaultsOnInsert","message","deleteUser","remove","exec","follow","idToFollow","findByIdAndUpdate","$addToSet","following","followers","unfollow","idToUnFollow","$pull"],"mappings":"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","sourceRoot":"/Applications/dossier/mern_project_app2/src/controllers/","sourcesContent":["const User = require('../models/user.models')\nconst ObjectID = require(\"mongoose\").Types.ObjectId;\n\n\nexport const getAllUsers = async (req, res) => {\n    //allow to receive all users without password\n    const users = await User.find().select('-password');\n    res\n        .status(200)\n        .json(users)\n}\n\nexport const getUserInfo = async (req, res) => {\n    //if id exist in databse\n    if (!ObjectID.isValid(req.params.id)) {\n        return res.status(400).send(`Id unknown : ${req.params.id}`)\n    }\n    await User.findById(req.params.id).select('-password')\n        .then((user) => {\n            res.status(200).json(user)\n        })\n        .catch((err) => {\n            console.log(err)\n        })\n}\n\nexport const updateUser = async (req, res) => {\n    if (!ObjectID.isValid(req.params.id)) {\n        return res.status(400).send(`Id unknown : ${req.params.id}`)\n    }\n    await User.findOneAndUpdate(\n        { _id: req.params.id },\n        {\n            $set: {\n                bio: req.body.bio\n            }\n        },\n        {\n            new: true,\n            upsert: true,\n            setDefaultsOnInsert: true\n        }).select('-password').then((user) => {\n            res.status(200).json(user)\n        }).catch((err) => {\n            res.status(500).json({ message: err })\n        })\n}\nexport const deleteUser = async (req, res) => {\n    if (!ObjectID.isValid(req.params.id)) {\n        return res.status(400).send(`Id unknown : ${req.params.id}`)\n    }\n    await User.remove({\n        _id: req.params.id\n    }).exec()\n    .then(() => {\n        res.status(200).json({message: 'Successfully deleted !'})\n    })\n    .catch((err) => {\n        res.status(500).json({message:err})\n    })\n}\nexport const follow = async (req, res) => {\n    if (!ObjectID.isValid(req.params.id) ) {\n        return res.status(400).send(`Id unknown : ${req.params.id}`)\n    }\n    if (!ObjectID.isValid(req.body.idToFollow) ) {\n        return res.status(400).send(`Id unknown : ${req.body.idToFollow}`)\n    }\n    //add to the follower list\n    await User.findByIdAndUpdate(req.params.id, \n        { $addToSet : { following: req.body.idToFollow}},\n        {new : true, upsert:true})\n        .then((user) => {\n            res.status(201).json(user)\n        })\n        .catch((err) => {\n            return res.status(500).json({message:err})\n        })\n    //add to the following list\n    await User.findByIdAndUpdate(req.body.idToFollow,\n        { $addToSet : { followers: req.params.id}},\n        {new : true, upsert:true})\n        .then((user) => {\n\n        })\n        .catch((err) => {\n            return res.status(500).json({message:err})\n        })\n\n}\nexport const unfollow = async (req, res) => {\n    if (!ObjectID.isValid(req.params.id) ) {\n        return res.status(400).send(`Id unknown : ${req.params.id}`)\n    }\n    if (!ObjectID.isValid(req.body.idToUnFollow) ) {\n        return res.status(400).send(`Id unknown : ${req.body.idToUnFollow}`)\n    }\n     //delete to the follower list\n     await User.findByIdAndUpdate(req.params.id, \n        { $pull : { following: req.body.idToUnFollow}},\n        {new : true, upsert:true})\n        .then((user) => {\n            res.status(201).json(user)\n        })\n        .catch((err) => {\n            return res.status(500).json({message:err})\n        })\n    //delete to the following list\n    await User.findByIdAndUpdate(req.body.idToUnFollow,\n        { $pull : { followers: req.params.id}},\n        {new : true, upsert:true})\n        .then((user) => {\n\n        })\n        .catch((err) => {\n            return res.status(500).json({message:err})\n        })\n\n}"]}},"mtime":1651243855562},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/controllers/user.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateUser = exports.unfollow = exports.getUserInfo = exports.getAllUsers = exports.follow = exports.deleteUser = void 0;\n\nconst User = require('../models/user.model');\n\nconst ObjectID = require(\"mongoose\").Types.ObjectId;\n\nconst getAllUsers = async (req, res) => {\n  //allow to receive all users without password\n  const users = await User.find().select('-password');\n  res.status(200).json(users);\n};\n\nexports.getAllUsers = getAllUsers;\n\nconst getUserInfo = async (req, res) => {\n  //if id exist in databse\n  if (!ObjectID.isValid(req.params.id)) {\n    return res.status(400).send(`Id unknown : ${req.params.id}`);\n  }\n\n  await User.findById(req.params.id).select('-password').then(user => {\n    res.status(200).json(user);\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nexports.getUserInfo = getUserInfo;\n\nconst updateUser = async (req, res) => {\n  if (!ObjectID.isValid(req.params.id)) {\n    return res.status(400).send(`Id unknown : ${req.params.id}`);\n  }\n\n  await User.findOneAndUpdate({\n    _id: req.params.id\n  }, {\n    $set: {\n      bio: req.body.bio\n    }\n  }, {\n    new: true,\n    upsert: true,\n    setDefaultsOnInsert: true\n  }).select('-password').then(user => {\n    res.status(200).json(user);\n  }).catch(err => {\n    res.status(500).json({\n      message: err\n    });\n  });\n};\n\nexports.updateUser = updateUser;\n\nconst deleteUser = async (req, res) => {\n  if (!ObjectID.isValid(req.params.id)) {\n    return res.status(400).send(`Id unknown : ${req.params.id}`);\n  }\n\n  await User.remove({\n    _id: req.params.id\n  }).exec().then(() => {\n    res.status(200).json({\n      message: 'Successfully deleted !'\n    });\n  }).catch(err => {\n    res.status(500).json({\n      message: err\n    });\n  });\n};\n\nexports.deleteUser = deleteUser;\n\nconst follow = async (req, res) => {\n  if (!ObjectID.isValid(req.params.id)) {\n    return res.status(400).send(`Id unknown : ${req.params.id}`);\n  }\n\n  if (!ObjectID.isValid(req.body.idToFollow)) {\n    return res.status(400).send(`Id unknown : ${req.body.idToFollow}`);\n  } //add to the follower list\n\n\n  await User.findByIdAndUpdate(req.params.id, {\n    $addToSet: {\n      following: req.body.idToFollow\n    }\n  }, {\n    new: true,\n    upsert: true\n  }).then(user => {\n    res.status(201).json(user);\n  }).catch(err => {\n    return res.status(500).json({\n      message: err\n    });\n  }); //add to the following list\n\n  await User.findByIdAndUpdate(req.body.idToFollow, {\n    $addToSet: {\n      followers: req.params.id\n    }\n  }, {\n    new: true,\n    upsert: true\n  }).then(user => {}).catch(err => {\n    return res.status(500).json({\n      message: err\n    });\n  });\n};\n\nexports.follow = follow;\n\nconst unfollow = async (req, res) => {\n  if (!ObjectID.isValid(req.params.id)) {\n    return res.status(400).send(`Id unknown : ${req.params.id}`);\n  }\n\n  if (!ObjectID.isValid(req.body.idToUnFollow)) {\n    return res.status(400).send(`Id unknown : ${req.body.idToUnFollow}`);\n  } //delete to the follower list\n\n\n  await User.findByIdAndUpdate(req.params.id, {\n    $pull: {\n      following: req.body.idToUnFollow\n    }\n  }, {\n    new: true,\n    upsert: true\n  }).then(user => {\n    res.status(201).json(user);\n  }).catch(err => {\n    return res.status(500).json({\n      message: err\n    });\n  }); //delete to the following list\n\n  await User.findByIdAndUpdate(req.body.idToUnFollow, {\n    $pull: {\n      followers: req.params.id\n    }\n  }, {\n    new: true,\n    upsert: true\n  }).then(user => {}).catch(err => {\n    return res.status(500).json({\n      message: err\n    });\n  });\n};\n\nexports.unfollow = unfollow;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsIk9iamVjdElEIiwiVHlwZXMiLCJPYmplY3RJZCIsImdldEFsbFVzZXJzIiwicmVxIiwicmVzIiwidXNlcnMiLCJmaW5kIiwic2VsZWN0Iiwic3RhdHVzIiwianNvbiIsImdldFVzZXJJbmZvIiwiaXNWYWxpZCIsInBhcmFtcyIsImlkIiwic2VuZCIsImZpbmRCeUlkIiwidGhlbiIsInVzZXIiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGVVc2VyIiwiZmluZE9uZUFuZFVwZGF0ZSIsIl9pZCIsIiRzZXQiLCJiaW8iLCJib2R5IiwibmV3IiwidXBzZXJ0Iiwic2V0RGVmYXVsdHNPbkluc2VydCIsIm1lc3NhZ2UiLCJkZWxldGVVc2VyIiwicmVtb3ZlIiwiZXhlYyIsImZvbGxvdyIsImlkVG9Gb2xsb3ciLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIiRhZGRUb1NldCIsImZvbGxvd2luZyIsImZvbGxvd2VycyIsInVuZm9sbG93IiwiaWRUb1VuRm9sbG93IiwiJHB1bGwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxzQkFBRCxDQUFwQjs7QUFDQSxNQUFNQyxRQUFRLEdBQUdELE9BQU8sQ0FBQyxVQUFELENBQVAsQ0FBb0JFLEtBQXBCLENBQTBCQyxRQUEzQzs7QUFHTyxNQUFNQyxXQUFXLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQzNDO0FBQ0EsUUFBTUMsS0FBSyxHQUFHLE1BQU1SLElBQUksQ0FBQ1MsSUFBTCxHQUFZQyxNQUFaLENBQW1CLFdBQW5CLENBQXBCO0FBQ0FILEVBQUFBLEdBQUcsQ0FDRUksTUFETCxDQUNZLEdBRFosRUFFS0MsSUFGTCxDQUVVSixLQUZWO0FBR0gsQ0FOTTs7OztBQVFBLE1BQU1LLFdBQVcsR0FBRyxPQUFPUCxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDM0M7QUFDQSxNQUFJLENBQUNMLFFBQVEsQ0FBQ1ksT0FBVCxDQUFpQlIsR0FBRyxDQUFDUyxNQUFKLENBQVdDLEVBQTVCLENBQUwsRUFBc0M7QUFDbEMsV0FBT1QsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQk0sSUFBaEIsQ0FBc0IsZ0JBQWVYLEdBQUcsQ0FBQ1MsTUFBSixDQUFXQyxFQUFHLEVBQW5ELENBQVA7QUFDSDs7QUFDRCxRQUFNaEIsSUFBSSxDQUFDa0IsUUFBTCxDQUFjWixHQUFHLENBQUNTLE1BQUosQ0FBV0MsRUFBekIsRUFBNkJOLE1BQTdCLENBQW9DLFdBQXBDLEVBQ0RTLElBREMsQ0FDS0MsSUFBRCxJQUFVO0FBQ1piLElBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCUSxJQUFyQjtBQUNILEdBSEMsRUFJREMsS0FKQyxDQUlNQyxHQUFELElBQVM7QUFDWkMsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlGLEdBQVo7QUFDSCxHQU5DLENBQU47QUFPSCxDQVpNOzs7O0FBY0EsTUFBTUcsVUFBVSxHQUFHLE9BQU9uQixHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDMUMsTUFBSSxDQUFDTCxRQUFRLENBQUNZLE9BQVQsQ0FBaUJSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXQyxFQUE1QixDQUFMLEVBQXNDO0FBQ2xDLFdBQU9ULEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JNLElBQWhCLENBQXNCLGdCQUFlWCxHQUFHLENBQUNTLE1BQUosQ0FBV0MsRUFBRyxFQUFuRCxDQUFQO0FBQ0g7O0FBQ0QsUUFBTWhCLElBQUksQ0FBQzBCLGdCQUFMLENBQ0Y7QUFBRUMsSUFBQUEsR0FBRyxFQUFFckIsR0FBRyxDQUFDUyxNQUFKLENBQVdDO0FBQWxCLEdBREUsRUFFRjtBQUNJWSxJQUFBQSxJQUFJLEVBQUU7QUFDRkMsTUFBQUEsR0FBRyxFQUFFdkIsR0FBRyxDQUFDd0IsSUFBSixDQUFTRDtBQURaO0FBRFYsR0FGRSxFQU9GO0FBQ0lFLElBQUFBLEdBQUcsRUFBRSxJQURUO0FBRUlDLElBQUFBLE1BQU0sRUFBRSxJQUZaO0FBR0lDLElBQUFBLG1CQUFtQixFQUFFO0FBSHpCLEdBUEUsRUFXQ3ZCLE1BWEQsQ0FXUSxXQVhSLEVBV3FCUyxJQVhyQixDQVcyQkMsSUFBRCxJQUFVO0FBQ2xDYixJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQlEsSUFBckI7QUFDSCxHQWJDLEVBYUNDLEtBYkQsQ0FhUUMsR0FBRCxJQUFTO0FBQ2RmLElBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVzQixNQUFBQSxPQUFPLEVBQUVaO0FBQVgsS0FBckI7QUFDSCxHQWZDLENBQU47QUFnQkgsQ0FwQk07Ozs7QUFzQkEsTUFBTWEsVUFBVSxHQUFHLE9BQU83QixHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDMUMsTUFBSSxDQUFDTCxRQUFRLENBQUNZLE9BQVQsQ0FBaUJSLEdBQUcsQ0FBQ1MsTUFBSixDQUFXQyxFQUE1QixDQUFMLEVBQXNDO0FBQ2xDLFdBQU9ULEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JNLElBQWhCLENBQXNCLGdCQUFlWCxHQUFHLENBQUNTLE1BQUosQ0FBV0MsRUFBRyxFQUFuRCxDQUFQO0FBQ0g7O0FBQ0QsUUFBTWhCLElBQUksQ0FBQ29DLE1BQUwsQ0FBWTtBQUNkVCxJQUFBQSxHQUFHLEVBQUVyQixHQUFHLENBQUNTLE1BQUosQ0FBV0M7QUFERixHQUFaLEVBRUhxQixJQUZHLEdBR0xsQixJQUhLLENBR0EsTUFBTTtBQUNSWixJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDc0IsTUFBQUEsT0FBTyxFQUFFO0FBQVYsS0FBckI7QUFDSCxHQUxLLEVBTUxiLEtBTkssQ0FNRUMsR0FBRCxJQUFTO0FBQ1pmLElBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNzQixNQUFBQSxPQUFPLEVBQUNaO0FBQVQsS0FBckI7QUFDSCxHQVJLLENBQU47QUFTSCxDQWJNOzs7O0FBY0EsTUFBTWdCLE1BQU0sR0FBRyxPQUFPaEMsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RDLE1BQUksQ0FBQ0wsUUFBUSxDQUFDWSxPQUFULENBQWlCUixHQUFHLENBQUNTLE1BQUosQ0FBV0MsRUFBNUIsQ0FBTCxFQUF1QztBQUNuQyxXQUFPVCxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCTSxJQUFoQixDQUFzQixnQkFBZVgsR0FBRyxDQUFDUyxNQUFKLENBQVdDLEVBQUcsRUFBbkQsQ0FBUDtBQUNIOztBQUNELE1BQUksQ0FBQ2QsUUFBUSxDQUFDWSxPQUFULENBQWlCUixHQUFHLENBQUN3QixJQUFKLENBQVNTLFVBQTFCLENBQUwsRUFBNkM7QUFDekMsV0FBT2hDLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JNLElBQWhCLENBQXNCLGdCQUFlWCxHQUFHLENBQUN3QixJQUFKLENBQVNTLFVBQVcsRUFBekQsQ0FBUDtBQUNILEdBTnFDLENBT3RDOzs7QUFDQSxRQUFNdkMsSUFBSSxDQUFDd0MsaUJBQUwsQ0FBdUJsQyxHQUFHLENBQUNTLE1BQUosQ0FBV0MsRUFBbEMsRUFDRjtBQUFFeUIsSUFBQUEsU0FBUyxFQUFHO0FBQUVDLE1BQUFBLFNBQVMsRUFBRXBDLEdBQUcsQ0FBQ3dCLElBQUosQ0FBU1M7QUFBdEI7QUFBZCxHQURFLEVBRUY7QUFBQ1IsSUFBQUEsR0FBRyxFQUFHLElBQVA7QUFBYUMsSUFBQUEsTUFBTSxFQUFDO0FBQXBCLEdBRkUsRUFHRGIsSUFIQyxDQUdLQyxJQUFELElBQVU7QUFDWmIsSUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJRLElBQXJCO0FBQ0gsR0FMQyxFQU1EQyxLQU5DLENBTU1DLEdBQUQsSUFBUztBQUNaLFdBQU9mLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNzQixNQUFBQSxPQUFPLEVBQUNaO0FBQVQsS0FBckIsQ0FBUDtBQUNILEdBUkMsQ0FBTixDQVJzQyxDQWlCdEM7O0FBQ0EsUUFBTXRCLElBQUksQ0FBQ3dDLGlCQUFMLENBQXVCbEMsR0FBRyxDQUFDd0IsSUFBSixDQUFTUyxVQUFoQyxFQUNGO0FBQUVFLElBQUFBLFNBQVMsRUFBRztBQUFFRSxNQUFBQSxTQUFTLEVBQUVyQyxHQUFHLENBQUNTLE1BQUosQ0FBV0M7QUFBeEI7QUFBZCxHQURFLEVBRUY7QUFBQ2UsSUFBQUEsR0FBRyxFQUFHLElBQVA7QUFBYUMsSUFBQUEsTUFBTSxFQUFDO0FBQXBCLEdBRkUsRUFHRGIsSUFIQyxDQUdLQyxJQUFELElBQVUsQ0FFZixDQUxDLEVBTURDLEtBTkMsQ0FNTUMsR0FBRCxJQUFTO0FBQ1osV0FBT2YsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ3NCLE1BQUFBLE9BQU8sRUFBQ1o7QUFBVCxLQUFyQixDQUFQO0FBQ0gsR0FSQyxDQUFOO0FBVUgsQ0E1Qk07Ozs7QUE2QkEsTUFBTXNCLFFBQVEsR0FBRyxPQUFPdEMsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3hDLE1BQUksQ0FBQ0wsUUFBUSxDQUFDWSxPQUFULENBQWlCUixHQUFHLENBQUNTLE1BQUosQ0FBV0MsRUFBNUIsQ0FBTCxFQUF1QztBQUNuQyxXQUFPVCxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCTSxJQUFoQixDQUFzQixnQkFBZVgsR0FBRyxDQUFDUyxNQUFKLENBQVdDLEVBQUcsRUFBbkQsQ0FBUDtBQUNIOztBQUNELE1BQUksQ0FBQ2QsUUFBUSxDQUFDWSxPQUFULENBQWlCUixHQUFHLENBQUN3QixJQUFKLENBQVNlLFlBQTFCLENBQUwsRUFBK0M7QUFDM0MsV0FBT3RDLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JNLElBQWhCLENBQXNCLGdCQUFlWCxHQUFHLENBQUN3QixJQUFKLENBQVNlLFlBQWEsRUFBM0QsQ0FBUDtBQUNILEdBTnVDLENBT3ZDOzs7QUFDQSxRQUFNN0MsSUFBSSxDQUFDd0MsaUJBQUwsQ0FBdUJsQyxHQUFHLENBQUNTLE1BQUosQ0FBV0MsRUFBbEMsRUFDSDtBQUFFOEIsSUFBQUEsS0FBSyxFQUFHO0FBQUVKLE1BQUFBLFNBQVMsRUFBRXBDLEdBQUcsQ0FBQ3dCLElBQUosQ0FBU2U7QUFBdEI7QUFBVixHQURHLEVBRUg7QUFBQ2QsSUFBQUEsR0FBRyxFQUFHLElBQVA7QUFBYUMsSUFBQUEsTUFBTSxFQUFDO0FBQXBCLEdBRkcsRUFHRmIsSUFIRSxDQUdJQyxJQUFELElBQVU7QUFDWmIsSUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJRLElBQXJCO0FBQ0gsR0FMRSxFQU1GQyxLQU5FLENBTUtDLEdBQUQsSUFBUztBQUNaLFdBQU9mLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNzQixNQUFBQSxPQUFPLEVBQUNaO0FBQVQsS0FBckIsQ0FBUDtBQUNILEdBUkUsQ0FBTixDQVJ1QyxDQWlCeEM7O0FBQ0EsUUFBTXRCLElBQUksQ0FBQ3dDLGlCQUFMLENBQXVCbEMsR0FBRyxDQUFDd0IsSUFBSixDQUFTZSxZQUFoQyxFQUNGO0FBQUVDLElBQUFBLEtBQUssRUFBRztBQUFFSCxNQUFBQSxTQUFTLEVBQUVyQyxHQUFHLENBQUNTLE1BQUosQ0FBV0M7QUFBeEI7QUFBVixHQURFLEVBRUY7QUFBQ2UsSUFBQUEsR0FBRyxFQUFHLElBQVA7QUFBYUMsSUFBQUEsTUFBTSxFQUFDO0FBQXBCLEdBRkUsRUFHRGIsSUFIQyxDQUdLQyxJQUFELElBQVUsQ0FFZixDQUxDLEVBTURDLEtBTkMsQ0FNTUMsR0FBRCxJQUFTO0FBQ1osV0FBT2YsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ3NCLE1BQUFBLE9BQU8sRUFBQ1o7QUFBVCxLQUFyQixDQUFQO0FBQ0gsR0FSQyxDQUFOO0FBVUgsQ0E1Qk0iLCJzb3VyY2VSb290IjoiL0FwcGxpY2F0aW9ucy9kb3NzaWVyL21lcm5fcHJvamVjdF9hcHAyL3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBVc2VyID0gcmVxdWlyZSgnLi4vbW9kZWxzL3VzZXIubW9kZWwnKVxuY29uc3QgT2JqZWN0SUQgPSByZXF1aXJlKFwibW9uZ29vc2VcIikuVHlwZXMuT2JqZWN0SWQ7XG5cblxuZXhwb3J0IGNvbnN0IGdldEFsbFVzZXJzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgLy9hbGxvdyB0byByZWNlaXZlIGFsbCB1c2VycyB3aXRob3V0IHBhc3N3b3JkXG4gICAgY29uc3QgdXNlcnMgPSBhd2FpdCBVc2VyLmZpbmQoKS5zZWxlY3QoJy1wYXNzd29yZCcpO1xuICAgIHJlc1xuICAgICAgICAuc3RhdHVzKDIwMClcbiAgICAgICAgLmpzb24odXNlcnMpXG59XG5cbmV4cG9ydCBjb25zdCBnZXRVc2VySW5mbyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIC8vaWYgaWQgZXhpc3QgaW4gZGF0YWJzZVxuICAgIGlmICghT2JqZWN0SUQuaXNWYWxpZChyZXEucGFyYW1zLmlkKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoYElkIHVua25vd24gOiAke3JlcS5wYXJhbXMuaWR9YClcbiAgICB9XG4gICAgYXdhaXQgVXNlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKS5zZWxlY3QoJy1wYXNzd29yZCcpXG4gICAgICAgIC50aGVuKCh1c2VyKSA9PiB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih1c2VyKVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgICB9KVxufVxuXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGlmICghT2JqZWN0SUQuaXNWYWxpZChyZXEucGFyYW1zLmlkKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoYElkIHVua25vd24gOiAke3JlcS5wYXJhbXMuaWR9YClcbiAgICB9XG4gICAgYXdhaXQgVXNlci5maW5kT25lQW5kVXBkYXRlKFxuICAgICAgICB7IF9pZDogcmVxLnBhcmFtcy5pZCB9LFxuICAgICAgICB7XG4gICAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICAgICAgYmlvOiByZXEuYm9keS5iaW9cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmV3OiB0cnVlLFxuICAgICAgICAgICAgdXBzZXJ0OiB0cnVlLFxuICAgICAgICAgICAgc2V0RGVmYXVsdHNPbkluc2VydDogdHJ1ZVxuICAgICAgICB9KS5zZWxlY3QoJy1wYXNzd29yZCcpLnRoZW4oKHVzZXIpID0+IHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVzZXIpXG4gICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogZXJyIH0pXG4gICAgICAgIH0pXG59XG5cbmV4cG9ydCBjb25zdCBkZWxldGVVc2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgaWYgKCFPYmplY3RJRC5pc1ZhbGlkKHJlcS5wYXJhbXMuaWQpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZChgSWQgdW5rbm93biA6ICR7cmVxLnBhcmFtcy5pZH1gKVxuICAgIH1cbiAgICBhd2FpdCBVc2VyLnJlbW92ZSh7XG4gICAgICAgIF9pZDogcmVxLnBhcmFtcy5pZFxuICAgIH0pLmV4ZWMoKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe21lc3NhZ2U6ICdTdWNjZXNzZnVsbHkgZGVsZXRlZCAhJ30pXG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7bWVzc2FnZTplcnJ9KVxuICAgIH0pXG59XG5leHBvcnQgY29uc3QgZm9sbG93ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgaWYgKCFPYmplY3RJRC5pc1ZhbGlkKHJlcS5wYXJhbXMuaWQpICkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoYElkIHVua25vd24gOiAke3JlcS5wYXJhbXMuaWR9YClcbiAgICB9XG4gICAgaWYgKCFPYmplY3RJRC5pc1ZhbGlkKHJlcS5ib2R5LmlkVG9Gb2xsb3cpICkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoYElkIHVua25vd24gOiAke3JlcS5ib2R5LmlkVG9Gb2xsb3d9YClcbiAgICB9XG4gICAgLy9hZGQgdG8gdGhlIGZvbGxvd2VyIGxpc3RcbiAgICBhd2FpdCBVc2VyLmZpbmRCeUlkQW5kVXBkYXRlKHJlcS5wYXJhbXMuaWQsIFxuICAgICAgICB7ICRhZGRUb1NldCA6IHsgZm9sbG93aW5nOiByZXEuYm9keS5pZFRvRm9sbG93fX0sXG4gICAgICAgIHtuZXcgOiB0cnVlLCB1cHNlcnQ6dHJ1ZX0pXG4gICAgICAgIC50aGVuKCh1c2VyKSA9PiB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih1c2VyKVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOmVycn0pXG4gICAgICAgIH0pXG4gICAgLy9hZGQgdG8gdGhlIGZvbGxvd2luZyBsaXN0XG4gICAgYXdhaXQgVXNlci5maW5kQnlJZEFuZFVwZGF0ZShyZXEuYm9keS5pZFRvRm9sbG93LFxuICAgICAgICB7ICRhZGRUb1NldCA6IHsgZm9sbG93ZXJzOiByZXEucGFyYW1zLmlkfX0sXG4gICAgICAgIHtuZXcgOiB0cnVlLCB1cHNlcnQ6dHJ1ZX0pXG4gICAgICAgIC50aGVuKCh1c2VyKSA9PiB7XG5cbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7bWVzc2FnZTplcnJ9KVxuICAgICAgICB9KVxuXG59XG5leHBvcnQgY29uc3QgdW5mb2xsb3cgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBpZiAoIU9iamVjdElELmlzVmFsaWQocmVxLnBhcmFtcy5pZCkgKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZChgSWQgdW5rbm93biA6ICR7cmVxLnBhcmFtcy5pZH1gKVxuICAgIH1cbiAgICBpZiAoIU9iamVjdElELmlzVmFsaWQocmVxLmJvZHkuaWRUb1VuRm9sbG93KSApIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKGBJZCB1bmtub3duIDogJHtyZXEuYm9keS5pZFRvVW5Gb2xsb3d9YClcbiAgICB9XG4gICAgIC8vZGVsZXRlIHRvIHRoZSBmb2xsb3dlciBsaXN0XG4gICAgIGF3YWl0IFVzZXIuZmluZEJ5SWRBbmRVcGRhdGUocmVxLnBhcmFtcy5pZCwgXG4gICAgICAgIHsgJHB1bGwgOiB7IGZvbGxvd2luZzogcmVxLmJvZHkuaWRUb1VuRm9sbG93fX0sXG4gICAgICAgIHtuZXcgOiB0cnVlLCB1cHNlcnQ6dHJ1ZX0pXG4gICAgICAgIC50aGVuKCh1c2VyKSA9PiB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih1c2VyKVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOmVycn0pXG4gICAgICAgIH0pXG4gICAgLy9kZWxldGUgdG8gdGhlIGZvbGxvd2luZyBsaXN0XG4gICAgYXdhaXQgVXNlci5maW5kQnlJZEFuZFVwZGF0ZShyZXEuYm9keS5pZFRvVW5Gb2xsb3csXG4gICAgICAgIHsgJHB1bGwgOiB7IGZvbGxvd2VyczogcmVxLnBhcmFtcy5pZH19LFxuICAgICAgICB7bmV3IDogdHJ1ZSwgdXBzZXJ0OnRydWV9KVxuICAgICAgICAudGhlbigodXNlcikgPT4ge1xuXG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6ZXJyfSlcbiAgICAgICAgfSlcblxufSJdfQ==","map":{"version":3,"sources":["user.controller.js"],"names":["User","require","ObjectID","Types","ObjectId","getAllUsers","req","res","users","find","select","status","json","getUserInfo","isValid","params","id","send","findById","then","user","catch","err","console","log","updateUser","findOneAndUpdate","_id","$set","bio","body","new","upsert","setDefaultsOnInsert","message","deleteUser","remove","exec","follow","idToFollow","findByIdAndUpdate","$addToSet","following","followers","unfollow","idToUnFollow","$pull"],"mappings":"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","sourceRoot":"/Applications/dossier/mern_project_app2/src/controllers/","sourcesContent":["const User = require('../models/user.model')\nconst ObjectID = require(\"mongoose\").Types.ObjectId;\n\n\nexport const getAllUsers = async (req, res) => {\n    //allow to receive all users without password\n    const users = await User.find().select('-password');\n    res\n        .status(200)\n        .json(users)\n}\n\nexport const getUserInfo = async (req, res) => {\n    //if id exist in databse\n    if (!ObjectID.isValid(req.params.id)) {\n        return res.status(400).send(`Id unknown : ${req.params.id}`)\n    }\n    await User.findById(req.params.id).select('-password')\n        .then((user) => {\n            res.status(200).json(user)\n        })\n        .catch((err) => {\n            console.log(err)\n        })\n}\n\nexport const updateUser = async (req, res) => {\n    if (!ObjectID.isValid(req.params.id)) {\n        return res.status(400).send(`Id unknown : ${req.params.id}`)\n    }\n    await User.findOneAndUpdate(\n        { _id: req.params.id },\n        {\n            $set: {\n                bio: req.body.bio\n            }\n        },\n        {\n            new: true,\n            upsert: true,\n            setDefaultsOnInsert: true\n        }).select('-password').then((user) => {\n            res.status(200).json(user)\n        }).catch((err) => {\n            res.status(500).json({ message: err })\n        })\n}\n\nexport const deleteUser = async (req, res) => {\n    if (!ObjectID.isValid(req.params.id)) {\n        return res.status(400).send(`Id unknown : ${req.params.id}`)\n    }\n    await User.remove({\n        _id: req.params.id\n    }).exec()\n    .then(() => {\n        res.status(200).json({message: 'Successfully deleted !'})\n    })\n    .catch((err) => {\n        res.status(500).json({message:err})\n    })\n}\nexport const follow = async (req, res) => {\n    if (!ObjectID.isValid(req.params.id) ) {\n        return res.status(400).send(`Id unknown : ${req.params.id}`)\n    }\n    if (!ObjectID.isValid(req.body.idToFollow) ) {\n        return res.status(400).send(`Id unknown : ${req.body.idToFollow}`)\n    }\n    //add to the follower list\n    await User.findByIdAndUpdate(req.params.id, \n        { $addToSet : { following: req.body.idToFollow}},\n        {new : true, upsert:true})\n        .then((user) => {\n            res.status(201).json(user)\n        })\n        .catch((err) => {\n            return res.status(500).json({message:err})\n        })\n    //add to the following list\n    await User.findByIdAndUpdate(req.body.idToFollow,\n        { $addToSet : { followers: req.params.id}},\n        {new : true, upsert:true})\n        .then((user) => {\n\n        })\n        .catch((err) => {\n            return res.status(500).json({message:err})\n        })\n\n}\nexport const unfollow = async (req, res) => {\n    if (!ObjectID.isValid(req.params.id) ) {\n        return res.status(400).send(`Id unknown : ${req.params.id}`)\n    }\n    if (!ObjectID.isValid(req.body.idToUnFollow) ) {\n        return res.status(400).send(`Id unknown : ${req.body.idToUnFollow}`)\n    }\n     //delete to the follower list\n     await User.findByIdAndUpdate(req.params.id, \n        { $pull : { following: req.body.idToUnFollow}},\n        {new : true, upsert:true})\n        .then((user) => {\n            res.status(201).json(user)\n        })\n        .catch((err) => {\n            return res.status(500).json({message:err})\n        })\n    //delete to the following list\n    await User.findByIdAndUpdate(req.body.idToUnFollow,\n        { $pull : { followers: req.params.id}},\n        {new : true, upsert:true})\n        .then((user) => {\n\n        })\n        .catch((err) => {\n            return res.status(500).json({message:err})\n        })\n\n}"]}},"mtime":1651273956019},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/middlewares/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/middlewares/auth.middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.requireAuth = exports.checkUser = void 0;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _HttpException = require(\"../errors/HttpException.error\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst User = require('../models/user.model');\n\nconst checkUser = (req, res, next) => {\n  const token = req.cookies.jwt;\n\n  if (token) {\n    _jsonwebtoken.default.verify(token, process.env.TOKEN_SECRET, async (err, decodedToken) => {\n      if (err) {\n        res.locals.user = null;\n        res.cookie(\"jwt\", '', {\n          maxAge: 1\n        });\n        next();\n      } else {\n        let user = await User.findById(decodedToken.id);\n\n        if (!user) {\n          return next(new _HttpException.HttpException('Unauthorized', _HttpException.HttpStatus.UNAUTHORIZED));\n        }\n\n        res.locals.user = user;\n        next();\n      }\n    });\n  } else {\n    console.log('UNAUTORIZED');\n    res.locals.user = null;\n    next(new _HttpException.HttpException('Unauthorized', _HttpException.HttpStatus.UNAUTHORIZED));\n  }\n};\n\nexports.checkUser = checkUser;\n\nconst requireAuth = (req, res, next) => {\n  const token = req.cookies.jwt;\n\n  if (token) {\n    _jsonwebtoken.default.verify(token, process.env.TOKEN_SECRET, async (err, decodedToken) => {\n      if (err) {\n        console.log(err);\n      } else {\n        console.log(decodedToken.id);\n        next();\n      }\n    });\n  } else {\n    console.log('no token');\n  }\n};\n\nexports.requireAuth = requireAuth;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGgubWlkZGxld2FyZS5qcyJdLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsImNoZWNrVXNlciIsInJlcSIsInJlcyIsIm5leHQiLCJ0b2tlbiIsImNvb2tpZXMiLCJqd3QiLCJ2ZXJpZnkiLCJwcm9jZXNzIiwiZW52IiwiVE9LRU5fU0VDUkVUIiwiZXJyIiwiZGVjb2RlZFRva2VuIiwibG9jYWxzIiwidXNlciIsImNvb2tpZSIsIm1heEFnZSIsImZpbmRCeUlkIiwiaWQiLCJIdHRwRXhjZXB0aW9uIiwiSHR0cFN0YXR1cyIsIlVOQVVUSE9SSVpFRCIsImNvbnNvbGUiLCJsb2ciLCJyZXF1aXJlQXV0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBOzs7O0FBREEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsc0JBQUQsQ0FBcEI7O0FBSU8sTUFBTUMsU0FBUyxHQUFHLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQzNDLFFBQU1DLEtBQUssR0FBR0gsR0FBRyxDQUFDSSxPQUFKLENBQVlDLEdBQTFCOztBQUNBLE1BQUlGLEtBQUosRUFBVztBQUNURSwwQkFBSUMsTUFBSixDQUFXSCxLQUFYLEVBQWtCSSxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsWUFBOUIsRUFBNEMsT0FBT0MsR0FBUCxFQUFZQyxZQUFaLEtBQTZCO0FBQ3ZFLFVBQUlELEdBQUosRUFBUztBQUNQVCxRQUFBQSxHQUFHLENBQUNXLE1BQUosQ0FBV0MsSUFBWCxHQUFrQixJQUFsQjtBQUNBWixRQUFBQSxHQUFHLENBQUNhLE1BQUosQ0FBVyxLQUFYLEVBQWtCLEVBQWxCLEVBQXNCO0FBQUVDLFVBQUFBLE1BQU0sRUFBRTtBQUFWLFNBQXRCO0FBQ0FiLFFBQUFBLElBQUk7QUFDTCxPQUpELE1BSU87QUFDTCxZQUFJVyxJQUFJLEdBQUcsTUFBTWhCLElBQUksQ0FBQ21CLFFBQUwsQ0FBY0wsWUFBWSxDQUFDTSxFQUEzQixDQUFqQjs7QUFDQSxZQUFJLENBQUNKLElBQUwsRUFBVztBQUNULGlCQUFPWCxJQUFJLENBQUMsSUFBSWdCLDRCQUFKLENBQWtCLGNBQWxCLEVBQWtDQywwQkFBV0MsWUFBN0MsQ0FBRCxDQUFYO0FBQ0Q7O0FBQ0RuQixRQUFBQSxHQUFHLENBQUNXLE1BQUosQ0FBV0MsSUFBWCxHQUFrQkEsSUFBbEI7QUFDQVgsUUFBQUEsSUFBSTtBQUNMO0FBQ0YsS0FiRDtBQWNELEdBZkQsTUFnQks7QUFDSG1CLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGFBQVo7QUFDQXJCLElBQUFBLEdBQUcsQ0FBQ1csTUFBSixDQUFXQyxJQUFYLEdBQWtCLElBQWxCO0FBQ0FYLElBQUFBLElBQUksQ0FBQyxJQUFJZ0IsNEJBQUosQ0FBa0IsY0FBbEIsRUFBa0NDLDBCQUFXQyxZQUE3QyxDQUFELENBQUo7QUFDRDtBQUNGLENBdkJNOzs7O0FBeUJBLE1BQU1HLFdBQVcsR0FBRyxDQUFDdkIsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDN0MsUUFBTUMsS0FBSyxHQUFHSCxHQUFHLENBQUNJLE9BQUosQ0FBWUMsR0FBMUI7O0FBQ0EsTUFBSUYsS0FBSixFQUFXO0FBQ1RFLDBCQUFJQyxNQUFKLENBQVdILEtBQVgsRUFBa0JJLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxZQUE5QixFQUE0QyxPQUFPQyxHQUFQLEVBQVlDLFlBQVosS0FBNkI7QUFDdkUsVUFBR0QsR0FBSCxFQUFPO0FBQ0xXLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZWixHQUFaO0FBQ0QsT0FGRCxNQUVLO0FBQ0hXLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZWCxZQUFZLENBQUNNLEVBQXpCO0FBQ0FmLFFBQUFBLElBQUk7QUFDTDtBQUNGLEtBUEQ7QUFRRCxHQVRELE1BU0s7QUFDSG1CLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFVBQVo7QUFDRDtBQUNGLENBZE0iLCJzb3VyY2VSb290IjoiL0FwcGxpY2F0aW9ucy9kb3NzaWVyL21lcm5fcHJvamVjdF9hcHAyL3NyYy9taWRkbGV3YXJlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5jb25zdCBVc2VyID0gcmVxdWlyZSgnLi4vbW9kZWxzL3VzZXIubW9kZWwnKVxuaW1wb3J0IHsgSHR0cEV4Y2VwdGlvbiwgSHR0cFN0YXR1cyB9IGZyb20gJy4uL2Vycm9ycy9IdHRwRXhjZXB0aW9uLmVycm9yJztcblxuXG5leHBvcnQgY29uc3QgY2hlY2tVc2VyID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0O1xuICBpZiAodG9rZW4pIHtcbiAgICBqd3QudmVyaWZ5KHRva2VuLCBwcm9jZXNzLmVudi5UT0tFTl9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXMubG9jYWxzLnVzZXIgPSBudWxsO1xuICAgICAgICByZXMuY29va2llKFwiand0XCIsICcnLCB7IG1heEFnZTogMSB9KVxuICAgICAgICBuZXh0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQoZGVjb2RlZFRva2VuLmlkKTtcbiAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgcmV0dXJuIG5leHQobmV3IEh0dHBFeGNlcHRpb24oJ1VuYXV0aG9yaXplZCcsIEh0dHBTdGF0dXMuVU5BVVRIT1JJWkVEKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzLmxvY2Fscy51c2VyID0gdXNlcjtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfVxuICAgIH0pXG4gIH1cbiAgZWxzZSB7XG4gICAgY29uc29sZS5sb2coJ1VOQVVUT1JJWkVEJylcbiAgICByZXMubG9jYWxzLnVzZXIgPSBudWxsO1xuICAgIG5leHQobmV3IEh0dHBFeGNlcHRpb24oJ1VuYXV0aG9yaXplZCcsIEh0dHBTdGF0dXMuVU5BVVRIT1JJWkVEKSk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHJlcXVpcmVBdXRoID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0XG4gIGlmICh0b2tlbikge1xuICAgIGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LlRPS0VOX1NFQ1JFVCwgYXN5bmMgKGVyciwgZGVjb2RlZFRva2VuKSA9PiB7XG4gICAgICBpZihlcnIpe1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGNvbnNvbGUubG9nKGRlY29kZWRUb2tlbi5pZClcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfVxuICAgIH0pXG4gIH1lbHNle1xuICAgIGNvbnNvbGUubG9nKCdubyB0b2tlbicpXG4gIH1cbn1cbiJdfQ==","map":{"version":3,"sources":["auth.middleware.js"],"names":["User","require","checkUser","req","res","next","token","cookies","jwt","verify","process","env","TOKEN_SECRET","err","decodedToken","locals","user","cookie","maxAge","findById","id","HttpException","HttpStatus","UNAUTHORIZED","console","log","requireAuth"],"mappings":";;;;;;;AAAA;;AAEA;;;;AADA,MAAMA,IAAI,GAAGC,OAAO,CAAC,sBAAD,CAApB;;AAIO,MAAMC,SAAS,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC3C,QAAMC,KAAK,GAAGH,GAAG,CAACI,OAAJ,CAAYC,GAA1B;;AACA,MAAIF,KAAJ,EAAW;AACTE,0BAAIC,MAAJ,CAAWH,KAAX,EAAkBI,OAAO,CAACC,GAAR,CAAYC,YAA9B,EAA4C,OAAOC,GAAP,EAAYC,YAAZ,KAA6B;AACvE,UAAID,GAAJ,EAAS;AACPT,QAAAA,GAAG,CAACW,MAAJ,CAAWC,IAAX,GAAkB,IAAlB;AACAZ,QAAAA,GAAG,CAACa,MAAJ,CAAW,KAAX,EAAkB,EAAlB,EAAsB;AAAEC,UAAAA,MAAM,EAAE;AAAV,SAAtB;AACAb,QAAAA,IAAI;AACL,OAJD,MAIO;AACL,YAAIW,IAAI,GAAG,MAAMhB,IAAI,CAACmB,QAAL,CAAcL,YAAY,CAACM,EAA3B,CAAjB;;AACA,YAAI,CAACJ,IAAL,EAAW;AACT,iBAAOX,IAAI,CAAC,IAAIgB,4BAAJ,CAAkB,cAAlB,EAAkCC,0BAAWC,YAA7C,CAAD,CAAX;AACD;;AACDnB,QAAAA,GAAG,CAACW,MAAJ,CAAWC,IAAX,GAAkBA,IAAlB;AACAX,QAAAA,IAAI;AACL;AACF,KAbD;AAcD,GAfD,MAgBK;AACHmB,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACArB,IAAAA,GAAG,CAACW,MAAJ,CAAWC,IAAX,GAAkB,IAAlB;AACAX,IAAAA,IAAI,CAAC,IAAIgB,4BAAJ,CAAkB,cAAlB,EAAkCC,0BAAWC,YAA7C,CAAD,CAAJ;AACD;AACF,CAvBM;;;;AAyBA,MAAMG,WAAW,GAAG,CAACvB,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC7C,QAAMC,KAAK,GAAGH,GAAG,CAACI,OAAJ,CAAYC,GAA1B;;AACA,MAAIF,KAAJ,EAAW;AACTE,0BAAIC,MAAJ,CAAWH,KAAX,EAAkBI,OAAO,CAACC,GAAR,CAAYC,YAA9B,EAA4C,OAAOC,GAAP,EAAYC,YAAZ,KAA6B;AACvE,UAAGD,GAAH,EAAO;AACLW,QAAAA,OAAO,CAACC,GAAR,CAAYZ,GAAZ;AACD,OAFD,MAEK;AACHW,QAAAA,OAAO,CAACC,GAAR,CAAYX,YAAY,CAACM,EAAzB;AACAf,QAAAA,IAAI;AACL;AACF,KAPD;AAQD,GATD,MASK;AACHmB,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACD;AACF,CAdM","sourceRoot":"/Applications/dossier/mern_project_app2/src/middlewares/","sourcesContent":["import jwt from 'jsonwebtoken';\nconst User = require('../models/user.model')\nimport { HttpException, HttpStatus } from '../errors/HttpException.error';\n\n\nexport const checkUser = (req, res, next) => {\n  const token = req.cookies.jwt;\n  if (token) {\n    jwt.verify(token, process.env.TOKEN_SECRET, async (err, decodedToken) => {\n      if (err) {\n        res.locals.user = null;\n        res.cookie(\"jwt\", '', { maxAge: 1 })\n        next();\n      } else {\n        let user = await User.findById(decodedToken.id);\n        if (!user) {\n          return next(new HttpException('Unauthorized', HttpStatus.UNAUTHORIZED));\n        }\n        res.locals.user = user;\n        next();\n      }\n    })\n  }\n  else {\n    console.log('UNAUTORIZED')\n    res.locals.user = null;\n    next(new HttpException('Unauthorized', HttpStatus.UNAUTHORIZED));\n  }\n}\n\nexport const requireAuth = (req, res, next) => {\n  const token = req.cookies.jwt\n  if (token) {\n    jwt.verify(token, process.env.TOKEN_SECRET, async (err, decodedToken) => {\n      if(err){\n        console.log(err);\n      }else{\n        console.log(decodedToken.id)\n        next();\n      }\n    })\n  }else{\n    console.log('no token')\n  }\n}\n"]}},"mtime":1651272427447},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/middlewares/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/middlewares/auth.middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.requireAuth = exports.checkUser = void 0;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _HttpException = require(\"../errors/HttpException.error\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst User = require('../models/user.models');\n\nconst checkUser = (req, res, next) => {\n  const token = req.cookies.jwt;\n\n  if (token) {\n    _jsonwebtoken.default.verify(token, process.env.TOKEN_SECRET, async (err, decodedToken) => {\n      if (err) {\n        res.locals.user = null;\n        res.cookie(\"jwt\", '', {\n          maxAge: 1\n        });\n        next();\n      } else {\n        let user = await User.findById(decodedToken.id);\n\n        if (!user) {\n          return next(new _HttpException.HttpException('Unauthorized', _HttpException.HttpStatus.UNAUTHORIZED));\n        }\n\n        res.locals.user = user;\n        next();\n      }\n    });\n  } else {\n    console.log('UNAUTORIZED');\n    res.locals.user = null;\n    next(new _HttpException.HttpException('Unauthorized', _HttpException.HttpStatus.UNAUTHORIZED));\n  }\n};\n\nexports.checkUser = checkUser;\n\nconst requireAuth = (req, res, next) => {\n  const token = req.cookies.jwt;\n\n  if (token) {\n    _jsonwebtoken.default.verify(token, process.env.TOKEN_SECRET, async (err, decodedToken) => {\n      if (err) {\n        console.log(err);\n      } else {\n        console.log(decodedToken.id);\n        next();\n      }\n    });\n  } else {\n    console.log('no token');\n  }\n};\n\nexports.requireAuth = requireAuth;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGgubWlkZGxld2FyZS5qcyJdLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsImNoZWNrVXNlciIsInJlcSIsInJlcyIsIm5leHQiLCJ0b2tlbiIsImNvb2tpZXMiLCJqd3QiLCJ2ZXJpZnkiLCJwcm9jZXNzIiwiZW52IiwiVE9LRU5fU0VDUkVUIiwiZXJyIiwiZGVjb2RlZFRva2VuIiwibG9jYWxzIiwidXNlciIsImNvb2tpZSIsIm1heEFnZSIsImZpbmRCeUlkIiwiaWQiLCJIdHRwRXhjZXB0aW9uIiwiSHR0cFN0YXR1cyIsIlVOQVVUSE9SSVpFRCIsImNvbnNvbGUiLCJsb2ciLCJyZXF1aXJlQXV0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBOzs7O0FBREEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsdUJBQUQsQ0FBcEI7O0FBSU8sTUFBTUMsU0FBUyxHQUFHLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQzNDLFFBQU1DLEtBQUssR0FBR0gsR0FBRyxDQUFDSSxPQUFKLENBQVlDLEdBQTFCOztBQUNBLE1BQUlGLEtBQUosRUFBVztBQUNURSwwQkFBSUMsTUFBSixDQUFXSCxLQUFYLEVBQWtCSSxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsWUFBOUIsRUFBNEMsT0FBT0MsR0FBUCxFQUFZQyxZQUFaLEtBQTZCO0FBQ3ZFLFVBQUlELEdBQUosRUFBUztBQUNQVCxRQUFBQSxHQUFHLENBQUNXLE1BQUosQ0FBV0MsSUFBWCxHQUFrQixJQUFsQjtBQUNBWixRQUFBQSxHQUFHLENBQUNhLE1BQUosQ0FBVyxLQUFYLEVBQWtCLEVBQWxCLEVBQXNCO0FBQUVDLFVBQUFBLE1BQU0sRUFBRTtBQUFWLFNBQXRCO0FBQ0FiLFFBQUFBLElBQUk7QUFDTCxPQUpELE1BSU87QUFDTCxZQUFJVyxJQUFJLEdBQUcsTUFBTWhCLElBQUksQ0FBQ21CLFFBQUwsQ0FBY0wsWUFBWSxDQUFDTSxFQUEzQixDQUFqQjs7QUFDQSxZQUFJLENBQUNKLElBQUwsRUFBVztBQUNULGlCQUFPWCxJQUFJLENBQUMsSUFBSWdCLDRCQUFKLENBQWtCLGNBQWxCLEVBQWtDQywwQkFBV0MsWUFBN0MsQ0FBRCxDQUFYO0FBQ0Q7O0FBQ0RuQixRQUFBQSxHQUFHLENBQUNXLE1BQUosQ0FBV0MsSUFBWCxHQUFrQkEsSUFBbEI7QUFDQVgsUUFBQUEsSUFBSTtBQUNMO0FBQ0YsS0FiRDtBQWNELEdBZkQsTUFnQks7QUFDSG1CLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGFBQVo7QUFDQXJCLElBQUFBLEdBQUcsQ0FBQ1csTUFBSixDQUFXQyxJQUFYLEdBQWtCLElBQWxCO0FBQ0FYLElBQUFBLElBQUksQ0FBQyxJQUFJZ0IsNEJBQUosQ0FBa0IsY0FBbEIsRUFBa0NDLDBCQUFXQyxZQUE3QyxDQUFELENBQUo7QUFDRDtBQUNGLENBdkJNOzs7O0FBeUJBLE1BQU1HLFdBQVcsR0FBRyxDQUFDdkIsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDN0MsUUFBTUMsS0FBSyxHQUFHSCxHQUFHLENBQUNJLE9BQUosQ0FBWUMsR0FBMUI7O0FBQ0EsTUFBSUYsS0FBSixFQUFXO0FBQ1RFLDBCQUFJQyxNQUFKLENBQVdILEtBQVgsRUFBa0JJLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxZQUE5QixFQUE0QyxPQUFPQyxHQUFQLEVBQVlDLFlBQVosS0FBNkI7QUFDdkUsVUFBR0QsR0FBSCxFQUFPO0FBQ0xXLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZWixHQUFaO0FBQ0QsT0FGRCxNQUVLO0FBQ0hXLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZWCxZQUFZLENBQUNNLEVBQXpCO0FBQ0FmLFFBQUFBLElBQUk7QUFDTDtBQUNGLEtBUEQ7QUFRRCxHQVRELE1BU0s7QUFDSG1CLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFVBQVo7QUFDRDtBQUNGLENBZE0iLCJzb3VyY2VSb290IjoiL0FwcGxpY2F0aW9ucy9kb3NzaWVyL21lcm5fcHJvamVjdF9hcHAyL3NyYy9taWRkbGV3YXJlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5jb25zdCBVc2VyID0gcmVxdWlyZSgnLi4vbW9kZWxzL3VzZXIubW9kZWxzJylcbmltcG9ydCB7IEh0dHBFeGNlcHRpb24sIEh0dHBTdGF0dXMgfSBmcm9tICcuLi9lcnJvcnMvSHR0cEV4Y2VwdGlvbi5lcnJvcic7XG5cblxuZXhwb3J0IGNvbnN0IGNoZWNrVXNlciA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgaWYgKHRva2VuKSB7XG4gICAgand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuVE9LRU5fU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmVzLmxvY2Fscy51c2VyID0gbnVsbDtcbiAgICAgICAgcmVzLmNvb2tpZShcImp3dFwiLCAnJywgeyBtYXhBZ2U6IDEgfSlcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKGRlY29kZWRUb2tlbi5pZCk7XG4gICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgIHJldHVybiBuZXh0KG5ldyBIdHRwRXhjZXB0aW9uKCdVbmF1dGhvcml6ZWQnLCBIdHRwU3RhdHVzLlVOQVVUSE9SSVpFRCkpO1xuICAgICAgICB9XG4gICAgICAgIHJlcy5sb2NhbHMudXNlciA9IHVzZXI7XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH1cbiAgICB9KVxuICB9XG4gIGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKCdVTkFVVE9SSVpFRCcpXG4gICAgcmVzLmxvY2Fscy51c2VyID0gbnVsbDtcbiAgICBuZXh0KG5ldyBIdHRwRXhjZXB0aW9uKCdVbmF1dGhvcml6ZWQnLCBIdHRwU3RhdHVzLlVOQVVUSE9SSVpFRCkpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCByZXF1aXJlQXV0aCA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dFxuICBpZiAodG9rZW4pIHtcbiAgICBqd3QudmVyaWZ5KHRva2VuLCBwcm9jZXNzLmVudi5UT0tFTl9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgaWYoZXJyKXtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH1lbHNle1xuICAgICAgICBjb25zb2xlLmxvZyhkZWNvZGVkVG9rZW4uaWQpXG4gICAgICAgIG5leHQoKTtcbiAgICAgIH1cbiAgICB9KVxuICB9ZWxzZXtcbiAgICBjb25zb2xlLmxvZygnbm8gdG9rZW4nKVxuICB9XG59XG4iXX0=","map":{"version":3,"sources":["auth.middleware.js"],"names":["User","require","checkUser","req","res","next","token","cookies","jwt","verify","process","env","TOKEN_SECRET","err","decodedToken","locals","user","cookie","maxAge","findById","id","HttpException","HttpStatus","UNAUTHORIZED","console","log","requireAuth"],"mappings":";;;;;;;AAAA;;AAEA;;;;AADA,MAAMA,IAAI,GAAGC,OAAO,CAAC,uBAAD,CAApB;;AAIO,MAAMC,SAAS,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC3C,QAAMC,KAAK,GAAGH,GAAG,CAACI,OAAJ,CAAYC,GAA1B;;AACA,MAAIF,KAAJ,EAAW;AACTE,0BAAIC,MAAJ,CAAWH,KAAX,EAAkBI,OAAO,CAACC,GAAR,CAAYC,YAA9B,EAA4C,OAAOC,GAAP,EAAYC,YAAZ,KAA6B;AACvE,UAAID,GAAJ,EAAS;AACPT,QAAAA,GAAG,CAACW,MAAJ,CAAWC,IAAX,GAAkB,IAAlB;AACAZ,QAAAA,GAAG,CAACa,MAAJ,CAAW,KAAX,EAAkB,EAAlB,EAAsB;AAAEC,UAAAA,MAAM,EAAE;AAAV,SAAtB;AACAb,QAAAA,IAAI;AACL,OAJD,MAIO;AACL,YAAIW,IAAI,GAAG,MAAMhB,IAAI,CAACmB,QAAL,CAAcL,YAAY,CAACM,EAA3B,CAAjB;;AACA,YAAI,CAACJ,IAAL,EAAW;AACT,iBAAOX,IAAI,CAAC,IAAIgB,4BAAJ,CAAkB,cAAlB,EAAkCC,0BAAWC,YAA7C,CAAD,CAAX;AACD;;AACDnB,QAAAA,GAAG,CAACW,MAAJ,CAAWC,IAAX,GAAkBA,IAAlB;AACAX,QAAAA,IAAI;AACL;AACF,KAbD;AAcD,GAfD,MAgBK;AACHmB,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACArB,IAAAA,GAAG,CAACW,MAAJ,CAAWC,IAAX,GAAkB,IAAlB;AACAX,IAAAA,IAAI,CAAC,IAAIgB,4BAAJ,CAAkB,cAAlB,EAAkCC,0BAAWC,YAA7C,CAAD,CAAJ;AACD;AACF,CAvBM;;;;AAyBA,MAAMG,WAAW,GAAG,CAACvB,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC7C,QAAMC,KAAK,GAAGH,GAAG,CAACI,OAAJ,CAAYC,GAA1B;;AACA,MAAIF,KAAJ,EAAW;AACTE,0BAAIC,MAAJ,CAAWH,KAAX,EAAkBI,OAAO,CAACC,GAAR,CAAYC,YAA9B,EAA4C,OAAOC,GAAP,EAAYC,YAAZ,KAA6B;AACvE,UAAGD,GAAH,EAAO;AACLW,QAAAA,OAAO,CAACC,GAAR,CAAYZ,GAAZ;AACD,OAFD,MAEK;AACHW,QAAAA,OAAO,CAACC,GAAR,CAAYX,YAAY,CAACM,EAAzB;AACAf,QAAAA,IAAI;AACL;AACF,KAPD;AAQD,GATD,MASK;AACHmB,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACD;AACF,CAdM","sourceRoot":"/Applications/dossier/mern_project_app2/src/middlewares/","sourcesContent":["import jwt from 'jsonwebtoken';\nconst User = require('../models/user.models')\nimport { HttpException, HttpStatus } from '../errors/HttpException.error';\n\n\nexport const checkUser = (req, res, next) => {\n  const token = req.cookies.jwt;\n  if (token) {\n    jwt.verify(token, process.env.TOKEN_SECRET, async (err, decodedToken) => {\n      if (err) {\n        res.locals.user = null;\n        res.cookie(\"jwt\", '', { maxAge: 1 })\n        next();\n      } else {\n        let user = await User.findById(decodedToken.id);\n        if (!user) {\n          return next(new HttpException('Unauthorized', HttpStatus.UNAUTHORIZED));\n        }\n        res.locals.user = user;\n        next();\n      }\n    })\n  }\n  else {\n    console.log('UNAUTORIZED')\n    res.locals.user = null;\n    next(new HttpException('Unauthorized', HttpStatus.UNAUTHORIZED));\n  }\n}\n\nexport const requireAuth = (req, res, next) => {\n  const token = req.cookies.jwt\n  if (token) {\n    jwt.verify(token, process.env.TOKEN_SECRET, async (err, decodedToken) => {\n      if(err){\n        console.log(err);\n      }else{\n        console.log(decodedToken.id)\n        next();\n      }\n    })\n  }else{\n    console.log('no token')\n  }\n}\n"]}},"mtime":1651256342290},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/middlewares/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/middlewares/jwt.middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.jwtMiddleware = void 0;\n\nvar _express = require(\"express\");\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _HttpException = require(\"../errors/HttpException.error\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst User = require('../models/user.model');\n\nconst jwtMiddleware = (req, res, next) => {\n  async (req, _res, next) => {\n    console.log('jwtMiddleware');\n    const token = req.cookies.jwt;\n\n    if (token) {\n      const {\n        id\n      } = _jsonwebtoken.default.verify(token, process.env.TOKEN_SECRET);\n\n      let user = await User.findById(id);\n\n      if (!user) {\n        return next(new _HttpException.HttpException('Unauthorized', _HttpException.HttpStatus.UNAUTHORIZED));\n      }\n\n      _express.request.user = user;\n      next();\n    } else {\n      next(new _HttpException.HttpException('Unauthorized', _HttpException.HttpStatus.UNAUTHORIZED));\n    }\n  };\n};\n\nexports.jwtMiddleware = jwtMiddleware;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImp3dC5taWRkbGV3YXJlLmpzIl0sIm5hbWVzIjpbIlVzZXIiLCJyZXF1aXJlIiwiand0TWlkZGxld2FyZSIsInJlcSIsInJlcyIsIm5leHQiLCJfcmVzIiwiY29uc29sZSIsImxvZyIsInRva2VuIiwiY29va2llcyIsImp3dCIsImlkIiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsIlRPS0VOX1NFQ1JFVCIsInVzZXIiLCJmaW5kQnlJZCIsIkh0dHBFeGNlcHRpb24iLCJIdHRwU3RhdHVzIiwiVU5BVVRIT1JJWkVEIiwicmVxdWVzdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBQ0EsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsc0JBQUQsQ0FBcEI7O0FBRU8sTUFBTUMsYUFBYSxHQUFHLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQy9DLFNBQU9GLEdBQVAsRUFBWUcsSUFBWixFQUFrQkQsSUFBbEIsS0FBMkI7QUFDM0JFLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGVBQVo7QUFDQSxVQUFNQyxLQUFLLEdBQUdOLEdBQUcsQ0FBQ08sT0FBSixDQUFZQyxHQUExQjs7QUFDQSxRQUFJRixLQUFKLEVBQVc7QUFDVCxZQUFNO0FBQUVHLFFBQUFBO0FBQUYsVUFBU0Qsc0JBQUlFLE1BQUosQ0FBV0osS0FBWCxFQUFrQkssT0FBTyxDQUFDQyxHQUFSLENBQVlDLFlBQTlCLENBQWY7O0FBQ0EsVUFBSUMsSUFBSSxHQUFHLE1BQU1qQixJQUFJLENBQUNrQixRQUFMLENBQWNOLEVBQWQsQ0FBakI7O0FBQ0EsVUFBSSxDQUFDSyxJQUFMLEVBQVc7QUFDVCxlQUFPWixJQUFJLENBQUMsSUFBSWMsNEJBQUosQ0FBa0IsY0FBbEIsRUFBa0NDLDBCQUFXQyxZQUE3QyxDQUFELENBQVg7QUFDRDs7QUFDREMsdUJBQVFMLElBQVIsR0FBZUEsSUFBZjtBQUNBWixNQUFBQSxJQUFJO0FBQ0wsS0FSRCxNQVFLO0FBQ0hBLE1BQUFBLElBQUksQ0FBQyxJQUFJYyw0QkFBSixDQUFrQixjQUFsQixFQUFrQ0MsMEJBQVdDLFlBQTdDLENBQUQsQ0FBSjtBQUNEO0FBQ0YsR0FkQztBQWVDLENBaEJJIiwic291cmNlUm9vdCI6Ii9BcHBsaWNhdGlvbnMvZG9zc2llci9tZXJuX3Byb2plY3RfYXBwMi9zcmMvbWlkZGxld2FyZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IHsgSHR0cEV4Y2VwdGlvbiwgSHR0cFN0YXR1cyB9IGZyb20gJy4uL2Vycm9ycy9IdHRwRXhjZXB0aW9uLmVycm9yJztcbmNvbnN0IFVzZXIgPSByZXF1aXJlKCcuLi9tb2RlbHMvdXNlci5tb2RlbCcpXG5cbmV4cG9ydCBjb25zdCBqd3RNaWRkbGV3YXJlID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGFzeW5jIChyZXEsIF9yZXMsIG5leHQpID0+IHtcbiAgY29uc29sZS5sb2coJ2p3dE1pZGRsZXdhcmUnKVxuICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgaWYgKHRva2VuKSB7XG4gICAgY29uc3QgeyBpZCB9ID0gand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuVE9LRU5fU0VDUkVUKVxuICAgIGxldCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChpZCk7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXR1cm4gbmV4dChuZXcgSHR0cEV4Y2VwdGlvbignVW5hdXRob3JpemVkJywgSHR0cFN0YXR1cy5VTkFVVEhPUklaRUQpKTtcbiAgICB9XG4gICAgcmVxdWVzdC51c2VyID0gdXNlcjtcbiAgICBuZXh0KCk7XG4gIH1lbHNle1xuICAgIG5leHQobmV3IEh0dHBFeGNlcHRpb24oJ1VuYXV0aG9yaXplZCcsIEh0dHBTdGF0dXMuVU5BVVRIT1JJWkVEKSk7XG4gIH1cbn1cbiAgfVxuXG4iXX0=","map":{"version":3,"sources":["jwt.middleware.js"],"names":["User","require","jwtMiddleware","req","res","next","_res","console","log","token","cookies","jwt","id","verify","process","env","TOKEN_SECRET","user","findById","HttpException","HttpStatus","UNAUTHORIZED","request"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AACA,MAAMA,IAAI,GAAGC,OAAO,CAAC,sBAAD,CAApB;;AAEO,MAAMC,aAAa,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC/C,SAAOF,GAAP,EAAYG,IAAZ,EAAkBD,IAAlB,KAA2B;AAC3BE,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,UAAMC,KAAK,GAAGN,GAAG,CAACO,OAAJ,CAAYC,GAA1B;;AACA,QAAIF,KAAJ,EAAW;AACT,YAAM;AAAEG,QAAAA;AAAF,UAASD,sBAAIE,MAAJ,CAAWJ,KAAX,EAAkBK,OAAO,CAACC,GAAR,CAAYC,YAA9B,CAAf;;AACA,UAAIC,IAAI,GAAG,MAAMjB,IAAI,CAACkB,QAAL,CAAcN,EAAd,CAAjB;;AACA,UAAI,CAACK,IAAL,EAAW;AACT,eAAOZ,IAAI,CAAC,IAAIc,4BAAJ,CAAkB,cAAlB,EAAkCC,0BAAWC,YAA7C,CAAD,CAAX;AACD;;AACDC,uBAAQL,IAAR,GAAeA,IAAf;AACAZ,MAAAA,IAAI;AACL,KARD,MAQK;AACHA,MAAAA,IAAI,CAAC,IAAIc,4BAAJ,CAAkB,cAAlB,EAAkCC,0BAAWC,YAA7C,CAAD,CAAJ;AACD;AACF,GAdC;AAeC,CAhBI","sourceRoot":"/Applications/dossier/mern_project_app2/src/middlewares/","sourcesContent":["import { request } from 'express';\nimport jwt from 'jsonwebtoken';\nimport { HttpException, HttpStatus } from '../errors/HttpException.error';\nconst User = require('../models/user.model')\n\nexport const jwtMiddleware = (req, res, next) => {\n  async (req, _res, next) => {\n  console.log('jwtMiddleware')\n  const token = req.cookies.jwt;\n  if (token) {\n    const { id } = jwt.verify(token, process.env.TOKEN_SECRET)\n    let user = await User.findById(id);\n    if (!user) {\n      return next(new HttpException('Unauthorized', HttpStatus.UNAUTHORIZED));\n    }\n    request.user = user;\n    next();\n  }else{\n    next(new HttpException('Unauthorized', HttpStatus.UNAUTHORIZED));\n  }\n}\n  }\n\n"]}},"mtime":1651272395940},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/errors/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/errors/HttpException.error.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HttpStatus = exports.HttpException = void 0;\nconst HttpStatus = {\n  UNAUTHORIZED: 401,\n  NOT_FOUND: 404\n};\nexports.HttpStatus = HttpStatus;\n\nclass HttpException extends Error {\n  constructor(message, statusCode) {\n    super(message);\n    this.statusCode = statusCode;\n  }\n\n}\n\nexports.HttpException = HttpException;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkh0dHBFeGNlcHRpb24uZXJyb3IuanMiXSwibmFtZXMiOlsiSHR0cFN0YXR1cyIsIlVOQVVUSE9SSVpFRCIsIk5PVF9GT1VORCIsIkh0dHBFeGNlcHRpb24iLCJFcnJvciIsImNvbnN0cnVjdG9yIiwibWVzc2FnZSIsInN0YXR1c0NvZGUiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFPLE1BQU1BLFVBQVUsR0FBRztBQUN4QkMsRUFBQUEsWUFBWSxFQUFFLEdBRFU7QUFFeEJDLEVBQUFBLFNBQVMsRUFBRTtBQUZhLENBQW5COzs7QUFLQSxNQUFNQyxhQUFOLFNBQTRCQyxLQUE1QixDQUFrQztBQUN2Q0MsRUFBQUEsV0FBVyxDQUFDQyxPQUFELEVBQVVDLFVBQVYsRUFBc0I7QUFDL0IsVUFBTUQsT0FBTjtBQUVBLFNBQUtDLFVBQUwsR0FBa0JBLFVBQWxCO0FBQ0Q7O0FBTHNDIiwic291cmNlUm9vdCI6Ii9BcHBsaWNhdGlvbnMvZG9zc2llci9tZXJuX3Byb2plY3RfYXBwMi9zcmMvZXJyb3JzLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBIdHRwU3RhdHVzID0ge1xuICBVTkFVVEhPUklaRUQ6IDQwMSxcbiAgTk9UX0ZPVU5EOiA0MDQsXG59XG5cbmV4cG9ydCBjbGFzcyBIdHRwRXhjZXB0aW9uIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBzdGF0dXNDb2RlKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG5cbiAgICB0aGlzLnN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlO1xuICB9XG59XG4iXX0=","map":{"version":3,"sources":["HttpException.error.js"],"names":["HttpStatus","UNAUTHORIZED","NOT_FOUND","HttpException","Error","constructor","message","statusCode"],"mappings":";;;;;;AAAO,MAAMA,UAAU,GAAG;AACxBC,EAAAA,YAAY,EAAE,GADU;AAExBC,EAAAA,SAAS,EAAE;AAFa,CAAnB;;;AAKA,MAAMC,aAAN,SAA4BC,KAA5B,CAAkC;AACvCC,EAAAA,WAAW,CAACC,OAAD,EAAUC,UAAV,EAAsB;AAC/B,UAAMD,OAAN;AAEA,SAAKC,UAAL,GAAkBA,UAAlB;AACD;;AALsC","sourceRoot":"/Applications/dossier/mern_project_app2/src/errors/","sourcesContent":["export const HttpStatus = {\n  UNAUTHORIZED: 401,\n  NOT_FOUND: 404,\n}\n\nexport class HttpException extends Error {\n  constructor(message, statusCode) {\n    super(message);\n\n    this.statusCode = statusCode;\n  }\n}\n"]}},"mtime":1651253219660},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/middlewares/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/middlewares/jwt.middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.jwtMiddleware = void 0;\n\nvar _express = require(\"express\");\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _HttpException = require(\"../errors/HttpException.error\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst User = require('../models/user.model');\n\nconst jwtMiddleware = (req, res, next) => {\n  async (req, _res, next) => {\n    console.log('jwtMiddleware');\n    const token = req.cookies.jwt;\n\n    if (token) {\n      const {\n        id\n      } = _jsonwebtoken.default.verify(token, process.env.TOKEN_SECRET);\n\n      let user = await User.findById(id);\n\n      if (!user) {\n        return next(new _HttpException.HttpException('Unauthorized', _HttpException.HttpStatus.UNAUTHORIZED));\n      }\n\n      _express.request.user = user;\n      next();\n    } else {\n      next(new _HttpException.HttpException('Unauthorized', _HttpException.HttpStatus.UNAUTHORIZED));\n    }\n  };\n};\n\nexports.jwtMiddleware = jwtMiddleware;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImp3dC5taWRkbGV3YXJlLmpzIl0sIm5hbWVzIjpbIlVzZXIiLCJyZXF1aXJlIiwiand0TWlkZGxld2FyZSIsInJlcSIsInJlcyIsIm5leHQiLCJfcmVzIiwiY29uc29sZSIsImxvZyIsInRva2VuIiwiY29va2llcyIsImp3dCIsImlkIiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsIlRPS0VOX1NFQ1JFVCIsInVzZXIiLCJmaW5kQnlJZCIsIkh0dHBFeGNlcHRpb24iLCJIdHRwU3RhdHVzIiwiVU5BVVRIT1JJWkVEIiwicmVxdWVzdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBQ0EsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsc0JBQUQsQ0FBcEI7O0FBRU8sTUFBTUMsYUFBYSxHQUFHLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQy9DLFNBQU9GLEdBQVAsRUFBWUcsSUFBWixFQUFrQkQsSUFBbEIsS0FBMkI7QUFDM0JFLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGVBQVo7QUFDQSxVQUFNQyxLQUFLLEdBQUdOLEdBQUcsQ0FBQ08sT0FBSixDQUFZQyxHQUExQjs7QUFDQSxRQUFJRixLQUFKLEVBQVc7QUFDVCxZQUFNO0FBQUVHLFFBQUFBO0FBQUYsVUFBU0Qsc0JBQUlFLE1BQUosQ0FBV0osS0FBWCxFQUFrQkssT0FBTyxDQUFDQyxHQUFSLENBQVlDLFlBQTlCLENBQWY7O0FBQ0EsVUFBSUMsSUFBSSxHQUFHLE1BQU1qQixJQUFJLENBQUNrQixRQUFMLENBQWNOLEVBQWQsQ0FBakI7O0FBQ0EsVUFBSSxDQUFDSyxJQUFMLEVBQVc7QUFDVCxlQUFPWixJQUFJLENBQUMsSUFBSWMsNEJBQUosQ0FBa0IsY0FBbEIsRUFBa0NDLDBCQUFXQyxZQUE3QyxDQUFELENBQVg7QUFDRDs7QUFDREMsdUJBQVFMLElBQVIsR0FBZUEsSUFBZjtBQUNBWixNQUFBQSxJQUFJO0FBQ0wsS0FSRCxNQVFLO0FBQ0hBLE1BQUFBLElBQUksQ0FBQyxJQUFJYyw0QkFBSixDQUFrQixjQUFsQixFQUFrQ0MsMEJBQVdDLFlBQTdDLENBQUQsQ0FBSjtBQUNEO0FBQ0YsR0FkQztBQWVDLENBaEJJIiwic291cmNlUm9vdCI6Ii9BcHBsaWNhdGlvbnMvZG9zc2llci9tZXJuX3Byb2plY3RfYXBwMi9zcmMvbWlkZGxld2FyZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IHsgSHR0cEV4Y2VwdGlvbiwgSHR0cFN0YXR1cyB9IGZyb20gJy4uL2Vycm9ycy9IdHRwRXhjZXB0aW9uLmVycm9yJztcbmNvbnN0IFVzZXIgPSByZXF1aXJlKCcuLi9tb2RlbHMvdXNlci5tb2RlbCcpXG5cbmV4cG9ydCBjb25zdCBqd3RNaWRkbGV3YXJlID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGFzeW5jIChyZXEsIF9yZXMsIG5leHQpID0+IHtcbiAgY29uc29sZS5sb2coJ2p3dE1pZGRsZXdhcmUnKVxuICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgaWYgKHRva2VuKSB7XG4gICAgY29uc3QgeyBpZCB9ID0gand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuVE9LRU5fU0VDUkVUKVxuICAgIGxldCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChpZCk7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXR1cm4gbmV4dChuZXcgSHR0cEV4Y2VwdGlvbignVW5hdXRob3JpemVkJywgSHR0cFN0YXR1cy5VTkFVVEhPUklaRUQpKTtcbiAgICB9XG4gICAgcmVxdWVzdC51c2VyID0gdXNlcjtcbiAgICBuZXh0KCk7XG4gIH1lbHNle1xuICAgIG5leHQobmV3IEh0dHBFeGNlcHRpb24oJ1VuYXV0aG9yaXplZCcsIEh0dHBTdGF0dXMuVU5BVVRIT1JJWkVEKSk7XG4gIH1cbn1cbiAgfVxuXG4iXX0=","map":{"version":3,"sources":["jwt.middleware.js"],"names":["User","require","jwtMiddleware","req","res","next","_res","console","log","token","cookies","jwt","id","verify","process","env","TOKEN_SECRET","user","findById","HttpException","HttpStatus","UNAUTHORIZED","request"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AACA,MAAMA,IAAI,GAAGC,OAAO,CAAC,sBAAD,CAApB;;AAEO,MAAMC,aAAa,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC/C,SAAOF,GAAP,EAAYG,IAAZ,EAAkBD,IAAlB,KAA2B;AAC3BE,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,UAAMC,KAAK,GAAGN,GAAG,CAACO,OAAJ,CAAYC,GAA1B;;AACA,QAAIF,KAAJ,EAAW;AACT,YAAM;AAAEG,QAAAA;AAAF,UAASD,sBAAIE,MAAJ,CAAWJ,KAAX,EAAkBK,OAAO,CAACC,GAAR,CAAYC,YAA9B,CAAf;;AACA,UAAIC,IAAI,GAAG,MAAMjB,IAAI,CAACkB,QAAL,CAAcN,EAAd,CAAjB;;AACA,UAAI,CAACK,IAAL,EAAW;AACT,eAAOZ,IAAI,CAAC,IAAIc,4BAAJ,CAAkB,cAAlB,EAAkCC,0BAAWC,YAA7C,CAAD,CAAX;AACD;;AACDC,uBAAQL,IAAR,GAAeA,IAAf;AACAZ,MAAAA,IAAI;AACL,KARD,MAQK;AACHA,MAAAA,IAAI,CAAC,IAAIc,4BAAJ,CAAkB,cAAlB,EAAkCC,0BAAWC,YAA7C,CAAD,CAAJ;AACD;AACF,GAdC;AAeC,CAhBI","sourceRoot":"/Applications/dossier/mern_project_app2/src/middlewares/","sourcesContent":["import { request } from 'express';\nimport jwt from 'jsonwebtoken';\nimport { HttpException, HttpStatus } from '../errors/HttpException.error';\nconst User = require('../models/user.model')\n\nexport const jwtMiddleware = (req, res, next) => {\n  async (req, _res, next) => {\n  console.log('jwtMiddleware')\n  const token = req.cookies.jwt;\n  if (token) {\n    const { id } = jwt.verify(token, process.env.TOKEN_SECRET)\n    let user = await User.findById(id);\n    if (!user) {\n      return next(new HttpException('Unauthorized', HttpStatus.UNAUTHORIZED));\n    }\n    request.user = user;\n    next();\n  }else{\n    next(new HttpException('Unauthorized', HttpStatus.UNAUTHORIZED));\n  }\n}\n  }\n\n"]}},"mtime":1651272395940},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/errors/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/errors/HttpException.error.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HttpStatus = exports.HttpException = void 0;\nconst HttpStatus = {\n  UNAUTHORIZED: 401,\n  NOT_FOUND: 404\n};\nexports.HttpStatus = HttpStatus;\n\nclass HttpException extends Error {\n  constructor(message, statusCode) {\n    super(message);\n    this.statusCode = statusCode;\n  }\n\n}\n\nexports.HttpException = HttpException;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkh0dHBFeGNlcHRpb24uZXJyb3IuanMiXSwibmFtZXMiOlsiSHR0cFN0YXR1cyIsIlVOQVVUSE9SSVpFRCIsIk5PVF9GT1VORCIsIkh0dHBFeGNlcHRpb24iLCJFcnJvciIsImNvbnN0cnVjdG9yIiwibWVzc2FnZSIsInN0YXR1c0NvZGUiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFPLE1BQU1BLFVBQVUsR0FBRztBQUN4QkMsRUFBQUEsWUFBWSxFQUFFLEdBRFU7QUFFeEJDLEVBQUFBLFNBQVMsRUFBRTtBQUZhLENBQW5COzs7QUFLQSxNQUFNQyxhQUFOLFNBQTRCQyxLQUE1QixDQUFrQztBQUN2Q0MsRUFBQUEsV0FBVyxDQUFDQyxPQUFELEVBQVVDLFVBQVYsRUFBc0I7QUFDL0IsVUFBTUQsT0FBTjtBQUVBLFNBQUtDLFVBQUwsR0FBa0JBLFVBQWxCO0FBQ0Q7O0FBTHNDIiwic291cmNlUm9vdCI6Ii9BcHBsaWNhdGlvbnMvZG9zc2llci9tZXJuX3Byb2plY3RfYXBwMi9zcmMvZXJyb3JzLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBIdHRwU3RhdHVzID0ge1xuICBVTkFVVEhPUklaRUQ6IDQwMSxcbiAgTk9UX0ZPVU5EOiA0MDQsXG59XG5cbmV4cG9ydCBjbGFzcyBIdHRwRXhjZXB0aW9uIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBzdGF0dXNDb2RlKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG5cbiAgICB0aGlzLnN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlO1xuICB9XG59XG4iXX0=","map":{"version":3,"sources":["HttpException.error.js"],"names":["HttpStatus","UNAUTHORIZED","NOT_FOUND","HttpException","Error","constructor","message","statusCode"],"mappings":";;;;;;AAAO,MAAMA,UAAU,GAAG;AACxBC,EAAAA,YAAY,EAAE,GADU;AAExBC,EAAAA,SAAS,EAAE;AAFa,CAAnB;;;AAKA,MAAMC,aAAN,SAA4BC,KAA5B,CAAkC;AACvCC,EAAAA,WAAW,CAACC,OAAD,EAAUC,UAAV,EAAsB;AAC/B,UAAMD,OAAN;AAEA,SAAKC,UAAL,GAAkBA,UAAlB;AACD;;AALsC","sourceRoot":"/Applications/dossier/mern_project_app2/src/errors/","sourcesContent":["export const HttpStatus = {\n  UNAUTHORIZED: 401,\n  NOT_FOUND: 404,\n}\n\nexport class HttpException extends Error {\n  constructor(message, statusCode) {\n    super(message);\n\n    this.statusCode = statusCode;\n  }\n}\n"]}},"mtime":1651253219660},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/utils/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/utils/errors.utils.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.signUpErrors = exports.signInErrors = void 0;\n\nconst signUpErrors = err => {\n  let errors = {\n    pseudo: '',\n    email: '',\n    password: ''\n  };\n\n  if (err.message.includes('pseudo')) {\n    errors.pseudo = \"Pseudo incorrect\";\n  }\n\n  if (err.message.includes('email')) {\n    errors.email = \"Email incorrect\";\n  }\n\n  if (err.message.includes('password')) {\n    errors.password = \"Password incorrect ! Password must be at least 6 characters\";\n  }\n\n  if (err.code === 11000 && Object.keys(err.keyValue)[0].includes('pseudo')) {\n    errors.pseudo = \"Pseudo already use\";\n  }\n\n  if (err.code === 11000 && Object.keys(err.keyValue)[0].includes('email')) {\n    errors.email = \"Email already use\";\n  }\n\n  return errors;\n};\n\nexports.signUpErrors = signUpErrors;\n\nconst signInErrors = err => {\n  let errors = {\n    email: '',\n    password: '',\n    err\n  };\n\n  if (err.message.includes('email')) {\n    errors.email = \"Email inconnu\";\n  }\n\n  if (err.message.includes('password')) {\n    errors.password = \"Password incorrect ! Mot de passe ne correspond pas.\";\n  }\n\n  return errors;\n};\n\nexports.signInErrors = signInErrors;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9ycy51dGlscy5qcyJdLCJuYW1lcyI6WyJzaWduVXBFcnJvcnMiLCJlcnIiLCJlcnJvcnMiLCJwc2V1ZG8iLCJlbWFpbCIsInBhc3N3b3JkIiwibWVzc2FnZSIsImluY2x1ZGVzIiwiY29kZSIsIk9iamVjdCIsImtleXMiLCJrZXlWYWx1ZSIsInNpZ25JbkVycm9ycyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFPLE1BQU1BLFlBQVksR0FBSUMsR0FBRCxJQUFTO0FBQ2pDLE1BQUlDLE1BQU0sR0FBRztBQUFDQyxJQUFBQSxNQUFNLEVBQUUsRUFBVDtBQUFhQyxJQUFBQSxLQUFLLEVBQUUsRUFBcEI7QUFBd0JDLElBQUFBLFFBQVEsRUFBRTtBQUFsQyxHQUFiOztBQUVBLE1BQUdKLEdBQUcsQ0FBQ0ssT0FBSixDQUFZQyxRQUFaLENBQXFCLFFBQXJCLENBQUgsRUFBa0M7QUFDOUJMLElBQUFBLE1BQU0sQ0FBQ0MsTUFBUCxHQUFnQixrQkFBaEI7QUFDSDs7QUFDRCxNQUFHRixHQUFHLENBQUNLLE9BQUosQ0FBWUMsUUFBWixDQUFxQixPQUFyQixDQUFILEVBQWlDO0FBQzdCTCxJQUFBQSxNQUFNLENBQUNFLEtBQVAsR0FBZSxpQkFBZjtBQUNIOztBQUNELE1BQUdILEdBQUcsQ0FBQ0ssT0FBSixDQUFZQyxRQUFaLENBQXFCLFVBQXJCLENBQUgsRUFBb0M7QUFDaENMLElBQUFBLE1BQU0sQ0FBQ0csUUFBUCxHQUFrQiw2REFBbEI7QUFDSDs7QUFDRCxNQUFHSixHQUFHLENBQUNPLElBQUosS0FBYSxLQUFiLElBQXNCQyxNQUFNLENBQUNDLElBQVAsQ0FBWVQsR0FBRyxDQUFDVSxRQUFoQixFQUEwQixDQUExQixFQUE2QkosUUFBN0IsQ0FBc0MsUUFBdEMsQ0FBekIsRUFBeUU7QUFDckVMLElBQUFBLE1BQU0sQ0FBQ0MsTUFBUCxHQUFnQixvQkFBaEI7QUFDSDs7QUFDRCxNQUFHRixHQUFHLENBQUNPLElBQUosS0FBYSxLQUFiLElBQXNCQyxNQUFNLENBQUNDLElBQVAsQ0FBWVQsR0FBRyxDQUFDVSxRQUFoQixFQUEwQixDQUExQixFQUE2QkosUUFBN0IsQ0FBc0MsT0FBdEMsQ0FBekIsRUFBd0U7QUFDcEVMLElBQUFBLE1BQU0sQ0FBQ0UsS0FBUCxHQUFlLG1CQUFmO0FBQ0g7O0FBRUQsU0FBT0YsTUFBUDtBQUNILENBcEJNOzs7O0FBc0JBLE1BQU1VLFlBQVksR0FBSVgsR0FBRCxJQUFTO0FBQ2pDLE1BQUlDLE1BQU0sR0FBRztBQUFFRSxJQUFBQSxLQUFLLEVBQUUsRUFBVDtBQUFhQyxJQUFBQSxRQUFRLEVBQUUsRUFBdkI7QUFBMkJKLElBQUFBO0FBQTNCLEdBQWI7O0FBQ0EsTUFBR0EsR0FBRyxDQUFDSyxPQUFKLENBQVlDLFFBQVosQ0FBcUIsT0FBckIsQ0FBSCxFQUFpQztBQUM3QkwsSUFBQUEsTUFBTSxDQUFDRSxLQUFQLEdBQWUsZUFBZjtBQUNIOztBQUNELE1BQUdILEdBQUcsQ0FBQ0ssT0FBSixDQUFZQyxRQUFaLENBQXFCLFVBQXJCLENBQUgsRUFBb0M7QUFDaENMLElBQUFBLE1BQU0sQ0FBQ0csUUFBUCxHQUFrQixzREFBbEI7QUFDSDs7QUFDRCxTQUFPSCxNQUFQO0FBQ0gsQ0FUTSIsInNvdXJjZVJvb3QiOiIvQXBwbGljYXRpb25zL2Rvc3NpZXIvbWVybl9wcm9qZWN0X2FwcDIvc3JjL3V0aWxzLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBzaWduVXBFcnJvcnMgPSAoZXJyKSA9PiB7XG4gICAgbGV0IGVycm9ycyA9IHtwc2V1ZG86ICcnLCBlbWFpbDogJycsIHBhc3N3b3JkOiAnJ31cbiAgICBcbiAgICBpZihlcnIubWVzc2FnZS5pbmNsdWRlcygncHNldWRvJykpe1xuICAgICAgICBlcnJvcnMucHNldWRvID0gXCJQc2V1ZG8gaW5jb3JyZWN0XCJcbiAgICB9XG4gICAgaWYoZXJyLm1lc3NhZ2UuaW5jbHVkZXMoJ2VtYWlsJykpe1xuICAgICAgICBlcnJvcnMuZW1haWwgPSBcIkVtYWlsIGluY29ycmVjdFwiXG4gICAgfVxuICAgIGlmKGVyci5tZXNzYWdlLmluY2x1ZGVzKCdwYXNzd29yZCcpKXtcbiAgICAgICAgZXJyb3JzLnBhc3N3b3JkID0gXCJQYXNzd29yZCBpbmNvcnJlY3QgISBQYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IDYgY2hhcmFjdGVyc1wiXG4gICAgfVxuICAgIGlmKGVyci5jb2RlID09PSAxMTAwMCAmJiBPYmplY3Qua2V5cyhlcnIua2V5VmFsdWUpWzBdLmluY2x1ZGVzKCdwc2V1ZG8nKSl7XG4gICAgICAgIGVycm9ycy5wc2V1ZG8gPSBcIlBzZXVkbyBhbHJlYWR5IHVzZVwiXG4gICAgfVxuICAgIGlmKGVyci5jb2RlID09PSAxMTAwMCAmJiBPYmplY3Qua2V5cyhlcnIua2V5VmFsdWUpWzBdLmluY2x1ZGVzKCdlbWFpbCcpKXtcbiAgICAgICAgZXJyb3JzLmVtYWlsID0gXCJFbWFpbCBhbHJlYWR5IHVzZVwiXG4gICAgfVxuXG4gICAgcmV0dXJuIGVycm9yc1xufVxuXG5leHBvcnQgY29uc3Qgc2lnbkluRXJyb3JzID0gKGVycikgPT4ge1xuICAgIGxldCBlcnJvcnMgPSB7IGVtYWlsOiAnJywgcGFzc3dvcmQ6ICcnLCBlcnJ9XG4gICAgaWYoZXJyLm1lc3NhZ2UuaW5jbHVkZXMoJ2VtYWlsJykpe1xuICAgICAgICBlcnJvcnMuZW1haWwgPSBcIkVtYWlsIGluY29ubnVcIlxuICAgIH1cbiAgICBpZihlcnIubWVzc2FnZS5pbmNsdWRlcygncGFzc3dvcmQnKSl7XG4gICAgICAgIGVycm9ycy5wYXNzd29yZCA9IFwiUGFzc3dvcmQgaW5jb3JyZWN0ICEgTW90IGRlIHBhc3NlIG5lIGNvcnJlc3BvbmQgcGFzLlwiXG4gICAgfVxuICAgIHJldHVybiBlcnJvcnNcbn0iXX0=","map":{"version":3,"sources":["errors.utils.js"],"names":["signUpErrors","err","errors","pseudo","email","password","message","includes","code","Object","keys","keyValue","signInErrors"],"mappings":";;;;;;;AAAO,MAAMA,YAAY,GAAIC,GAAD,IAAS;AACjC,MAAIC,MAAM,GAAG;AAACC,IAAAA,MAAM,EAAE,EAAT;AAAaC,IAAAA,KAAK,EAAE,EAApB;AAAwBC,IAAAA,QAAQ,EAAE;AAAlC,GAAb;;AAEA,MAAGJ,GAAG,CAACK,OAAJ,CAAYC,QAAZ,CAAqB,QAArB,CAAH,EAAkC;AAC9BL,IAAAA,MAAM,CAACC,MAAP,GAAgB,kBAAhB;AACH;;AACD,MAAGF,GAAG,CAACK,OAAJ,CAAYC,QAAZ,CAAqB,OAArB,CAAH,EAAiC;AAC7BL,IAAAA,MAAM,CAACE,KAAP,GAAe,iBAAf;AACH;;AACD,MAAGH,GAAG,CAACK,OAAJ,CAAYC,QAAZ,CAAqB,UAArB,CAAH,EAAoC;AAChCL,IAAAA,MAAM,CAACG,QAAP,GAAkB,6DAAlB;AACH;;AACD,MAAGJ,GAAG,CAACO,IAAJ,KAAa,KAAb,IAAsBC,MAAM,CAACC,IAAP,CAAYT,GAAG,CAACU,QAAhB,EAA0B,CAA1B,EAA6BJ,QAA7B,CAAsC,QAAtC,CAAzB,EAAyE;AACrEL,IAAAA,MAAM,CAACC,MAAP,GAAgB,oBAAhB;AACH;;AACD,MAAGF,GAAG,CAACO,IAAJ,KAAa,KAAb,IAAsBC,MAAM,CAACC,IAAP,CAAYT,GAAG,CAACU,QAAhB,EAA0B,CAA1B,EAA6BJ,QAA7B,CAAsC,OAAtC,CAAzB,EAAwE;AACpEL,IAAAA,MAAM,CAACE,KAAP,GAAe,mBAAf;AACH;;AAED,SAAOF,MAAP;AACH,CApBM;;;;AAsBA,MAAMU,YAAY,GAAIX,GAAD,IAAS;AACjC,MAAIC,MAAM,GAAG;AAAEE,IAAAA,KAAK,EAAE,EAAT;AAAaC,IAAAA,QAAQ,EAAE,EAAvB;AAA2BJ,IAAAA;AAA3B,GAAb;;AACA,MAAGA,GAAG,CAACK,OAAJ,CAAYC,QAAZ,CAAqB,OAArB,CAAH,EAAiC;AAC7BL,IAAAA,MAAM,CAACE,KAAP,GAAe,eAAf;AACH;;AACD,MAAGH,GAAG,CAACK,OAAJ,CAAYC,QAAZ,CAAqB,UAArB,CAAH,EAAoC;AAChCL,IAAAA,MAAM,CAACG,QAAP,GAAkB,sDAAlB;AACH;;AACD,SAAOH,MAAP;AACH,CATM","sourceRoot":"/Applications/dossier/mern_project_app2/src/utils/","sourcesContent":["export const signUpErrors = (err) => {\n    let errors = {pseudo: '', email: '', password: ''}\n    \n    if(err.message.includes('pseudo')){\n        errors.pseudo = \"Pseudo incorrect\"\n    }\n    if(err.message.includes('email')){\n        errors.email = \"Email incorrect\"\n    }\n    if(err.message.includes('password')){\n        errors.password = \"Password incorrect ! Password must be at least 6 characters\"\n    }\n    if(err.code === 11000 && Object.keys(err.keyValue)[0].includes('pseudo')){\n        errors.pseudo = \"Pseudo already use\"\n    }\n    if(err.code === 11000 && Object.keys(err.keyValue)[0].includes('email')){\n        errors.email = \"Email already use\"\n    }\n\n    return errors\n}\n\nexport const signInErrors = (err) => {\n    let errors = { email: '', password: '', err}\n    if(err.message.includes('email')){\n        errors.email = \"Email inconnu\"\n    }\n    if(err.message.includes('password')){\n        errors.password = \"Password incorrect ! Mot de passe ne correspond pas.\"\n    }\n    return errors\n}"]}},"mtime":1651265766518},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/utils/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/utils/errors.utils.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.signUpErrors = exports.signInErrors = void 0;\n\nconst signUpErrors = err => {\n  let errors = {\n    pseudo: '',\n    email: '',\n    password: ''\n  };\n\n  if (err.message.includes('pseudo')) {\n    errors.pseudo = \"Pseudo incorrect\";\n  }\n\n  if (err.message.includes('email')) {\n    errors.email = \"Email incorrect\";\n  }\n\n  if (err.message.includes('password')) {\n    errors.password = \"Password incorrect ! Password must be at least 6 characters\";\n  }\n\n  if (err.code === 11000 && Object.keys(err.keyValue)[0].includes('pseudo')) {\n    errors.pseudo = \"Pseudo already use\";\n  }\n\n  if (err.code === 11000 && Object.keys(err.keyValue)[0].includes('email')) {\n    errors.email = \"Email already use\";\n  }\n\n  return errors;\n};\n\nexports.signUpErrors = signUpErrors;\n\nconst signInErrors = err => {\n  let errors = {\n    email: '',\n    password: '',\n    err\n  };\n\n  if (err.message.includes('email')) {\n    errors.email = \"Email inconnu\";\n  }\n\n  if (err.message.includes('password')) {\n    errors.password = \"Password incorrect ! Mot de passe ne correspond pas.\";\n  }\n\n  return errors;\n};\n\nexports.signInErrors = signInErrors;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9ycy51dGlscy5qcyJdLCJuYW1lcyI6WyJzaWduVXBFcnJvcnMiLCJlcnIiLCJlcnJvcnMiLCJwc2V1ZG8iLCJlbWFpbCIsInBhc3N3b3JkIiwibWVzc2FnZSIsImluY2x1ZGVzIiwiY29kZSIsIk9iamVjdCIsImtleXMiLCJrZXlWYWx1ZSIsInNpZ25JbkVycm9ycyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFPLE1BQU1BLFlBQVksR0FBSUMsR0FBRCxJQUFTO0FBQ2pDLE1BQUlDLE1BQU0sR0FBRztBQUFDQyxJQUFBQSxNQUFNLEVBQUUsRUFBVDtBQUFhQyxJQUFBQSxLQUFLLEVBQUUsRUFBcEI7QUFBd0JDLElBQUFBLFFBQVEsRUFBRTtBQUFsQyxHQUFiOztBQUVBLE1BQUdKLEdBQUcsQ0FBQ0ssT0FBSixDQUFZQyxRQUFaLENBQXFCLFFBQXJCLENBQUgsRUFBa0M7QUFDOUJMLElBQUFBLE1BQU0sQ0FBQ0MsTUFBUCxHQUFnQixrQkFBaEI7QUFDSDs7QUFDRCxNQUFHRixHQUFHLENBQUNLLE9BQUosQ0FBWUMsUUFBWixDQUFxQixPQUFyQixDQUFILEVBQWlDO0FBQzdCTCxJQUFBQSxNQUFNLENBQUNFLEtBQVAsR0FBZSxpQkFBZjtBQUNIOztBQUNELE1BQUdILEdBQUcsQ0FBQ0ssT0FBSixDQUFZQyxRQUFaLENBQXFCLFVBQXJCLENBQUgsRUFBb0M7QUFDaENMLElBQUFBLE1BQU0sQ0FBQ0csUUFBUCxHQUFrQiw2REFBbEI7QUFDSDs7QUFDRCxNQUFHSixHQUFHLENBQUNPLElBQUosS0FBYSxLQUFiLElBQXNCQyxNQUFNLENBQUNDLElBQVAsQ0FBWVQsR0FBRyxDQUFDVSxRQUFoQixFQUEwQixDQUExQixFQUE2QkosUUFBN0IsQ0FBc0MsUUFBdEMsQ0FBekIsRUFBeUU7QUFDckVMLElBQUFBLE1BQU0sQ0FBQ0MsTUFBUCxHQUFnQixvQkFBaEI7QUFDSDs7QUFDRCxNQUFHRixHQUFHLENBQUNPLElBQUosS0FBYSxLQUFiLElBQXNCQyxNQUFNLENBQUNDLElBQVAsQ0FBWVQsR0FBRyxDQUFDVSxRQUFoQixFQUEwQixDQUExQixFQUE2QkosUUFBN0IsQ0FBc0MsT0FBdEMsQ0FBekIsRUFBd0U7QUFDcEVMLElBQUFBLE1BQU0sQ0FBQ0UsS0FBUCxHQUFlLG1CQUFmO0FBQ0g7O0FBRUQsU0FBT0YsTUFBUDtBQUNILENBcEJNOzs7O0FBc0JBLE1BQU1VLFlBQVksR0FBSVgsR0FBRCxJQUFTO0FBQ2pDLE1BQUlDLE1BQU0sR0FBRztBQUFFRSxJQUFBQSxLQUFLLEVBQUUsRUFBVDtBQUFhQyxJQUFBQSxRQUFRLEVBQUUsRUFBdkI7QUFBMkJKLElBQUFBO0FBQTNCLEdBQWI7O0FBQ0EsTUFBR0EsR0FBRyxDQUFDSyxPQUFKLENBQVlDLFFBQVosQ0FBcUIsT0FBckIsQ0FBSCxFQUFpQztBQUM3QkwsSUFBQUEsTUFBTSxDQUFDRSxLQUFQLEdBQWUsZUFBZjtBQUNIOztBQUNELE1BQUdILEdBQUcsQ0FBQ0ssT0FBSixDQUFZQyxRQUFaLENBQXFCLFVBQXJCLENBQUgsRUFBb0M7QUFDaENMLElBQUFBLE1BQU0sQ0FBQ0csUUFBUCxHQUFrQixzREFBbEI7QUFDSDs7QUFDRCxTQUFPSCxNQUFQO0FBQ0gsQ0FUTSIsInNvdXJjZVJvb3QiOiIvQXBwbGljYXRpb25zL2Rvc3NpZXIvbWVybl9wcm9qZWN0X2FwcDIvc3JjL3V0aWxzLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBzaWduVXBFcnJvcnMgPSAoZXJyKSA9PiB7XG4gICAgbGV0IGVycm9ycyA9IHtwc2V1ZG86ICcnLCBlbWFpbDogJycsIHBhc3N3b3JkOiAnJ31cbiAgICBcbiAgICBpZihlcnIubWVzc2FnZS5pbmNsdWRlcygncHNldWRvJykpe1xuICAgICAgICBlcnJvcnMucHNldWRvID0gXCJQc2V1ZG8gaW5jb3JyZWN0XCJcbiAgICB9XG4gICAgaWYoZXJyLm1lc3NhZ2UuaW5jbHVkZXMoJ2VtYWlsJykpe1xuICAgICAgICBlcnJvcnMuZW1haWwgPSBcIkVtYWlsIGluY29ycmVjdFwiXG4gICAgfVxuICAgIGlmKGVyci5tZXNzYWdlLmluY2x1ZGVzKCdwYXNzd29yZCcpKXtcbiAgICAgICAgZXJyb3JzLnBhc3N3b3JkID0gXCJQYXNzd29yZCBpbmNvcnJlY3QgISBQYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IDYgY2hhcmFjdGVyc1wiXG4gICAgfVxuICAgIGlmKGVyci5jb2RlID09PSAxMTAwMCAmJiBPYmplY3Qua2V5cyhlcnIua2V5VmFsdWUpWzBdLmluY2x1ZGVzKCdwc2V1ZG8nKSl7XG4gICAgICAgIGVycm9ycy5wc2V1ZG8gPSBcIlBzZXVkbyBhbHJlYWR5IHVzZVwiXG4gICAgfVxuICAgIGlmKGVyci5jb2RlID09PSAxMTAwMCAmJiBPYmplY3Qua2V5cyhlcnIua2V5VmFsdWUpWzBdLmluY2x1ZGVzKCdlbWFpbCcpKXtcbiAgICAgICAgZXJyb3JzLmVtYWlsID0gXCJFbWFpbCBhbHJlYWR5IHVzZVwiXG4gICAgfVxuXG4gICAgcmV0dXJuIGVycm9yc1xufVxuXG5leHBvcnQgY29uc3Qgc2lnbkluRXJyb3JzID0gKGVycikgPT4ge1xuICAgIGxldCBlcnJvcnMgPSB7IGVtYWlsOiAnJywgcGFzc3dvcmQ6ICcnLCBlcnJ9XG4gICAgaWYoZXJyLm1lc3NhZ2UuaW5jbHVkZXMoJ2VtYWlsJykpe1xuICAgICAgICBlcnJvcnMuZW1haWwgPSBcIkVtYWlsIGluY29ubnVcIlxuICAgIH1cbiAgICBpZihlcnIubWVzc2FnZS5pbmNsdWRlcygncGFzc3dvcmQnKSl7XG4gICAgICAgIGVycm9ycy5wYXNzd29yZCA9IFwiUGFzc3dvcmQgaW5jb3JyZWN0ICEgTW90IGRlIHBhc3NlIG5lIGNvcnJlc3BvbmQgcGFzLlwiXG4gICAgfVxuICAgIHJldHVybiBlcnJvcnNcbn0iXX0=","map":{"version":3,"sources":["errors.utils.js"],"names":["signUpErrors","err","errors","pseudo","email","password","message","includes","code","Object","keys","keyValue","signInErrors"],"mappings":";;;;;;;AAAO,MAAMA,YAAY,GAAIC,GAAD,IAAS;AACjC,MAAIC,MAAM,GAAG;AAACC,IAAAA,MAAM,EAAE,EAAT;AAAaC,IAAAA,KAAK,EAAE,EAApB;AAAwBC,IAAAA,QAAQ,EAAE;AAAlC,GAAb;;AAEA,MAAGJ,GAAG,CAACK,OAAJ,CAAYC,QAAZ,CAAqB,QAArB,CAAH,EAAkC;AAC9BL,IAAAA,MAAM,CAACC,MAAP,GAAgB,kBAAhB;AACH;;AACD,MAAGF,GAAG,CAACK,OAAJ,CAAYC,QAAZ,CAAqB,OAArB,CAAH,EAAiC;AAC7BL,IAAAA,MAAM,CAACE,KAAP,GAAe,iBAAf;AACH;;AACD,MAAGH,GAAG,CAACK,OAAJ,CAAYC,QAAZ,CAAqB,UAArB,CAAH,EAAoC;AAChCL,IAAAA,MAAM,CAACG,QAAP,GAAkB,6DAAlB;AACH;;AACD,MAAGJ,GAAG,CAACO,IAAJ,KAAa,KAAb,IAAsBC,MAAM,CAACC,IAAP,CAAYT,GAAG,CAACU,QAAhB,EAA0B,CAA1B,EAA6BJ,QAA7B,CAAsC,QAAtC,CAAzB,EAAyE;AACrEL,IAAAA,MAAM,CAACC,MAAP,GAAgB,oBAAhB;AACH;;AACD,MAAGF,GAAG,CAACO,IAAJ,KAAa,KAAb,IAAsBC,MAAM,CAACC,IAAP,CAAYT,GAAG,CAACU,QAAhB,EAA0B,CAA1B,EAA6BJ,QAA7B,CAAsC,OAAtC,CAAzB,EAAwE;AACpEL,IAAAA,MAAM,CAACE,KAAP,GAAe,mBAAf;AACH;;AAED,SAAOF,MAAP;AACH,CApBM;;;;AAsBA,MAAMU,YAAY,GAAIX,GAAD,IAAS;AACjC,MAAIC,MAAM,GAAG;AAAEE,IAAAA,KAAK,EAAE,EAAT;AAAaC,IAAAA,QAAQ,EAAE,EAAvB;AAA2BJ,IAAAA;AAA3B,GAAb;;AACA,MAAGA,GAAG,CAACK,OAAJ,CAAYC,QAAZ,CAAqB,OAArB,CAAH,EAAiC;AAC7BL,IAAAA,MAAM,CAACE,KAAP,GAAe,eAAf;AACH;;AACD,MAAGH,GAAG,CAACK,OAAJ,CAAYC,QAAZ,CAAqB,UAArB,CAAH,EAAoC;AAChCL,IAAAA,MAAM,CAACG,QAAP,GAAkB,sDAAlB;AACH;;AACD,SAAOH,MAAP;AACH,CATM","sourceRoot":"/Applications/dossier/mern_project_app2/src/utils/","sourcesContent":["export const signUpErrors = (err) => {\n    let errors = {pseudo: '', email: '', password: ''}\n    \n    if(err.message.includes('pseudo')){\n        errors.pseudo = \"Pseudo incorrect\"\n    }\n    if(err.message.includes('email')){\n        errors.email = \"Email incorrect\"\n    }\n    if(err.message.includes('password')){\n        errors.password = \"Password incorrect ! Password must be at least 6 characters\"\n    }\n    if(err.code === 11000 && Object.keys(err.keyValue)[0].includes('pseudo')){\n        errors.pseudo = \"Pseudo already use\"\n    }\n    if(err.code === 11000 && Object.keys(err.keyValue)[0].includes('email')){\n        errors.email = \"Email already use\"\n    }\n\n    return errors\n}\n\nexport const signInErrors = (err) => {\n    let errors = { email: '', password: '', err}\n    if(err.message.includes('email')){\n        errors.email = \"Email inconnu\"\n    }\n    if(err.message.includes('password')){\n        errors.password = \"Password incorrect ! Mot de passe ne correspond pas.\"\n    }\n    return errors\n}"]}},"mtime":1651265766518},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/routes/api/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/routes/api/post.route.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar PostController = _interopRequireWildcard(require(\"../../controllers/post.controller\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst api = (0, _express.Router)(); //user\n\napi.get('/', PostController.readPost);\napi.post('/', PostController.createPost);\napi.put('/:id', PostController.updatePost);\napi.delete('/:id', PostController.deletePost);\nvar _default = api;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3Qucm91dGUuanMiXSwibmFtZXMiOlsiYXBpIiwiZ2V0IiwiUG9zdENvbnRyb2xsZXIiLCJyZWFkUG9zdCIsInBvc3QiLCJjcmVhdGVQb3N0IiwicHV0IiwidXBkYXRlUG9zdCIsImRlbGV0ZSIsImRlbGV0ZVBvc3QiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7Ozs7O0FBRUEsTUFBTUEsR0FBRyxHQUFHLHNCQUFaLEMsQ0FFQTs7QUFDQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsR0FBUixFQUFhQyxjQUFjLENBQUNDLFFBQTVCO0FBQ0FILEdBQUcsQ0FBQ0ksSUFBSixDQUFTLEdBQVQsRUFBY0YsY0FBYyxDQUFDRyxVQUE3QjtBQUNBTCxHQUFHLENBQUNNLEdBQUosQ0FBUSxNQUFSLEVBQWdCSixjQUFjLENBQUNLLFVBQS9CO0FBQ0FQLEdBQUcsQ0FBQ1EsTUFBSixDQUFXLE1BQVgsRUFBbUJOLGNBQWMsQ0FBQ08sVUFBbEM7ZUFHZVQsRyIsInNvdXJjZVJvb3QiOiIvQXBwbGljYXRpb25zL2Rvc3NpZXIvbWVybl9wcm9qZWN0X2FwcDIvc3JjL3JvdXRlcy9hcGkvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgKiBhcyBQb3N0Q29udHJvbGxlciBmcm9tICcuLi8uLi9jb250cm9sbGVycy9wb3N0LmNvbnRyb2xsZXInO1xuXG5jb25zdCBhcGkgPSBSb3V0ZXIoKTtcblxuLy91c2VyXG5hcGkuZ2V0KCcvJywgUG9zdENvbnRyb2xsZXIucmVhZFBvc3QpO1xuYXBpLnBvc3QoJy8nLCBQb3N0Q29udHJvbGxlci5jcmVhdGVQb3N0KTtcbmFwaS5wdXQoJy86aWQnLCBQb3N0Q29udHJvbGxlci51cGRhdGVQb3N0KTtcbmFwaS5kZWxldGUoJy86aWQnLCBQb3N0Q29udHJvbGxlci5kZWxldGVQb3N0KTtcblxuXG5leHBvcnQgZGVmYXVsdCBhcGk7Il19","map":{"version":3,"sources":["post.route.js"],"names":["api","get","PostController","readPost","post","createPost","put","updatePost","delete","deletePost"],"mappings":";;;;;;;AAAA;;AACA;;;;;;AAEA,MAAMA,GAAG,GAAG,sBAAZ,C,CAEA;;AACAA,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAaC,cAAc,CAACC,QAA5B;AACAH,GAAG,CAACI,IAAJ,CAAS,GAAT,EAAcF,cAAc,CAACG,UAA7B;AACAL,GAAG,CAACM,GAAJ,CAAQ,MAAR,EAAgBJ,cAAc,CAACK,UAA/B;AACAP,GAAG,CAACQ,MAAJ,CAAW,MAAX,EAAmBN,cAAc,CAACO,UAAlC;eAGeT,G","sourceRoot":"/Applications/dossier/mern_project_app2/src/routes/api/","sourcesContent":["import { Router } from 'express';\nimport * as PostController from '../../controllers/post.controller';\n\nconst api = Router();\n\n//user\napi.get('/', PostController.readPost);\napi.post('/', PostController.createPost);\napi.put('/:id', PostController.updatePost);\napi.delete('/:id', PostController.deletePost);\n\n\nexport default api;"]}},"mtime":1651272138462},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/routes/api/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/routes/api/post.route.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar PostController = _interopRequireWildcard(require(\"../../controllers/post.controller\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst api = (0, _express.Router)(); //user\n\napi.get('/', PostController.readPost);\napi.post('/', PostController.createPost);\napi.put('/:id', PostController.updatePost);\napi.delete('/:id', PostController.deletePost);\nvar _default = api;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3Qucm91dGUuanMiXSwibmFtZXMiOlsiYXBpIiwiZ2V0IiwiUG9zdENvbnRyb2xsZXIiLCJyZWFkUG9zdCIsInBvc3QiLCJjcmVhdGVQb3N0IiwicHV0IiwidXBkYXRlUG9zdCIsImRlbGV0ZSIsImRlbGV0ZVBvc3QiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7Ozs7O0FBRUEsTUFBTUEsR0FBRyxHQUFHLHNCQUFaLEMsQ0FFQTs7QUFDQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsR0FBUixFQUFhQyxjQUFjLENBQUNDLFFBQTVCO0FBQ0FILEdBQUcsQ0FBQ0ksSUFBSixDQUFTLEdBQVQsRUFBY0YsY0FBYyxDQUFDRyxVQUE3QjtBQUNBTCxHQUFHLENBQUNNLEdBQUosQ0FBUSxNQUFSLEVBQWdCSixjQUFjLENBQUNLLFVBQS9CO0FBQ0FQLEdBQUcsQ0FBQ1EsTUFBSixDQUFXLE1BQVgsRUFBbUJOLGNBQWMsQ0FBQ08sVUFBbEM7ZUFHZVQsRyIsInNvdXJjZVJvb3QiOiIvQXBwbGljYXRpb25zL2Rvc3NpZXIvbWVybl9wcm9qZWN0X2FwcDIvc3JjL3JvdXRlcy9hcGkvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgKiBhcyBQb3N0Q29udHJvbGxlciBmcm9tICcuLi8uLi9jb250cm9sbGVycy9wb3N0LmNvbnRyb2xsZXInO1xuXG5jb25zdCBhcGkgPSBSb3V0ZXIoKTtcblxuLy91c2VyXG5hcGkuZ2V0KCcvJywgUG9zdENvbnRyb2xsZXIucmVhZFBvc3QpO1xuYXBpLnBvc3QoJy8nLCBQb3N0Q29udHJvbGxlci5jcmVhdGVQb3N0KTtcbmFwaS5wdXQoJy86aWQnLCBQb3N0Q29udHJvbGxlci51cGRhdGVQb3N0KTtcbmFwaS5kZWxldGUoJy86aWQnLCBQb3N0Q29udHJvbGxlci5kZWxldGVQb3N0KTtcblxuXG5leHBvcnQgZGVmYXVsdCBhcGk7Il19","map":{"version":3,"sources":["post.route.js"],"names":["api","get","PostController","readPost","post","createPost","put","updatePost","delete","deletePost"],"mappings":";;;;;;;AAAA;;AACA;;;;;;AAEA,MAAMA,GAAG,GAAG,sBAAZ,C,CAEA;;AACAA,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAaC,cAAc,CAACC,QAA5B;AACAH,GAAG,CAACI,IAAJ,CAAS,GAAT,EAAcF,cAAc,CAACG,UAA7B;AACAL,GAAG,CAACM,GAAJ,CAAQ,MAAR,EAAgBJ,cAAc,CAACK,UAA/B;AACAP,GAAG,CAACQ,MAAJ,CAAW,MAAX,EAAmBN,cAAc,CAACO,UAAlC;eAGeT,G","sourceRoot":"/Applications/dossier/mern_project_app2/src/routes/api/","sourcesContent":["import { Router } from 'express';\nimport * as PostController from '../../controllers/post.controller';\n\nconst api = Router();\n\n//user\napi.get('/', PostController.readPost);\napi.post('/', PostController.createPost);\napi.put('/:id', PostController.updatePost);\napi.delete('/:id', PostController.deletePost);\n\n\nexport default api;"]}},"mtime":1651272138462},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/controllers/post.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updatePost = exports.readPost = exports.deletePost = exports.createPost = void 0;\n\nconst Post = require('../models/post.model');\n\nconst User = require('../models/user.model');\n\nconst ObjectID = require(\"mongoose\").Types.ObjectId;\n\nconst readPost = async (req, res, next) => {\n  try {\n    const posts = await Post.find();\n    res.status(200).json(posts);\n  } catch (err) {\n    res.status(200).json(err);\n  }\n};\n\nexports.readPost = readPost;\n\nconst createPost = async (req, res, next) => {\n  const newPost = new Post({\n    posterId: req.body.posterId,\n    message: req.body.message,\n    video: req.body.video,\n    likers: [],\n    comments: []\n  });\n\n  try {\n    const post = await newPost.save();\n    return res.status(201).json(post);\n  } catch (err) {\n    return res.status(400).json(err);\n  }\n};\n\nexports.createPost = createPost;\n\nconst updatePost = (req, res, next) => {};\n\nexports.updatePost = updatePost;\n\nconst deletePost = (req, res, next) => {};\n\nexports.deletePost = deletePost;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3QuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJQb3N0IiwicmVxdWlyZSIsIlVzZXIiLCJPYmplY3RJRCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWFkUG9zdCIsInJlcSIsInJlcyIsIm5leHQiLCJwb3N0cyIsImZpbmQiLCJzdGF0dXMiLCJqc29uIiwiZXJyIiwiY3JlYXRlUG9zdCIsIm5ld1Bvc3QiLCJwb3N0ZXJJZCIsImJvZHkiLCJtZXNzYWdlIiwidmlkZW8iLCJsaWtlcnMiLCJjb21tZW50cyIsInBvc3QiLCJzYXZlIiwidXBkYXRlUG9zdCIsImRlbGV0ZVBvc3QiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxzQkFBRCxDQUFwQjs7QUFDQSxNQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQyxzQkFBRCxDQUFwQjs7QUFDQSxNQUFNRSxRQUFRLEdBQUdGLE9BQU8sQ0FBQyxVQUFELENBQVAsQ0FBb0JHLEtBQXBCLENBQTBCQyxRQUEzQzs7QUFFTyxNQUFNQyxRQUFRLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEVBQWlCQyxJQUFqQixLQUEwQjtBQUM5QyxNQUFJO0FBQ0EsVUFBTUMsS0FBSyxHQUFHLE1BQU1WLElBQUksQ0FBQ1csSUFBTCxFQUFwQjtBQUNBSCxJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQkgsS0FBckI7QUFDSCxHQUhELENBSUQsT0FBTUksR0FBTixFQUFVO0FBQ0xOLElBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCQyxHQUFyQjtBQUNKO0FBQ0gsQ0FSTTs7OztBQVNBLE1BQU1DLFVBQVUsR0FBRyxPQUFPUixHQUFQLEVBQVlDLEdBQVosRUFBaUJDLElBQWpCLEtBQTBCO0FBQ2hELFFBQU1PLE9BQU8sR0FBRyxJQUFJaEIsSUFBSixDQUFTO0FBQ3JCaUIsSUFBQUEsUUFBUSxFQUFFVixHQUFHLENBQUNXLElBQUosQ0FBU0QsUUFERTtBQUVyQkUsSUFBQUEsT0FBTyxFQUFFWixHQUFHLENBQUNXLElBQUosQ0FBU0MsT0FGRztBQUdyQkMsSUFBQUEsS0FBSyxFQUFFYixHQUFHLENBQUNXLElBQUosQ0FBU0UsS0FISztBQUlyQkMsSUFBQUEsTUFBTSxFQUFFLEVBSmE7QUFLckJDLElBQUFBLFFBQVEsRUFBRTtBQUxXLEdBQVQsQ0FBaEI7O0FBT0EsTUFBSTtBQUNBLFVBQU1DLElBQUksR0FBRyxNQUFNUCxPQUFPLENBQUNRLElBQVIsRUFBbkI7QUFDQSxXQUFPaEIsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJVLElBQXJCLENBQVA7QUFDSCxHQUhELENBSUEsT0FBTVQsR0FBTixFQUFVO0FBQ04sV0FBT04sR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJDLEdBQXJCLENBQVA7QUFDSDtBQUNKLENBZk07Ozs7QUFnQkEsTUFBTVcsVUFBVSxHQUFHLENBQUNsQixHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQixDQUU3QyxDQUZNOzs7O0FBR0EsTUFBTWlCLFVBQVUsR0FBRyxDQUFDbkIsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0IsQ0FFN0MsQ0FGTSIsInNvdXJjZVJvb3QiOiIvQXBwbGljYXRpb25zL2Rvc3NpZXIvbWVybl9wcm9qZWN0X2FwcDIvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFBvc3QgPSByZXF1aXJlKCcuLi9tb2RlbHMvcG9zdC5tb2RlbCcpXG5jb25zdCBVc2VyID0gcmVxdWlyZSgnLi4vbW9kZWxzL3VzZXIubW9kZWwnKVxuY29uc3QgT2JqZWN0SUQgPSByZXF1aXJlKFwibW9uZ29vc2VcIikuVHlwZXMuT2JqZWN0SWQ7XG5cbmV4cG9ydCBjb25zdCByZWFkUG9zdCA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvc3RzID0gYXdhaXQgUG9zdC5maW5kKClcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ocG9zdHMpXG4gICAgfVxuICAgY2F0Y2goZXJyKXtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oZXJyKVxuICAgfVxufVxuZXhwb3J0IGNvbnN0IGNyZWF0ZVBvc3QgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBuZXdQb3N0ID0gbmV3IFBvc3Qoe1xuICAgICAgICBwb3N0ZXJJZDogcmVxLmJvZHkucG9zdGVySWQsIFxuICAgICAgICBtZXNzYWdlOiByZXEuYm9keS5tZXNzYWdlLFxuICAgICAgICB2aWRlbzogcmVxLmJvZHkudmlkZW8sXG4gICAgICAgIGxpa2VyczogW10sXG4gICAgICAgIGNvbW1lbnRzOiBbXSxcbiAgICB9KTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb3N0ID0gYXdhaXQgbmV3UG9zdC5zYXZlKCk7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbihwb3N0KVxuICAgIH1cbiAgICBjYXRjaChlcnIpe1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oZXJyKVxuICAgIH1cbn1cbmV4cG9ydCBjb25zdCB1cGRhdGVQb3N0ID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG5cbn1cbmV4cG9ydCBjb25zdCBkZWxldGVQb3N0ID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG5cbn1cbiJdfQ==","map":{"version":3,"sources":["post.controller.js"],"names":["Post","require","User","ObjectID","Types","ObjectId","readPost","req","res","next","posts","find","status","json","err","createPost","newPost","posterId","body","message","video","likers","comments","post","save","updatePost","deletePost"],"mappings":";;;;;;;AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,sBAAD,CAApB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,sBAAD,CAApB;;AACA,MAAME,QAAQ,GAAGF,OAAO,CAAC,UAAD,CAAP,CAAoBG,KAApB,CAA0BC,QAA3C;;AAEO,MAAMC,QAAQ,GAAG,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;AAC9C,MAAI;AACA,UAAMC,KAAK,GAAG,MAAMV,IAAI,CAACW,IAAL,EAApB;AACAH,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,KAArB;AACH,GAHD,CAID,OAAMI,GAAN,EAAU;AACLN,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBC,GAArB;AACJ;AACH,CARM;;;;AASA,MAAMC,UAAU,GAAG,OAAOR,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;AAChD,QAAMO,OAAO,GAAG,IAAIhB,IAAJ,CAAS;AACrBiB,IAAAA,QAAQ,EAAEV,GAAG,CAACW,IAAJ,CAASD,QADE;AAErBE,IAAAA,OAAO,EAAEZ,GAAG,CAACW,IAAJ,CAASC,OAFG;AAGrBC,IAAAA,KAAK,EAAEb,GAAG,CAACW,IAAJ,CAASE,KAHK;AAIrBC,IAAAA,MAAM,EAAE,EAJa;AAKrBC,IAAAA,QAAQ,EAAE;AALW,GAAT,CAAhB;;AAOA,MAAI;AACA,UAAMC,IAAI,GAAG,MAAMP,OAAO,CAACQ,IAAR,EAAnB;AACA,WAAOhB,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBU,IAArB,CAAP;AACH,GAHD,CAIA,OAAMT,GAAN,EAAU;AACN,WAAON,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBC,GAArB,CAAP;AACH;AACJ,CAfM;;;;AAgBA,MAAMW,UAAU,GAAG,CAAClB,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB,CAE7C,CAFM;;;;AAGA,MAAMiB,UAAU,GAAG,CAACnB,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB,CAE7C,CAFM","sourceRoot":"/Applications/dossier/mern_project_app2/src/controllers/","sourcesContent":["const Post = require('../models/post.model')\nconst User = require('../models/user.model')\nconst ObjectID = require(\"mongoose\").Types.ObjectId;\n\nexport const readPost = async (req, res, next) => {\n    try {\n        const posts = await Post.find()\n        res.status(200).json(posts)\n    }\n   catch(err){\n        res.status(200).json(err)\n   }\n}\nexport const createPost = async (req, res, next) => {\n    const newPost = new Post({\n        posterId: req.body.posterId, \n        message: req.body.message,\n        video: req.body.video,\n        likers: [],\n        comments: [],\n    });\n    try {\n        const post = await newPost.save();\n        return res.status(201).json(post)\n    }\n    catch(err){\n        return res.status(400).json(err)\n    }\n}\nexport const updatePost = (req, res, next) => {\n\n}\nexport const deletePost = (req, res, next) => {\n\n}\n"]}},"mtime":1651273745772},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/models/post.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nconst mongoose = require('mongoose');\n\nconst PostSchema = new mongoose.Schema({\n  posterId: {\n    type: String,\n    required: true\n  },\n  message: {\n    type: String,\n    trim: true,\n    maxlength: 500\n  },\n  picture: {\n    type: String\n  },\n  video: {\n    type: String\n  },\n  likes: {\n    type: [{\n      commenterId: String,\n      commenterPseudo: String,\n      text: String,\n      timestamp: Number\n    }],\n    required: true\n  }\n}, {\n  timestamps: true\n});\nlet Post = mongoose.model('post', PostSchema);\nmodule.exports = Post;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3QubW9kZWwuanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiUG9zdFNjaGVtYSIsIlNjaGVtYSIsInBvc3RlcklkIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwibWVzc2FnZSIsInRyaW0iLCJtYXhsZW5ndGgiLCJwaWN0dXJlIiwidmlkZW8iLCJsaWtlcyIsImNvbW1lbnRlcklkIiwiY29tbWVudGVyUHNldWRvIiwidGV4dCIsInRpbWVzdGFtcCIsIk51bWJlciIsInRpbWVzdGFtcHMiLCJQb3N0IiwibW9kZWwiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBeEI7O0FBRUEsTUFBTUMsVUFBVSxHQUFHLElBQUlGLFFBQVEsQ0FBQ0csTUFBYixDQUNmO0FBQ0lDLEVBQUFBLFFBQVEsRUFBRztBQUNQQyxJQUFBQSxJQUFJLEVBQUNDLE1BREU7QUFFUEMsSUFBQUEsUUFBUSxFQUFDO0FBRkYsR0FEZjtBQUtJQyxFQUFBQSxPQUFPLEVBQUU7QUFDTEgsSUFBQUEsSUFBSSxFQUFDQyxNQURBO0FBRUxHLElBQUFBLElBQUksRUFBQyxJQUZBO0FBR0xDLElBQUFBLFNBQVMsRUFBQztBQUhMLEdBTGI7QUFVSUMsRUFBQUEsT0FBTyxFQUFFO0FBQ0xOLElBQUFBLElBQUksRUFBQ0M7QUFEQSxHQVZiO0FBYUlNLEVBQUFBLEtBQUssRUFBQztBQUNGUCxJQUFBQSxJQUFJLEVBQUNDO0FBREgsR0FiVjtBQWdCSU8sRUFBQUEsS0FBSyxFQUFDO0FBQ0ZSLElBQUFBLElBQUksRUFBQyxDQUNEO0FBQ0FTLE1BQUFBLFdBQVcsRUFBQ1IsTUFEWjtBQUVBUyxNQUFBQSxlQUFlLEVBQUVULE1BRmpCO0FBR0FVLE1BQUFBLElBQUksRUFBQ1YsTUFITDtBQUlBVyxNQUFBQSxTQUFTLEVBQUNDO0FBSlYsS0FEQyxDQURIO0FBU05YLElBQUFBLFFBQVEsRUFBQztBQVRIO0FBaEJWLENBRGUsRUE2QmY7QUFDSVksRUFBQUEsVUFBVSxFQUFDO0FBRGYsQ0E3QmUsQ0FBbkI7QUFrQ0EsSUFBSUMsSUFBSSxHQUFHcEIsUUFBUSxDQUFDcUIsS0FBVCxDQUFlLE1BQWYsRUFBdUJuQixVQUF2QixDQUFYO0FBQ0FvQixNQUFNLENBQUNDLE9BQVAsR0FBaUJILElBQWpCIiwic291cmNlUm9vdCI6Ii9BcHBsaWNhdGlvbnMvZG9zc2llci9tZXJuX3Byb2plY3RfYXBwMi9zcmMvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcblxuY29uc3QgUG9zdFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXG4gICAgeyAgIFxuICAgICAgICBwb3N0ZXJJZCA6IHtcbiAgICAgICAgICAgIHR5cGU6U3RyaW5nLFxuICAgICAgICAgICAgcmVxdWlyZWQ6dHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZToge1xuICAgICAgICAgICAgdHlwZTpTdHJpbmcsXG4gICAgICAgICAgICB0cmltOnRydWUsXG4gICAgICAgICAgICBtYXhsZW5ndGg6NTAwXG4gICAgICAgIH0sXG4gICAgICAgIHBpY3R1cmU6IHtcbiAgICAgICAgICAgIHR5cGU6U3RyaW5nXG4gICAgICAgIH0sXG4gICAgICAgIHZpZGVvOntcbiAgICAgICAgICAgIHR5cGU6U3RyaW5nXG4gICAgICAgIH0sXG4gICAgICAgIGxpa2VzOntcbiAgICAgICAgICAgIHR5cGU6W1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb21tZW50ZXJJZDpTdHJpbmcsXG4gICAgICAgICAgICAgICAgY29tbWVudGVyUHNldWRvOiBTdHJpbmcsXG4gICAgICAgICAgICAgICAgdGV4dDpTdHJpbmcsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOk51bWJlclxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICByZXF1aXJlZDp0cnVlLFxuICAgICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICB0aW1lc3RhbXBzOnRydWVcbiAgICB9IFxuKTtcblxubGV0IFBvc3QgPSBtb25nb29zZS5tb2RlbCgncG9zdCcsIFBvc3RTY2hlbWEpXG5tb2R1bGUuZXhwb3J0cyA9IFBvc3Q7Il19","map":{"version":3,"sources":["post.model.js"],"names":["mongoose","require","PostSchema","Schema","posterId","type","String","required","message","trim","maxlength","picture","video","likes","commenterId","commenterPseudo","text","timestamp","Number","timestamps","Post","model","module","exports"],"mappings":";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAEA,MAAMC,UAAU,GAAG,IAAIF,QAAQ,CAACG,MAAb,CACf;AACIC,EAAAA,QAAQ,EAAG;AACPC,IAAAA,IAAI,EAACC,MADE;AAEPC,IAAAA,QAAQ,EAAC;AAFF,GADf;AAKIC,EAAAA,OAAO,EAAE;AACLH,IAAAA,IAAI,EAACC,MADA;AAELG,IAAAA,IAAI,EAAC,IAFA;AAGLC,IAAAA,SAAS,EAAC;AAHL,GALb;AAUIC,EAAAA,OAAO,EAAE;AACLN,IAAAA,IAAI,EAACC;AADA,GAVb;AAaIM,EAAAA,KAAK,EAAC;AACFP,IAAAA,IAAI,EAACC;AADH,GAbV;AAgBIO,EAAAA,KAAK,EAAC;AACFR,IAAAA,IAAI,EAAC,CACD;AACAS,MAAAA,WAAW,EAACR,MADZ;AAEAS,MAAAA,eAAe,EAAET,MAFjB;AAGAU,MAAAA,IAAI,EAACV,MAHL;AAIAW,MAAAA,SAAS,EAACC;AAJV,KADC,CADH;AASNX,IAAAA,QAAQ,EAAC;AATH;AAhBV,CADe,EA6Bf;AACIY,EAAAA,UAAU,EAAC;AADf,CA7Be,CAAnB;AAkCA,IAAIC,IAAI,GAAGpB,QAAQ,CAACqB,KAAT,CAAe,MAAf,EAAuBnB,UAAvB,CAAX;AACAoB,MAAM,CAACC,OAAP,GAAiBH,IAAjB","sourceRoot":"/Applications/dossier/mern_project_app2/src/models/","sourcesContent":["const mongoose = require('mongoose');\n\nconst PostSchema = new mongoose.Schema(\n    {   \n        posterId : {\n            type:String,\n            required:true,\n        },\n        message: {\n            type:String,\n            trim:true,\n            maxlength:500\n        },\n        picture: {\n            type:String\n        },\n        video:{\n            type:String\n        },\n        likes:{\n            type:[\n                {\n                commenterId:String,\n                commenterPseudo: String,\n                text:String,\n                timestamp:Number\n            }\n        ],\n        required:true,\n        },\n    },\n    {\n        timestamps:true\n    } \n);\n\nlet Post = mongoose.model('post', PostSchema)\nmodule.exports = Post;"]}},"mtime":1651273435008},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/models/user.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nconst mongoose = require('mongoose');\n\nconst {\n  isEmail\n} = require('validator');\n\nconst bcrypt = require('bcrypt');\n\nconst Schema = mongoose.Schema;\nconst UserSchema = new Schema({\n  pseudo: {\n    type: String,\n    required: true,\n    minlength: 3,\n    maxlength: 55,\n    unique: true,\n    trim: true\n  },\n  email: {\n    type: String,\n    required: true,\n    validate: [isEmail],\n    lowercase: true,\n    unique: true,\n    trim: true\n  },\n  password: {\n    type: String,\n    required: true,\n    max: 1024,\n    minlength: 6\n  },\n  picture: {\n    type: String,\n    default: \"./uploads/profile/random-user.png\"\n  },\n  bio: {\n    type: String,\n    max: 1024\n  },\n  followers: {\n    type: [String]\n  },\n  following: {\n    type: [String]\n  },\n  likes: {\n    type: [String]\n  }\n}, {\n  timestamps: true\n}); //play function before save into db to allow crypt password\n// le next veut dire quand t'a fini passe à la suite\n\nUserSchema.pre('save', async function (next) {\n  const salt = await bcrypt.genSalt();\n  this.password = await bcrypt.hash(this.password, salt);\n  next();\n}); //c'est ce qui va nous permettre de comparer le password crypté de notre user en base de données avec celui utilise pdt le login d'un user\n\nUserSchema.statics.login = async function (email, password) {\n  const user = await this.findOne({\n    email: email\n  });\n\n  if (user) {\n    const auth = await bcrypt.compare(password, user.password);\n\n    if (auth) {\n      return user;\n    } else {\n      throw Error('Incorrect password');\n    }\n  }\n\n  throw Error('Incorrect password');\n};\n\nlet User = mongoose.model('User', UserSchema);\nmodule.exports = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIubW9kZWwuanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiaXNFbWFpbCIsImJjcnlwdCIsIlNjaGVtYSIsIlVzZXJTY2hlbWEiLCJwc2V1ZG8iLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJtaW5sZW5ndGgiLCJtYXhsZW5ndGgiLCJ1bmlxdWUiLCJ0cmltIiwiZW1haWwiLCJ2YWxpZGF0ZSIsImxvd2VyY2FzZSIsInBhc3N3b3JkIiwibWF4IiwicGljdHVyZSIsImRlZmF1bHQiLCJiaW8iLCJmb2xsb3dlcnMiLCJmb2xsb3dpbmciLCJsaWtlcyIsInRpbWVzdGFtcHMiLCJwcmUiLCJuZXh0Iiwic2FsdCIsImdlblNhbHQiLCJoYXNoIiwic3RhdGljcyIsImxvZ2luIiwidXNlciIsImZpbmRPbmUiLCJhdXRoIiwiY29tcGFyZSIsIkVycm9yIiwiVXNlciIsIm1vZGVsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQXhCOztBQUNBLE1BQU07QUFBQ0MsRUFBQUE7QUFBRCxJQUFZRCxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxNQUFNRSxNQUFNLEdBQUdGLE9BQU8sQ0FBQyxRQUFELENBQXRCOztBQUVBLE1BQU1HLE1BQU0sR0FBR0osUUFBUSxDQUFDSSxNQUF4QjtBQUNBLE1BQU1DLFVBQVUsR0FBRyxJQUFJRCxNQUFKLENBQVc7QUFDMUJFLEVBQUFBLE1BQU0sRUFBRTtBQUNKQyxJQUFBQSxJQUFJLEVBQUVDLE1BREY7QUFFSkMsSUFBQUEsUUFBUSxFQUFDLElBRkw7QUFHSkMsSUFBQUEsU0FBUyxFQUFFLENBSFA7QUFJSkMsSUFBQUEsU0FBUyxFQUFDLEVBSk47QUFLSkMsSUFBQUEsTUFBTSxFQUFDLElBTEg7QUFNSkMsSUFBQUEsSUFBSSxFQUFDO0FBTkQsR0FEa0I7QUFTMUJDLEVBQUFBLEtBQUssRUFBQztBQUNGUCxJQUFBQSxJQUFJLEVBQUNDLE1BREg7QUFFRkMsSUFBQUEsUUFBUSxFQUFDLElBRlA7QUFHRk0sSUFBQUEsUUFBUSxFQUFDLENBQUNiLE9BQUQsQ0FIUDtBQUlGYyxJQUFBQSxTQUFTLEVBQUMsSUFKUjtBQUtGSixJQUFBQSxNQUFNLEVBQUMsSUFMTDtBQU1GQyxJQUFBQSxJQUFJLEVBQUM7QUFOSCxHQVRvQjtBQWlCMUJJLEVBQUFBLFFBQVEsRUFBQztBQUNMVixJQUFBQSxJQUFJLEVBQUNDLE1BREE7QUFFTEMsSUFBQUEsUUFBUSxFQUFDLElBRko7QUFHTFMsSUFBQUEsR0FBRyxFQUFDLElBSEM7QUFJTFIsSUFBQUEsU0FBUyxFQUFDO0FBSkwsR0FqQmlCO0FBdUIxQlMsRUFBQUEsT0FBTyxFQUFDO0FBQ0paLElBQUFBLElBQUksRUFBQ0MsTUFERDtBQUVKWSxJQUFBQSxPQUFPLEVBQUM7QUFGSixHQXZCa0I7QUEyQjFCQyxFQUFBQSxHQUFHLEVBQUM7QUFDQWQsSUFBQUEsSUFBSSxFQUFDQyxNQURMO0FBRUFVLElBQUFBLEdBQUcsRUFBQztBQUZKLEdBM0JzQjtBQStCMUJJLEVBQUFBLFNBQVMsRUFBRTtBQUNQZixJQUFBQSxJQUFJLEVBQUMsQ0FBQ0MsTUFBRDtBQURFLEdBL0JlO0FBa0MxQmUsRUFBQUEsU0FBUyxFQUFDO0FBQ05oQixJQUFBQSxJQUFJLEVBQUMsQ0FBQ0MsTUFBRDtBQURDLEdBbENnQjtBQXFDMUJnQixFQUFBQSxLQUFLLEVBQUU7QUFDSGpCLElBQUFBLElBQUksRUFBQyxDQUFDQyxNQUFEO0FBREY7QUFyQ21CLENBQVgsRUF3Q2hCO0FBQ0NpQixFQUFBQSxVQUFVLEVBQUM7QUFEWixDQXhDZ0IsQ0FBbkIsQyxDQTZDQTtBQUNBOztBQUNBcEIsVUFBVSxDQUFDcUIsR0FBWCxDQUFlLE1BQWYsRUFBdUIsZ0JBQWdCQyxJQUFoQixFQUFxQjtBQUN4QyxRQUFNQyxJQUFJLEdBQUcsTUFBTXpCLE1BQU0sQ0FBQzBCLE9BQVAsRUFBbkI7QUFDQSxPQUFLWixRQUFMLEdBQWdCLE1BQU1kLE1BQU0sQ0FBQzJCLElBQVAsQ0FBWSxLQUFLYixRQUFqQixFQUEyQlcsSUFBM0IsQ0FBdEI7QUFDQUQsRUFBQUEsSUFBSTtBQUNQLENBSkQsRSxDQU1BOztBQUNBdEIsVUFBVSxDQUFDMEIsT0FBWCxDQUFtQkMsS0FBbkIsR0FBMkIsZ0JBQWVsQixLQUFmLEVBQXNCRyxRQUF0QixFQUErQjtBQUN0RCxRQUFNZ0IsSUFBSSxHQUFHLE1BQU0sS0FBS0MsT0FBTCxDQUFhO0FBQUNwQixJQUFBQSxLQUFLLEVBQUVBO0FBQVIsR0FBYixDQUFuQjs7QUFDQSxNQUFHbUIsSUFBSCxFQUFRO0FBQ0osVUFBTUUsSUFBSSxHQUFHLE1BQU1oQyxNQUFNLENBQUNpQyxPQUFQLENBQWVuQixRQUFmLEVBQXlCZ0IsSUFBSSxDQUFDaEIsUUFBOUIsQ0FBbkI7O0FBQ0EsUUFBR2tCLElBQUgsRUFBUTtBQUNKLGFBQU9GLElBQVA7QUFDSCxLQUZELE1BR0k7QUFDQSxZQUFNSSxLQUFLLENBQUMsb0JBQUQsQ0FBWDtBQUNIO0FBQ0o7O0FBQ0QsUUFBTUEsS0FBSyxDQUFDLG9CQUFELENBQVg7QUFDSCxDQVpEOztBQWFBLElBQUlDLElBQUksR0FBR3RDLFFBQVEsQ0FBQ3VDLEtBQVQsQ0FBZSxNQUFmLEVBQXVCbEMsVUFBdkIsQ0FBWDtBQUNBbUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCSCxJQUFqQiIsInNvdXJjZVJvb3QiOiIvQXBwbGljYXRpb25zL2Rvc3NpZXIvbWVybl9wcm9qZWN0X2FwcDIvc3JjL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XG5jb25zdCB7aXNFbWFpbH0gPSByZXF1aXJlKCd2YWxpZGF0b3InKTtcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdCcpO1xuXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XG5jb25zdCBVc2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gICAgcHNldWRvOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6dHJ1ZSxcbiAgICAgICAgbWlubGVuZ3RoOiAzLCBcbiAgICAgICAgbWF4bGVuZ3RoOjU1LCBcbiAgICAgICAgdW5pcXVlOnRydWUsXG4gICAgICAgIHRyaW06dHJ1ZVxuICAgIH0sXG4gICAgZW1haWw6e1xuICAgICAgICB0eXBlOlN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6dHJ1ZSxcbiAgICAgICAgdmFsaWRhdGU6W2lzRW1haWxdLFxuICAgICAgICBsb3dlcmNhc2U6dHJ1ZSwgICAgICAgIFxuICAgICAgICB1bmlxdWU6dHJ1ZSxcbiAgICAgICAgdHJpbTp0cnVlLFxuICAgIH0sXG4gICAgcGFzc3dvcmQ6e1xuICAgICAgICB0eXBlOlN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6dHJ1ZSxcbiAgICAgICAgbWF4OjEwMjQsXG4gICAgICAgIG1pbmxlbmd0aDo2XG4gICAgfSxcbiAgICBwaWN0dXJlOntcbiAgICAgICAgdHlwZTpTdHJpbmcsXG4gICAgICAgIGRlZmF1bHQ6XCIuL3VwbG9hZHMvcHJvZmlsZS9yYW5kb20tdXNlci5wbmdcIlxuICAgIH0sXG4gICAgYmlvOntcbiAgICAgICAgdHlwZTpTdHJpbmcsXG4gICAgICAgIG1heDoxMDI0XG4gICAgfSxcbiAgICBmb2xsb3dlcnM6IHtcbiAgICAgICAgdHlwZTpbU3RyaW5nXSxcbiAgICB9LFxuICAgIGZvbGxvd2luZzp7XG4gICAgICAgIHR5cGU6W1N0cmluZ10sXG4gICAgfSxcbiAgICBsaWtlczoge1xuICAgICAgICB0eXBlOltTdHJpbmddLFxuICAgIH1cbn0sIHtcbiAgICB0aW1lc3RhbXBzOnRydWVcbn1cbik7XG5cbi8vcGxheSBmdW5jdGlvbiBiZWZvcmUgc2F2ZSBpbnRvIGRiIHRvIGFsbG93IGNyeXB0IHBhc3N3b3JkXG4vLyBsZSBuZXh0IHZldXQgZGlyZSBxdWFuZCB0J2EgZmluaSBwYXNzZSDDoCBsYSBzdWl0ZVxuVXNlclNjaGVtYS5wcmUoJ3NhdmUnLCBhc3luYyBmdW5jdGlvbiAobmV4dCl7XG4gICAgY29uc3Qgc2FsdCA9IGF3YWl0IGJjcnlwdC5nZW5TYWx0KCk7XG4gICAgdGhpcy5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHRoaXMucGFzc3dvcmQsIHNhbHQpO1xuICAgIG5leHQoKTtcbn0pXG5cbi8vYydlc3QgY2UgcXVpIHZhIG5vdXMgcGVybWV0dHJlIGRlIGNvbXBhcmVyIGxlIHBhc3N3b3JkIGNyeXB0w6kgZGUgbm90cmUgdXNlciBlbiBiYXNlIGRlIGRvbm7DqWVzIGF2ZWMgY2VsdWkgdXRpbGlzZSBwZHQgbGUgbG9naW4gZCd1biB1c2VyXG5Vc2VyU2NoZW1hLnN0YXRpY3MubG9naW4gPSBhc3luYyBmdW5jdGlvbihlbWFpbCwgcGFzc3dvcmQpe1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLmZpbmRPbmUoe2VtYWlsOiBlbWFpbH0pO1xuICAgIGlmKHVzZXIpe1xuICAgICAgICBjb25zdCBhdXRoID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpXG4gICAgICAgIGlmKGF1dGgpe1xuICAgICAgICAgICAgcmV0dXJuIHVzZXJcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0luY29ycmVjdCBwYXNzd29yZCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IEVycm9yKCdJbmNvcnJlY3QgcGFzc3dvcmQnKTtcbn1cbmxldCBVc2VyID0gbW9uZ29vc2UubW9kZWwoJ1VzZXInLCBVc2VyU2NoZW1hKTtcbm1vZHVsZS5leHBvcnRzID0gVXNlcjsiXX0=","map":{"version":3,"sources":["user.model.js"],"names":["mongoose","require","isEmail","bcrypt","Schema","UserSchema","pseudo","type","String","required","minlength","maxlength","unique","trim","email","validate","lowercase","password","max","picture","default","bio","followers","following","likes","timestamps","pre","next","salt","genSalt","hash","statics","login","user","findOne","auth","compare","Error","User","model","module","exports"],"mappings":";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAM;AAACC,EAAAA;AAAD,IAAYD,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAME,MAAM,GAAGF,OAAO,CAAC,QAAD,CAAtB;;AAEA,MAAMG,MAAM,GAAGJ,QAAQ,CAACI,MAAxB;AACA,MAAMC,UAAU,GAAG,IAAID,MAAJ,CAAW;AAC1BE,EAAAA,MAAM,EAAE;AACJC,IAAAA,IAAI,EAAEC,MADF;AAEJC,IAAAA,QAAQ,EAAC,IAFL;AAGJC,IAAAA,SAAS,EAAE,CAHP;AAIJC,IAAAA,SAAS,EAAC,EAJN;AAKJC,IAAAA,MAAM,EAAC,IALH;AAMJC,IAAAA,IAAI,EAAC;AAND,GADkB;AAS1BC,EAAAA,KAAK,EAAC;AACFP,IAAAA,IAAI,EAACC,MADH;AAEFC,IAAAA,QAAQ,EAAC,IAFP;AAGFM,IAAAA,QAAQ,EAAC,CAACb,OAAD,CAHP;AAIFc,IAAAA,SAAS,EAAC,IAJR;AAKFJ,IAAAA,MAAM,EAAC,IALL;AAMFC,IAAAA,IAAI,EAAC;AANH,GAToB;AAiB1BI,EAAAA,QAAQ,EAAC;AACLV,IAAAA,IAAI,EAACC,MADA;AAELC,IAAAA,QAAQ,EAAC,IAFJ;AAGLS,IAAAA,GAAG,EAAC,IAHC;AAILR,IAAAA,SAAS,EAAC;AAJL,GAjBiB;AAuB1BS,EAAAA,OAAO,EAAC;AACJZ,IAAAA,IAAI,EAACC,MADD;AAEJY,IAAAA,OAAO,EAAC;AAFJ,GAvBkB;AA2B1BC,EAAAA,GAAG,EAAC;AACAd,IAAAA,IAAI,EAACC,MADL;AAEAU,IAAAA,GAAG,EAAC;AAFJ,GA3BsB;AA+B1BI,EAAAA,SAAS,EAAE;AACPf,IAAAA,IAAI,EAAC,CAACC,MAAD;AADE,GA/Be;AAkC1Be,EAAAA,SAAS,EAAC;AACNhB,IAAAA,IAAI,EAAC,CAACC,MAAD;AADC,GAlCgB;AAqC1BgB,EAAAA,KAAK,EAAE;AACHjB,IAAAA,IAAI,EAAC,CAACC,MAAD;AADF;AArCmB,CAAX,EAwChB;AACCiB,EAAAA,UAAU,EAAC;AADZ,CAxCgB,CAAnB,C,CA6CA;AACA;;AACApB,UAAU,CAACqB,GAAX,CAAe,MAAf,EAAuB,gBAAgBC,IAAhB,EAAqB;AACxC,QAAMC,IAAI,GAAG,MAAMzB,MAAM,CAAC0B,OAAP,EAAnB;AACA,OAAKZ,QAAL,GAAgB,MAAMd,MAAM,CAAC2B,IAAP,CAAY,KAAKb,QAAjB,EAA2BW,IAA3B,CAAtB;AACAD,EAAAA,IAAI;AACP,CAJD,E,CAMA;;AACAtB,UAAU,CAAC0B,OAAX,CAAmBC,KAAnB,GAA2B,gBAAelB,KAAf,EAAsBG,QAAtB,EAA+B;AACtD,QAAMgB,IAAI,GAAG,MAAM,KAAKC,OAAL,CAAa;AAACpB,IAAAA,KAAK,EAAEA;AAAR,GAAb,CAAnB;;AACA,MAAGmB,IAAH,EAAQ;AACJ,UAAME,IAAI,GAAG,MAAMhC,MAAM,CAACiC,OAAP,CAAenB,QAAf,EAAyBgB,IAAI,CAAChB,QAA9B,CAAnB;;AACA,QAAGkB,IAAH,EAAQ;AACJ,aAAOF,IAAP;AACH,KAFD,MAGI;AACA,YAAMI,KAAK,CAAC,oBAAD,CAAX;AACH;AACJ;;AACD,QAAMA,KAAK,CAAC,oBAAD,CAAX;AACH,CAZD;;AAaA,IAAIC,IAAI,GAAGtC,QAAQ,CAACuC,KAAT,CAAe,MAAf,EAAuBlC,UAAvB,CAAX;AACAmC,MAAM,CAACC,OAAP,GAAiBH,IAAjB","sourceRoot":"/Applications/dossier/mern_project_app2/src/models/","sourcesContent":["const mongoose = require('mongoose');\nconst {isEmail} = require('validator');\nconst bcrypt = require('bcrypt');\n\nconst Schema = mongoose.Schema;\nconst UserSchema = new Schema({\n    pseudo: {\n        type: String,\n        required:true,\n        minlength: 3, \n        maxlength:55, \n        unique:true,\n        trim:true\n    },\n    email:{\n        type:String,\n        required:true,\n        validate:[isEmail],\n        lowercase:true,        \n        unique:true,\n        trim:true,\n    },\n    password:{\n        type:String,\n        required:true,\n        max:1024,\n        minlength:6\n    },\n    picture:{\n        type:String,\n        default:\"./uploads/profile/random-user.png\"\n    },\n    bio:{\n        type:String,\n        max:1024\n    },\n    followers: {\n        type:[String],\n    },\n    following:{\n        type:[String],\n    },\n    likes: {\n        type:[String],\n    }\n}, {\n    timestamps:true\n}\n);\n\n//play function before save into db to allow crypt password\n// le next veut dire quand t'a fini passe à la suite\nUserSchema.pre('save', async function (next){\n    const salt = await bcrypt.genSalt();\n    this.password = await bcrypt.hash(this.password, salt);\n    next();\n})\n\n//c'est ce qui va nous permettre de comparer le password crypté de notre user en base de données avec celui utilise pdt le login d'un user\nUserSchema.statics.login = async function(email, password){\n    const user = await this.findOne({email: email});\n    if(user){\n        const auth = await bcrypt.compare(password, user.password)\n        if(auth){\n            return user\n        }\n        else{\n            throw Error('Incorrect password');\n        }\n    }\n    throw Error('Incorrect password');\n}\nlet User = mongoose.model('User', UserSchema);\nmodule.exports = User;"]}},"mtime":1651271257003},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/models/user.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nconst mongoose = require('mongoose');\n\nconst {\n  isEmail\n} = require('validator');\n\nconst bcrypt = require('bcrypt');\n\nconst Schema = mongoose.Schema;\nconst UserSchema = new Schema({\n  pseudo: {\n    type: String,\n    required: true,\n    minlength: 3,\n    maxlength: 55,\n    unique: true,\n    trim: true\n  },\n  email: {\n    type: String,\n    required: true,\n    validate: [isEmail],\n    lowercase: true,\n    unique: true,\n    trim: true\n  },\n  password: {\n    type: String,\n    required: true,\n    max: 1024,\n    minlength: 6\n  },\n  picture: {\n    type: String,\n    default: \"./uploads/profile/random-user.png\"\n  },\n  bio: {\n    type: String,\n    max: 1024\n  },\n  followers: {\n    type: [String]\n  },\n  following: {\n    type: [String]\n  },\n  likes: {\n    type: [String]\n  }\n}, {\n  timestamps: true\n}); //play function before save into db to allow crypt password\n// le next veut dire quand t'a fini passe à la suite\n\nUserSchema.pre('save', async function (next) {\n  const salt = await bcrypt.genSalt();\n  this.password = await bcrypt.hash(this.password, salt);\n  next();\n}); //c'est ce qui va nous permettre de comparer le password crypté de notre user en base de données avec celui utilise pdt le login d'un user\n\nUserSchema.statics.login = async function (email, password) {\n  const user = await this.findOne({\n    email: email\n  });\n\n  if (user) {\n    const auth = await bcrypt.compare(password, user.password);\n\n    if (auth) {\n      return user;\n    } else {\n      throw Error('Incorrect password');\n    }\n  }\n\n  throw Error('Incorrect password');\n};\n\nlet User = mongoose.model('User', UserSchema);\nmodule.exports = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIubW9kZWwuanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiaXNFbWFpbCIsImJjcnlwdCIsIlNjaGVtYSIsIlVzZXJTY2hlbWEiLCJwc2V1ZG8iLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJtaW5sZW5ndGgiLCJtYXhsZW5ndGgiLCJ1bmlxdWUiLCJ0cmltIiwiZW1haWwiLCJ2YWxpZGF0ZSIsImxvd2VyY2FzZSIsInBhc3N3b3JkIiwibWF4IiwicGljdHVyZSIsImRlZmF1bHQiLCJiaW8iLCJmb2xsb3dlcnMiLCJmb2xsb3dpbmciLCJsaWtlcyIsInRpbWVzdGFtcHMiLCJwcmUiLCJuZXh0Iiwic2FsdCIsImdlblNhbHQiLCJoYXNoIiwic3RhdGljcyIsImxvZ2luIiwidXNlciIsImZpbmRPbmUiLCJhdXRoIiwiY29tcGFyZSIsIkVycm9yIiwiVXNlciIsIm1vZGVsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQXhCOztBQUNBLE1BQU07QUFBQ0MsRUFBQUE7QUFBRCxJQUFZRCxPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxNQUFNRSxNQUFNLEdBQUdGLE9BQU8sQ0FBQyxRQUFELENBQXRCOztBQUVBLE1BQU1HLE1BQU0sR0FBR0osUUFBUSxDQUFDSSxNQUF4QjtBQUNBLE1BQU1DLFVBQVUsR0FBRyxJQUFJRCxNQUFKLENBQVc7QUFDMUJFLEVBQUFBLE1BQU0sRUFBRTtBQUNKQyxJQUFBQSxJQUFJLEVBQUVDLE1BREY7QUFFSkMsSUFBQUEsUUFBUSxFQUFDLElBRkw7QUFHSkMsSUFBQUEsU0FBUyxFQUFFLENBSFA7QUFJSkMsSUFBQUEsU0FBUyxFQUFDLEVBSk47QUFLSkMsSUFBQUEsTUFBTSxFQUFDLElBTEg7QUFNSkMsSUFBQUEsSUFBSSxFQUFDO0FBTkQsR0FEa0I7QUFTMUJDLEVBQUFBLEtBQUssRUFBQztBQUNGUCxJQUFBQSxJQUFJLEVBQUNDLE1BREg7QUFFRkMsSUFBQUEsUUFBUSxFQUFDLElBRlA7QUFHRk0sSUFBQUEsUUFBUSxFQUFDLENBQUNiLE9BQUQsQ0FIUDtBQUlGYyxJQUFBQSxTQUFTLEVBQUMsSUFKUjtBQUtGSixJQUFBQSxNQUFNLEVBQUMsSUFMTDtBQU1GQyxJQUFBQSxJQUFJLEVBQUM7QUFOSCxHQVRvQjtBQWlCMUJJLEVBQUFBLFFBQVEsRUFBQztBQUNMVixJQUFBQSxJQUFJLEVBQUNDLE1BREE7QUFFTEMsSUFBQUEsUUFBUSxFQUFDLElBRko7QUFHTFMsSUFBQUEsR0FBRyxFQUFDLElBSEM7QUFJTFIsSUFBQUEsU0FBUyxFQUFDO0FBSkwsR0FqQmlCO0FBdUIxQlMsRUFBQUEsT0FBTyxFQUFDO0FBQ0paLElBQUFBLElBQUksRUFBQ0MsTUFERDtBQUVKWSxJQUFBQSxPQUFPLEVBQUM7QUFGSixHQXZCa0I7QUEyQjFCQyxFQUFBQSxHQUFHLEVBQUM7QUFDQWQsSUFBQUEsSUFBSSxFQUFDQyxNQURMO0FBRUFVLElBQUFBLEdBQUcsRUFBQztBQUZKLEdBM0JzQjtBQStCMUJJLEVBQUFBLFNBQVMsRUFBRTtBQUNQZixJQUFBQSxJQUFJLEVBQUMsQ0FBQ0MsTUFBRDtBQURFLEdBL0JlO0FBa0MxQmUsRUFBQUEsU0FBUyxFQUFDO0FBQ05oQixJQUFBQSxJQUFJLEVBQUMsQ0FBQ0MsTUFBRDtBQURDLEdBbENnQjtBQXFDMUJnQixFQUFBQSxLQUFLLEVBQUU7QUFDSGpCLElBQUFBLElBQUksRUFBQyxDQUFDQyxNQUFEO0FBREY7QUFyQ21CLENBQVgsRUF3Q2hCO0FBQ0NpQixFQUFBQSxVQUFVLEVBQUM7QUFEWixDQXhDZ0IsQ0FBbkIsQyxDQTZDQTtBQUNBOztBQUNBcEIsVUFBVSxDQUFDcUIsR0FBWCxDQUFlLE1BQWYsRUFBdUIsZ0JBQWdCQyxJQUFoQixFQUFxQjtBQUN4QyxRQUFNQyxJQUFJLEdBQUcsTUFBTXpCLE1BQU0sQ0FBQzBCLE9BQVAsRUFBbkI7QUFDQSxPQUFLWixRQUFMLEdBQWdCLE1BQU1kLE1BQU0sQ0FBQzJCLElBQVAsQ0FBWSxLQUFLYixRQUFqQixFQUEyQlcsSUFBM0IsQ0FBdEI7QUFDQUQsRUFBQUEsSUFBSTtBQUNQLENBSkQsRSxDQU1BOztBQUNBdEIsVUFBVSxDQUFDMEIsT0FBWCxDQUFtQkMsS0FBbkIsR0FBMkIsZ0JBQWVsQixLQUFmLEVBQXNCRyxRQUF0QixFQUErQjtBQUN0RCxRQUFNZ0IsSUFBSSxHQUFHLE1BQU0sS0FBS0MsT0FBTCxDQUFhO0FBQUNwQixJQUFBQSxLQUFLLEVBQUVBO0FBQVIsR0FBYixDQUFuQjs7QUFDQSxNQUFHbUIsSUFBSCxFQUFRO0FBQ0osVUFBTUUsSUFBSSxHQUFHLE1BQU1oQyxNQUFNLENBQUNpQyxPQUFQLENBQWVuQixRQUFmLEVBQXlCZ0IsSUFBSSxDQUFDaEIsUUFBOUIsQ0FBbkI7O0FBQ0EsUUFBR2tCLElBQUgsRUFBUTtBQUNKLGFBQU9GLElBQVA7QUFDSCxLQUZELE1BR0k7QUFDQSxZQUFNSSxLQUFLLENBQUMsb0JBQUQsQ0FBWDtBQUNIO0FBQ0o7O0FBQ0QsUUFBTUEsS0FBSyxDQUFDLG9CQUFELENBQVg7QUFDSCxDQVpEOztBQWFBLElBQUlDLElBQUksR0FBR3RDLFFBQVEsQ0FBQ3VDLEtBQVQsQ0FBZSxNQUFmLEVBQXVCbEMsVUFBdkIsQ0FBWDtBQUNBbUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCSCxJQUFqQiIsInNvdXJjZVJvb3QiOiIvQXBwbGljYXRpb25zL2Rvc3NpZXIvbWVybl9wcm9qZWN0X2FwcDIvc3JjL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XG5jb25zdCB7aXNFbWFpbH0gPSByZXF1aXJlKCd2YWxpZGF0b3InKTtcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdCcpO1xuXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XG5jb25zdCBVc2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gICAgcHNldWRvOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6dHJ1ZSxcbiAgICAgICAgbWlubGVuZ3RoOiAzLCBcbiAgICAgICAgbWF4bGVuZ3RoOjU1LCBcbiAgICAgICAgdW5pcXVlOnRydWUsXG4gICAgICAgIHRyaW06dHJ1ZVxuICAgIH0sXG4gICAgZW1haWw6e1xuICAgICAgICB0eXBlOlN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6dHJ1ZSxcbiAgICAgICAgdmFsaWRhdGU6W2lzRW1haWxdLFxuICAgICAgICBsb3dlcmNhc2U6dHJ1ZSwgICAgICAgIFxuICAgICAgICB1bmlxdWU6dHJ1ZSxcbiAgICAgICAgdHJpbTp0cnVlLFxuICAgIH0sXG4gICAgcGFzc3dvcmQ6e1xuICAgICAgICB0eXBlOlN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6dHJ1ZSxcbiAgICAgICAgbWF4OjEwMjQsXG4gICAgICAgIG1pbmxlbmd0aDo2XG4gICAgfSxcbiAgICBwaWN0dXJlOntcbiAgICAgICAgdHlwZTpTdHJpbmcsXG4gICAgICAgIGRlZmF1bHQ6XCIuL3VwbG9hZHMvcHJvZmlsZS9yYW5kb20tdXNlci5wbmdcIlxuICAgIH0sXG4gICAgYmlvOntcbiAgICAgICAgdHlwZTpTdHJpbmcsXG4gICAgICAgIG1heDoxMDI0XG4gICAgfSxcbiAgICBmb2xsb3dlcnM6IHtcbiAgICAgICAgdHlwZTpbU3RyaW5nXSxcbiAgICB9LFxuICAgIGZvbGxvd2luZzp7XG4gICAgICAgIHR5cGU6W1N0cmluZ10sXG4gICAgfSxcbiAgICBsaWtlczoge1xuICAgICAgICB0eXBlOltTdHJpbmddLFxuICAgIH1cbn0sIHtcbiAgICB0aW1lc3RhbXBzOnRydWVcbn1cbik7XG5cbi8vcGxheSBmdW5jdGlvbiBiZWZvcmUgc2F2ZSBpbnRvIGRiIHRvIGFsbG93IGNyeXB0IHBhc3N3b3JkXG4vLyBsZSBuZXh0IHZldXQgZGlyZSBxdWFuZCB0J2EgZmluaSBwYXNzZSDDoCBsYSBzdWl0ZVxuVXNlclNjaGVtYS5wcmUoJ3NhdmUnLCBhc3luYyBmdW5jdGlvbiAobmV4dCl7XG4gICAgY29uc3Qgc2FsdCA9IGF3YWl0IGJjcnlwdC5nZW5TYWx0KCk7XG4gICAgdGhpcy5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHRoaXMucGFzc3dvcmQsIHNhbHQpO1xuICAgIG5leHQoKTtcbn0pXG5cbi8vYydlc3QgY2UgcXVpIHZhIG5vdXMgcGVybWV0dHJlIGRlIGNvbXBhcmVyIGxlIHBhc3N3b3JkIGNyeXB0w6kgZGUgbm90cmUgdXNlciBlbiBiYXNlIGRlIGRvbm7DqWVzIGF2ZWMgY2VsdWkgdXRpbGlzZSBwZHQgbGUgbG9naW4gZCd1biB1c2VyXG5Vc2VyU2NoZW1hLnN0YXRpY3MubG9naW4gPSBhc3luYyBmdW5jdGlvbihlbWFpbCwgcGFzc3dvcmQpe1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLmZpbmRPbmUoe2VtYWlsOiBlbWFpbH0pO1xuICAgIGlmKHVzZXIpe1xuICAgICAgICBjb25zdCBhdXRoID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpXG4gICAgICAgIGlmKGF1dGgpe1xuICAgICAgICAgICAgcmV0dXJuIHVzZXJcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0luY29ycmVjdCBwYXNzd29yZCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IEVycm9yKCdJbmNvcnJlY3QgcGFzc3dvcmQnKTtcbn1cbmxldCBVc2VyID0gbW9uZ29vc2UubW9kZWwoJ1VzZXInLCBVc2VyU2NoZW1hKTtcbm1vZHVsZS5leHBvcnRzID0gVXNlcjsiXX0=","map":{"version":3,"sources":["user.model.js"],"names":["mongoose","require","isEmail","bcrypt","Schema","UserSchema","pseudo","type","String","required","minlength","maxlength","unique","trim","email","validate","lowercase","password","max","picture","default","bio","followers","following","likes","timestamps","pre","next","salt","genSalt","hash","statics","login","user","findOne","auth","compare","Error","User","model","module","exports"],"mappings":";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAM;AAACC,EAAAA;AAAD,IAAYD,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAME,MAAM,GAAGF,OAAO,CAAC,QAAD,CAAtB;;AAEA,MAAMG,MAAM,GAAGJ,QAAQ,CAACI,MAAxB;AACA,MAAMC,UAAU,GAAG,IAAID,MAAJ,CAAW;AAC1BE,EAAAA,MAAM,EAAE;AACJC,IAAAA,IAAI,EAAEC,MADF;AAEJC,IAAAA,QAAQ,EAAC,IAFL;AAGJC,IAAAA,SAAS,EAAE,CAHP;AAIJC,IAAAA,SAAS,EAAC,EAJN;AAKJC,IAAAA,MAAM,EAAC,IALH;AAMJC,IAAAA,IAAI,EAAC;AAND,GADkB;AAS1BC,EAAAA,KAAK,EAAC;AACFP,IAAAA,IAAI,EAACC,MADH;AAEFC,IAAAA,QAAQ,EAAC,IAFP;AAGFM,IAAAA,QAAQ,EAAC,CAACb,OAAD,CAHP;AAIFc,IAAAA,SAAS,EAAC,IAJR;AAKFJ,IAAAA,MAAM,EAAC,IALL;AAMFC,IAAAA,IAAI,EAAC;AANH,GAToB;AAiB1BI,EAAAA,QAAQ,EAAC;AACLV,IAAAA,IAAI,EAACC,MADA;AAELC,IAAAA,QAAQ,EAAC,IAFJ;AAGLS,IAAAA,GAAG,EAAC,IAHC;AAILR,IAAAA,SAAS,EAAC;AAJL,GAjBiB;AAuB1BS,EAAAA,OAAO,EAAC;AACJZ,IAAAA,IAAI,EAACC,MADD;AAEJY,IAAAA,OAAO,EAAC;AAFJ,GAvBkB;AA2B1BC,EAAAA,GAAG,EAAC;AACAd,IAAAA,IAAI,EAACC,MADL;AAEAU,IAAAA,GAAG,EAAC;AAFJ,GA3BsB;AA+B1BI,EAAAA,SAAS,EAAE;AACPf,IAAAA,IAAI,EAAC,CAACC,MAAD;AADE,GA/Be;AAkC1Be,EAAAA,SAAS,EAAC;AACNhB,IAAAA,IAAI,EAAC,CAACC,MAAD;AADC,GAlCgB;AAqC1BgB,EAAAA,KAAK,EAAE;AACHjB,IAAAA,IAAI,EAAC,CAACC,MAAD;AADF;AArCmB,CAAX,EAwChB;AACCiB,EAAAA,UAAU,EAAC;AADZ,CAxCgB,CAAnB,C,CA6CA;AACA;;AACApB,UAAU,CAACqB,GAAX,CAAe,MAAf,EAAuB,gBAAgBC,IAAhB,EAAqB;AACxC,QAAMC,IAAI,GAAG,MAAMzB,MAAM,CAAC0B,OAAP,EAAnB;AACA,OAAKZ,QAAL,GAAgB,MAAMd,MAAM,CAAC2B,IAAP,CAAY,KAAKb,QAAjB,EAA2BW,IAA3B,CAAtB;AACAD,EAAAA,IAAI;AACP,CAJD,E,CAMA;;AACAtB,UAAU,CAAC0B,OAAX,CAAmBC,KAAnB,GAA2B,gBAAelB,KAAf,EAAsBG,QAAtB,EAA+B;AACtD,QAAMgB,IAAI,GAAG,MAAM,KAAKC,OAAL,CAAa;AAACpB,IAAAA,KAAK,EAAEA;AAAR,GAAb,CAAnB;;AACA,MAAGmB,IAAH,EAAQ;AACJ,UAAME,IAAI,GAAG,MAAMhC,MAAM,CAACiC,OAAP,CAAenB,QAAf,EAAyBgB,IAAI,CAAChB,QAA9B,CAAnB;;AACA,QAAGkB,IAAH,EAAQ;AACJ,aAAOF,IAAP;AACH,KAFD,MAGI;AACA,YAAMI,KAAK,CAAC,oBAAD,CAAX;AACH;AACJ;;AACD,QAAMA,KAAK,CAAC,oBAAD,CAAX;AACH,CAZD;;AAaA,IAAIC,IAAI,GAAGtC,QAAQ,CAACuC,KAAT,CAAe,MAAf,EAAuBlC,UAAvB,CAAX;AACAmC,MAAM,CAACC,OAAP,GAAiBH,IAAjB","sourceRoot":"/Applications/dossier/mern_project_app2/src/models/","sourcesContent":["const mongoose = require('mongoose');\nconst {isEmail} = require('validator');\nconst bcrypt = require('bcrypt');\n\nconst Schema = mongoose.Schema;\nconst UserSchema = new Schema({\n    pseudo: {\n        type: String,\n        required:true,\n        minlength: 3, \n        maxlength:55, \n        unique:true,\n        trim:true\n    },\n    email:{\n        type:String,\n        required:true,\n        validate:[isEmail],\n        lowercase:true,        \n        unique:true,\n        trim:true,\n    },\n    password:{\n        type:String,\n        required:true,\n        max:1024,\n        minlength:6\n    },\n    picture:{\n        type:String,\n        default:\"./uploads/profile/random-user.png\"\n    },\n    bio:{\n        type:String,\n        max:1024\n    },\n    followers: {\n        type:[String],\n    },\n    following:{\n        type:[String],\n    },\n    likes: {\n        type:[String],\n    }\n}, {\n    timestamps:true\n}\n);\n\n//play function before save into db to allow crypt password\n// le next veut dire quand t'a fini passe à la suite\nUserSchema.pre('save', async function (next){\n    const salt = await bcrypt.genSalt();\n    this.password = await bcrypt.hash(this.password, salt);\n    next();\n})\n\n//c'est ce qui va nous permettre de comparer le password crypté de notre user en base de données avec celui utilise pdt le login d'un user\nUserSchema.statics.login = async function(email, password){\n    const user = await this.findOne({email: email});\n    if(user){\n        const auth = await bcrypt.compare(password, user.password)\n        if(auth){\n            return user\n        }\n        else{\n            throw Error('Incorrect password');\n        }\n    }\n    throw Error('Incorrect password');\n}\nlet User = mongoose.model('User', UserSchema);\nmodule.exports = User;"]}},"mtime":1651271257003},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/controllers/post.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updatePost = exports.readPost = exports.deletePost = exports.createPost = void 0;\n\nconst Post = require('../models/post.model');\n\nconst User = require('../models/user.model');\n\nconst ObjectID = require(\"mongoose\").Types.ObjectId;\n\nconst readPost = async (req, res, next) => {\n  try {\n    const posts = await Post.find();\n    res.status(200).json(posts);\n  } catch (err) {\n    res.status(200).json(err);\n  }\n};\n\nexports.readPost = readPost;\n\nconst createPost = async (req, res, next) => {\n  const newPost = new Post({\n    posterId: req.body.posterId,\n    message: req.body.message,\n    video: req.body.video,\n    likers: [],\n    comments: []\n  });\n\n  try {\n    const post = await newPost.save();\n    return res.status(201).json(post);\n  } catch (err) {\n    return res.status(400).json(err);\n  }\n};\n\nexports.createPost = createPost;\n\nconst updatePost = (req, res, next) => {};\n\nexports.updatePost = updatePost;\n\nconst deletePost = (req, res, next) => {};\n\nexports.deletePost = deletePost;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3QuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJQb3N0IiwicmVxdWlyZSIsIlVzZXIiLCJPYmplY3RJRCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWFkUG9zdCIsInJlcSIsInJlcyIsIm5leHQiLCJwb3N0cyIsImZpbmQiLCJzdGF0dXMiLCJqc29uIiwiZXJyIiwiY3JlYXRlUG9zdCIsIm5ld1Bvc3QiLCJwb3N0ZXJJZCIsImJvZHkiLCJtZXNzYWdlIiwidmlkZW8iLCJsaWtlcnMiLCJjb21tZW50cyIsInBvc3QiLCJzYXZlIiwidXBkYXRlUG9zdCIsImRlbGV0ZVBvc3QiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxzQkFBRCxDQUFwQjs7QUFDQSxNQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQyxzQkFBRCxDQUFwQjs7QUFDQSxNQUFNRSxRQUFRLEdBQUdGLE9BQU8sQ0FBQyxVQUFELENBQVAsQ0FBb0JHLEtBQXBCLENBQTBCQyxRQUEzQzs7QUFFTyxNQUFNQyxRQUFRLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEVBQWlCQyxJQUFqQixLQUEwQjtBQUM5QyxNQUFJO0FBQ0EsVUFBTUMsS0FBSyxHQUFHLE1BQU1WLElBQUksQ0FBQ1csSUFBTCxFQUFwQjtBQUNBSCxJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQkgsS0FBckI7QUFDSCxHQUhELENBSUQsT0FBTUksR0FBTixFQUFVO0FBQ0xOLElBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCQyxHQUFyQjtBQUNKO0FBQ0gsQ0FSTTs7OztBQVNBLE1BQU1DLFVBQVUsR0FBRyxPQUFPUixHQUFQLEVBQVlDLEdBQVosRUFBaUJDLElBQWpCLEtBQTBCO0FBQ2hELFFBQU1PLE9BQU8sR0FBRyxJQUFJaEIsSUFBSixDQUFTO0FBQ3JCaUIsSUFBQUEsUUFBUSxFQUFFVixHQUFHLENBQUNXLElBQUosQ0FBU0QsUUFERTtBQUVyQkUsSUFBQUEsT0FBTyxFQUFFWixHQUFHLENBQUNXLElBQUosQ0FBU0MsT0FGRztBQUdyQkMsSUFBQUEsS0FBSyxFQUFFYixHQUFHLENBQUNXLElBQUosQ0FBU0UsS0FISztBQUlyQkMsSUFBQUEsTUFBTSxFQUFFLEVBSmE7QUFLckJDLElBQUFBLFFBQVEsRUFBRTtBQUxXLEdBQVQsQ0FBaEI7O0FBT0EsTUFBSTtBQUNBLFVBQU1DLElBQUksR0FBRyxNQUFNUCxPQUFPLENBQUNRLElBQVIsRUFBbkI7QUFDQSxXQUFPaEIsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJVLElBQXJCLENBQVA7QUFDSCxHQUhELENBSUEsT0FBTVQsR0FBTixFQUFVO0FBQ04sV0FBT04sR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJDLEdBQXJCLENBQVA7QUFDSDtBQUNKLENBZk07Ozs7QUFnQkEsTUFBTVcsVUFBVSxHQUFHLENBQUNsQixHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQixDQUU3QyxDQUZNOzs7O0FBR0EsTUFBTWlCLFVBQVUsR0FBRyxDQUFDbkIsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0IsQ0FFN0MsQ0FGTSIsInNvdXJjZVJvb3QiOiIvQXBwbGljYXRpb25zL2Rvc3NpZXIvbWVybl9wcm9qZWN0X2FwcDIvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFBvc3QgPSByZXF1aXJlKCcuLi9tb2RlbHMvcG9zdC5tb2RlbCcpXG5jb25zdCBVc2VyID0gcmVxdWlyZSgnLi4vbW9kZWxzL3VzZXIubW9kZWwnKVxuY29uc3QgT2JqZWN0SUQgPSByZXF1aXJlKFwibW9uZ29vc2VcIikuVHlwZXMuT2JqZWN0SWQ7XG5cbmV4cG9ydCBjb25zdCByZWFkUG9zdCA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvc3RzID0gYXdhaXQgUG9zdC5maW5kKClcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ocG9zdHMpXG4gICAgfVxuICAgY2F0Y2goZXJyKXtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oZXJyKVxuICAgfVxufVxuZXhwb3J0IGNvbnN0IGNyZWF0ZVBvc3QgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBuZXdQb3N0ID0gbmV3IFBvc3Qoe1xuICAgICAgICBwb3N0ZXJJZDogcmVxLmJvZHkucG9zdGVySWQsIFxuICAgICAgICBtZXNzYWdlOiByZXEuYm9keS5tZXNzYWdlLFxuICAgICAgICB2aWRlbzogcmVxLmJvZHkudmlkZW8sXG4gICAgICAgIGxpa2VyczogW10sXG4gICAgICAgIGNvbW1lbnRzOiBbXSxcbiAgICB9KTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb3N0ID0gYXdhaXQgbmV3UG9zdC5zYXZlKCk7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbihwb3N0KVxuICAgIH1cbiAgICBjYXRjaChlcnIpe1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oZXJyKVxuICAgIH1cbn1cbmV4cG9ydCBjb25zdCB1cGRhdGVQb3N0ID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG5cbn1cbmV4cG9ydCBjb25zdCBkZWxldGVQb3N0ID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG5cbn1cbiJdfQ==","map":{"version":3,"sources":["post.controller.js"],"names":["Post","require","User","ObjectID","Types","ObjectId","readPost","req","res","next","posts","find","status","json","err","createPost","newPost","posterId","body","message","video","likers","comments","post","save","updatePost","deletePost"],"mappings":";;;;;;;AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,sBAAD,CAApB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,sBAAD,CAApB;;AACA,MAAME,QAAQ,GAAGF,OAAO,CAAC,UAAD,CAAP,CAAoBG,KAApB,CAA0BC,QAA3C;;AAEO,MAAMC,QAAQ,GAAG,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;AAC9C,MAAI;AACA,UAAMC,KAAK,GAAG,MAAMV,IAAI,CAACW,IAAL,EAApB;AACAH,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,KAArB;AACH,GAHD,CAID,OAAMI,GAAN,EAAU;AACLN,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBC,GAArB;AACJ;AACH,CARM;;;;AASA,MAAMC,UAAU,GAAG,OAAOR,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;AAChD,QAAMO,OAAO,GAAG,IAAIhB,IAAJ,CAAS;AACrBiB,IAAAA,QAAQ,EAAEV,GAAG,CAACW,IAAJ,CAASD,QADE;AAErBE,IAAAA,OAAO,EAAEZ,GAAG,CAACW,IAAJ,CAASC,OAFG;AAGrBC,IAAAA,KAAK,EAAEb,GAAG,CAACW,IAAJ,CAASE,KAHK;AAIrBC,IAAAA,MAAM,EAAE,EAJa;AAKrBC,IAAAA,QAAQ,EAAE;AALW,GAAT,CAAhB;;AAOA,MAAI;AACA,UAAMC,IAAI,GAAG,MAAMP,OAAO,CAACQ,IAAR,EAAnB;AACA,WAAOhB,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBU,IAArB,CAAP;AACH,GAHD,CAIA,OAAMT,GAAN,EAAU;AACN,WAAON,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBC,GAArB,CAAP;AACH;AACJ,CAfM;;;;AAgBA,MAAMW,UAAU,GAAG,CAAClB,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB,CAE7C,CAFM;;;;AAGA,MAAMiB,UAAU,GAAG,CAACnB,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB,CAE7C,CAFM","sourceRoot":"/Applications/dossier/mern_project_app2/src/controllers/","sourcesContent":["const Post = require('../models/post.model')\nconst User = require('../models/user.model')\nconst ObjectID = require(\"mongoose\").Types.ObjectId;\n\nexport const readPost = async (req, res, next) => {\n    try {\n        const posts = await Post.find()\n        res.status(200).json(posts)\n    }\n   catch(err){\n        res.status(200).json(err)\n   }\n}\nexport const createPost = async (req, res, next) => {\n    const newPost = new Post({\n        posterId: req.body.posterId, \n        message: req.body.message,\n        video: req.body.video,\n        likers: [],\n        comments: [],\n    });\n    try {\n        const post = await newPost.save();\n        return res.status(201).json(post)\n    }\n    catch(err){\n        return res.status(400).json(err)\n    }\n}\nexport const updatePost = (req, res, next) => {\n\n}\nexport const deletePost = (req, res, next) => {\n\n}\n"]}},"mtime":1651273745772},"{\"assumptions\":{},\"sourceRoot\":\"/Applications/dossier/mern_project_app2/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Applications/dossier/mern_project_app2\",\"filename\":\"/Applications/dossier/mern_project_app2/src/models/post.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Applications/dossier/mern_project_app2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nconst mongoose = require('mongoose');\n\nconst PostSchema = new mongoose.Schema({\n  posterId: {\n    type: String,\n    required: true\n  },\n  message: {\n    type: String,\n    trim: true,\n    maxlength: 500\n  },\n  picture: {\n    type: String\n  },\n  video: {\n    type: String\n  },\n  likes: {\n    type: [{\n      commenterId: String,\n      commenterPseudo: String,\n      text: String,\n      timestamp: Number\n    }],\n    required: true\n  }\n}, {\n  timestamps: true\n});\nlet Post = mongoose.model('post', PostSchema);\nmodule.exports = Post;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3QubW9kZWwuanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiUG9zdFNjaGVtYSIsIlNjaGVtYSIsInBvc3RlcklkIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwibWVzc2FnZSIsInRyaW0iLCJtYXhsZW5ndGgiLCJwaWN0dXJlIiwidmlkZW8iLCJsaWtlcyIsImNvbW1lbnRlcklkIiwiY29tbWVudGVyUHNldWRvIiwidGV4dCIsInRpbWVzdGFtcCIsIk51bWJlciIsInRpbWVzdGFtcHMiLCJQb3N0IiwibW9kZWwiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBeEI7O0FBRUEsTUFBTUMsVUFBVSxHQUFHLElBQUlGLFFBQVEsQ0FBQ0csTUFBYixDQUNmO0FBQ0lDLEVBQUFBLFFBQVEsRUFBRztBQUNQQyxJQUFBQSxJQUFJLEVBQUNDLE1BREU7QUFFUEMsSUFBQUEsUUFBUSxFQUFDO0FBRkYsR0FEZjtBQUtJQyxFQUFBQSxPQUFPLEVBQUU7QUFDTEgsSUFBQUEsSUFBSSxFQUFDQyxNQURBO0FBRUxHLElBQUFBLElBQUksRUFBQyxJQUZBO0FBR0xDLElBQUFBLFNBQVMsRUFBQztBQUhMLEdBTGI7QUFVSUMsRUFBQUEsT0FBTyxFQUFFO0FBQ0xOLElBQUFBLElBQUksRUFBQ0M7QUFEQSxHQVZiO0FBYUlNLEVBQUFBLEtBQUssRUFBQztBQUNGUCxJQUFBQSxJQUFJLEVBQUNDO0FBREgsR0FiVjtBQWdCSU8sRUFBQUEsS0FBSyxFQUFDO0FBQ0ZSLElBQUFBLElBQUksRUFBQyxDQUNEO0FBQ0FTLE1BQUFBLFdBQVcsRUFBQ1IsTUFEWjtBQUVBUyxNQUFBQSxlQUFlLEVBQUVULE1BRmpCO0FBR0FVLE1BQUFBLElBQUksRUFBQ1YsTUFITDtBQUlBVyxNQUFBQSxTQUFTLEVBQUNDO0FBSlYsS0FEQyxDQURIO0FBU05YLElBQUFBLFFBQVEsRUFBQztBQVRIO0FBaEJWLENBRGUsRUE2QmY7QUFDSVksRUFBQUEsVUFBVSxFQUFDO0FBRGYsQ0E3QmUsQ0FBbkI7QUFrQ0EsSUFBSUMsSUFBSSxHQUFHcEIsUUFBUSxDQUFDcUIsS0FBVCxDQUFlLE1BQWYsRUFBdUJuQixVQUF2QixDQUFYO0FBQ0FvQixNQUFNLENBQUNDLE9BQVAsR0FBaUJILElBQWpCIiwic291cmNlUm9vdCI6Ii9BcHBsaWNhdGlvbnMvZG9zc2llci9tZXJuX3Byb2plY3RfYXBwMi9zcmMvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcblxuY29uc3QgUG9zdFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXG4gICAgeyAgIFxuICAgICAgICBwb3N0ZXJJZCA6IHtcbiAgICAgICAgICAgIHR5cGU6U3RyaW5nLFxuICAgICAgICAgICAgcmVxdWlyZWQ6dHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZToge1xuICAgICAgICAgICAgdHlwZTpTdHJpbmcsXG4gICAgICAgICAgICB0cmltOnRydWUsXG4gICAgICAgICAgICBtYXhsZW5ndGg6NTAwXG4gICAgICAgIH0sXG4gICAgICAgIHBpY3R1cmU6IHtcbiAgICAgICAgICAgIHR5cGU6U3RyaW5nXG4gICAgICAgIH0sXG4gICAgICAgIHZpZGVvOntcbiAgICAgICAgICAgIHR5cGU6U3RyaW5nXG4gICAgICAgIH0sXG4gICAgICAgIGxpa2VzOntcbiAgICAgICAgICAgIHR5cGU6W1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb21tZW50ZXJJZDpTdHJpbmcsXG4gICAgICAgICAgICAgICAgY29tbWVudGVyUHNldWRvOiBTdHJpbmcsXG4gICAgICAgICAgICAgICAgdGV4dDpTdHJpbmcsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOk51bWJlclxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICByZXF1aXJlZDp0cnVlLFxuICAgICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICB0aW1lc3RhbXBzOnRydWVcbiAgICB9IFxuKTtcblxubGV0IFBvc3QgPSBtb25nb29zZS5tb2RlbCgncG9zdCcsIFBvc3RTY2hlbWEpXG5tb2R1bGUuZXhwb3J0cyA9IFBvc3Q7Il19","map":{"version":3,"sources":["post.model.js"],"names":["mongoose","require","PostSchema","Schema","posterId","type","String","required","message","trim","maxlength","picture","video","likes","commenterId","commenterPseudo","text","timestamp","Number","timestamps","Post","model","module","exports"],"mappings":";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAEA,MAAMC,UAAU,GAAG,IAAIF,QAAQ,CAACG,MAAb,CACf;AACIC,EAAAA,QAAQ,EAAG;AACPC,IAAAA,IAAI,EAACC,MADE;AAEPC,IAAAA,QAAQ,EAAC;AAFF,GADf;AAKIC,EAAAA,OAAO,EAAE;AACLH,IAAAA,IAAI,EAACC,MADA;AAELG,IAAAA,IAAI,EAAC,IAFA;AAGLC,IAAAA,SAAS,EAAC;AAHL,GALb;AAUIC,EAAAA,OAAO,EAAE;AACLN,IAAAA,IAAI,EAACC;AADA,GAVb;AAaIM,EAAAA,KAAK,EAAC;AACFP,IAAAA,IAAI,EAACC;AADH,GAbV;AAgBIO,EAAAA,KAAK,EAAC;AACFR,IAAAA,IAAI,EAAC,CACD;AACAS,MAAAA,WAAW,EAACR,MADZ;AAEAS,MAAAA,eAAe,EAAET,MAFjB;AAGAU,MAAAA,IAAI,EAACV,MAHL;AAIAW,MAAAA,SAAS,EAACC;AAJV,KADC,CADH;AASNX,IAAAA,QAAQ,EAAC;AATH;AAhBV,CADe,EA6Bf;AACIY,EAAAA,UAAU,EAAC;AADf,CA7Be,CAAnB;AAkCA,IAAIC,IAAI,GAAGpB,QAAQ,CAACqB,KAAT,CAAe,MAAf,EAAuBnB,UAAvB,CAAX;AACAoB,MAAM,CAACC,OAAP,GAAiBH,IAAjB","sourceRoot":"/Applications/dossier/mern_project_app2/src/models/","sourcesContent":["const mongoose = require('mongoose');\n\nconst PostSchema = new mongoose.Schema(\n    {   \n        posterId : {\n            type:String,\n            required:true,\n        },\n        message: {\n            type:String,\n            trim:true,\n            maxlength:500\n        },\n        picture: {\n            type:String\n        },\n        video:{\n            type:String\n        },\n        likes:{\n            type:[\n                {\n                commenterId:String,\n                commenterPseudo: String,\n                text:String,\n                timestamp:Number\n            }\n        ],\n        required:true,\n        },\n    },\n    {\n        timestamps:true\n    } \n);\n\nlet Post = mongoose.model('post', PostSchema)\nmodule.exports = Post;"]}},"mtime":1651273435008}}